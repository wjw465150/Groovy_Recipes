
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title> 第1章 介绍 · Groovy_Recipes(Groovy食谱)</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="WS">
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Groovy_Recipes_ch.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    前言
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_Introduction">
            
                    
                     第1章 介绍
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_1_Groovy__the_Way_Java_Should_Be">
            
                    
                     1.1 Groovy, Java应该是这样的
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_2_Stripping_Away_the_Verbosity">
            
                    
                     1.2 避免冗长
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_3_Groovy__The_Blue_Pill_or_the_Red_Pill_">
            
                    
                     1.3 Groovy:蓝色药丸还是红色药丸?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_4_Road_Map">
            
                    
                     1.4 路线图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#1_5_Acknowledgments">
            
                    
                     1.5 致谢
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_Getting_Started">
            
                    
                     第2章 开始
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_1_Installing_Groovy">
            
                    
                     2.1 安装Groovy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_2_Running_a_Groovy_Script">
            
                    
                     2.2 运行Groovy脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_3_Compiling_Groovy">
            
                    
                     2.3 编译Groovy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_4_Running_the_Groovy_Shell">
            
                    
                     2.4 运行Groovy Shell (groovysh)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_5_Running_the_Groovy_Console">
            
                    
                     2.5 运行Groovy控制台（groovyConsole）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_6_Running_Groovy_on_a_Web_Server">
            
                    
                     2.6 在Web服务器上运行Groovy (groovlet)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_7_Groovy___Eclipse">
            
                    
                     2.7 Groovy结合Eclipse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_8_Groovy___IntelliJ-IDEA">
            
                    
                     2.8 Groovy结合IntelliJ IDEA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_9_Groovy___TextMate">
            
                    
                     2.9 Groovy结合TextMate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#2_10_Groovy____Insert_Your_IDE_or_Text_Editor_Here_">
            
                    
                     2.10 Groovy在此处插入您的IDE或文本编辑器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_New_to_Groovy">
            
                    
                     第3章 Groovy新手
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_1_Automatic_Imports">
            
                    
                     3.1 自动导入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_2_Optional_Semicolons">
            
                    
                     3.2 可选的分号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_3_Optional_Parentheses">
            
                    
                     3.3 可选的括号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_4_Optional_Return_Statements">
            
                    
                     3.4 可选的返回语句
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_5_Optional_Datatype_Declaration__Duck_Typing_">
            
                    
                     3.5 可选数据类型声明(鸭子类型)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_6_Optional_Exception_Handling">
            
                    
                     3.6 可选的异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_7_Operator_Overloading">
            
                    
                     3.7 操作符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_8_Safe_Dereferencing____">
            
                    
                     3.8 安全解除引用(?)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_9_Autoboxing">
            
                    
                     3.9 自动装箱
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_10_Groovy_Truth">
            
                    
                     3.10 Groovy的True
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.11" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_11_Embedded_Quotes">
            
                    
                     3.11 嵌入引号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.12" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_12_Heredocs__Triple_Quotes_">
            
                    
                     3.12 heredoc(三重引号)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.13" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_13_GStrings">
            
                    
                     3.13 Groovy的String
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.14" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_14_List_Shortcuts">
            
                    
                     3.14 列表快捷方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.15" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_15_Map_Shortcuts">
            
                    
                     3.15 映射快捷方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.16" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_16_Ranges">
            
                    
                     3.16 范围
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.17" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#3_17_Closures_and_Blocks">
            
                    
                     3.17 闭包和块
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_Java_and_Groovy_Integration">
            
                    
                     第4章 Java和Groovy集成
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_1_GroovyBeans__aka_POGOs_">
            
                    
                     4.1 Groovy的对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_2_Autogenerated_Getters_and_Setters">
            
                    
                     4.2 自动生成的Getter和Setter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_3_getProperty_and_setProperty">
            
                    
                     4.3 getProperty和setProperty
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_4_Making_Attributes_Read-Only">
            
                    
                     4.4 使属性只读
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_5_Constructor_Shortcut_Syntax">
            
                    
                     4.5 构造函数快捷语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_6_Optional_Parameters_Default_Values">
            
                    
                     4.6 可选参数/默认值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_7_Private_Methods">
            
                    
                     4.7 私有方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_8_Calling_Groovy_from_Java">
            
                    
                     4.8 从Java调用Groovy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_9_Calling_Java_from_Groovy">
            
                    
                     4.9 从Groovy调用Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_10_Interfaces_in_Groovy_and_Java">
            
                    
                     4.10 Groovy和Java中的接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.11" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_11_The_Groovy_Joint_Compiler">
            
                    
                     4.11 Groovy联合编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.12" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_12_Compiling_Your_Project_with_Ant">
            
                    
                     4.12 用Ant编译项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.13" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#4_13_Compiling_Your_Project_with_Maven">
            
                    
                     4.13 使用Maven编译项目
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_Groovy_from_the_Command_Line">
            
                    
                     第5章 命令行中的Groovy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_1_Running_Uncompiled_Groovy_Scripts">
            
                    
                     5.1 运行未编译的Groovy脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_2_Shebanging_Groovy">
            
                    
                     5.2 打捆Groovy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_3_Accepting_Command_Line_Arguments">
            
                    
                     5.3 接受命令行参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_4_Running_a_Shell_Command">
            
                    
                     5.4 运行Shell命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_5_Using_Shell_Wildcards_in_Groovy_Scripts">
            
                    
                     5.5 在Groovy脚本中使用Shell通配符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_6_Running_Multiple_Shell_Commands_at_Once">
            
                    
                     5.6 一次运行多个Shell命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_7_Waiting_for_a_Shell_Command_to_Finish_Before_Continuing">
            
                    
                     5.7 等待Shell命令完成后再继续
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_8_Getting_System_Properties">
            
                    
                     5.8 获取系统属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_9_Getting_Environment_Variables">
            
                    
                     5.9 获取环境变量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_10_Evaluating_a_String">
            
                    
                     5.10 计算一个字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.11" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_11_Calling_Another_Groovy_Script">
            
                    
                     5.11 调用另一个Groovy脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.12" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_12_Groovy_on_the_Fly__groovy__e_">
            
                    
                     5.12 动态的Groovy (Groovy -e)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.13" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#5_13_Including_JARs_at_the_Command_Line">
            
                    
                     5.13 在命令行中包含JAR
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_File_Tricks">
            
                    
                     第6章 文件的技巧
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_1_Listing_All_Files_in_a_Directory">
            
                    
                     6.1 列出目录中的所有文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_2_Reading_the_Contents_of_a_File">
            
                    
                     6.2 读取文件的内容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_3_Writing_Text_to_a_File">
            
                    
                     6.3 将文本写入文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_4_Copying_Files">
            
                    
                     6.4 复制文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_5_Using_AntBuilder_to_Copy_a_File">
            
                    
                     6.5 使用AntBuilder复制文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_6_Using_AntBuilder_to_Copy_a_Directory">
            
                    
                     6.6 使用AntBuilder复制目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_7_Moving_Renaming_Files">
            
                    
                     6.7 移动/重命名文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_8_Deleting_Files">
            
                    
                     6.8 删除文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#6_9_Creating_a_ZIP_File_Tarball">
            
                    
                     6.9 创建压缩文件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_Parsing_XML">
            
                    
                     第7章 解析XML
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_1_The__I_m_in_a_Hurry__Guide_to_Parsing_XML">
            
                    
                     7.1 在“我有急事”指南解析XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_2_Understanding_the_Difference_Between_XmlParser_and_XmlSlurper">
            
                    
                     7.2 了解XmlParser和XmlSlurper之间的区别
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_3_Parsing_XML_Documents">
            
                    
                     7.3 解析XML文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_4_Dealing_with_XML_Attributes">
            
                    
                     7.4 处理XML属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_5_Getting_the_Body_of_an_XML_Element">
            
                    
                     7.5 获取XML元素的主体
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_6_Dealing_with_Mixed_Case_Element_Names">
            
                    
                     7.6 处理混合大小写元素名称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_7_Dealing_with_Hyphenated_Element_Names">
            
                    
                     7.7 处理连字符元素名称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_8_Navigating_Deeply_Nested_XML">
            
                    
                     7.8 深入导航嵌套XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_9_Parsing_an_XML_Document_with_Namespaces">
            
                    
                     7.9 使用名称空间解析XML文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#7_10_Populating_a_GroovyBean_from_XML">
            
                    
                     7.10 从XML填充GroovyBean
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_Writing_XML">
            
                    
                     第8章 编写XML
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_1_The__I_m_in_a_Hurry__Guide_to_Creating_an_XML_Document">
            
                    
                     8.1 在“我有急事”指南编写XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_2_Creating_Mixed_Case_Element_Names">
            
                    
                     8.2 创建混合大小写元素名称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_3_Creating_Hyphenated_Element_Names">
            
                    
                     8.3 创建带连字符的元素名称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_4_Creating_Namespaced_XML_Using_MarkupBuilder">
            
                    
                     8.4 使用MarkupBuilder创建名称空间XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_5_Understanding_the_Difference_Between_MarkupBuilder_and_StreamingMarkupBuilder">
            
                    
                     8.5 理解MarkupBuilder和StreamingMarkupBuilder之间的区别
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_6_Creating_Parts_of_the_XML_Document_Separately">
            
                    
                     8.6 分别创建XML文档的各个部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_7_Creating_Namespaced_XML_Using_StreamingMarkupBuilder">
            
                    
                     8.7 使用StreamingMarkupBuilder创建名称空间XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_8_Printing_Out_the_XML_Declaration">
            
                    
                     8.8 打印XML声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_9_Printing_Out_Processing_Instructions">
            
                    
                     8.9 打印输出处理指令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_10_Printing_Arbitrary_Strings__Comments__CDATA_">
            
                    
                     8.10 打印任意字符串（注释，CDATA）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.11" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_11_Writing_StreamingMarkupBuilder_Output_to_a_File">
            
                    
                     8.11 将StreamingMarkupBuilder输出写入文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.12" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_12_StreamingMarkupBuilder_at_a_Glance">
            
                    
                     8.12 StreamingMarkupBuilder概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.13" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_13_Creating_HTML_on_the_Fly">
            
                    
                     8.13 快速创建HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.14" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_14_Converting_CSV_to_XML">
            
                    
                     8.14 CSV转换为XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.15" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#8_15_Converting_JDBC_ResultSets_to_XML">
            
                    
                     8.15 将JDBC结果集转换为XML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_Web_Services">
            
                    
                     第9章 Web服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_1_Finding_Your_Local_IP_Address_and_Name">
            
                    
                     9.1 查找您的本地IP地址和名称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_2_Finding_a_Remote_IP_Address_and_Domain_Name">
            
                    
                     9.2 查找远程IP地址和域名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_3_Making_an_HTTP_GET_Request">
            
                    
                     9.3 发出HTTP GET请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_4_Working_with_Query_Strings">
            
                    
                     9.4 使用查询字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_5_Making_an_HTTP_POST_Request">
            
                    
                     9.5 发出HTTP POST请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_6_Making_an_HTTP_PUT_Request">
            
                    
                     9.6 发出HTTP PUT请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_7_Making_an_HTTP_DELETE_Request">
            
                    
                     9.7 发出HTTP DELETE请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_8_Making_a_RESTful_Request">
            
                    
                     9.8 发出RESTful请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_9_Making_a_CSV_Request">
            
                    
                     9.9 发出CSV请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_10_Making_a_SOAP_Request">
            
                    
                     9.10 发出SOAP请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.11" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_11_Making_an_XML_RPC_Request">
            
                    
                     9.11 发出XML-RPC请求
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.12" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_12_Parsing_Yahoo_Search_Results_as_XML">
            
                    
                     9.12 将Yahoo搜索结果解析为XML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.13" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#9_14_Parsing_an_RSS_Feed">
            
                    
                     9.14 解析RSS Feed
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_Metaprogramming">
            
                    
                     第10章 元编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_1_Discovering_the_Class">
            
                    
                     10.1 发现类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_2_Discovering_the_Fields_of_a_Class">
            
                    
                     10.2 发现类的字段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_3_Checking_for_the_Existence_of_a_Field">
            
                    
                     10.3 检查字段是否存在
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_4_Discovering_the_Methods_of_a_Class">
            
                    
                     10.4 发现类的方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.5" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_5_Checking_for_the_Existence_of_a_Method">
            
                    
                     10.5 检查方法是否存在
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.6" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_6_Creating_a_Field_Pointer">
            
                    
                     10.6 创建字段指针
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.7" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_7_Creating_a_Method_Pointer">
            
                    
                     10.7 创建方法指针
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.8" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_8_Calling_Methods_That_Don_t_Exist_invokeMethod_">
            
                    
                     10.8 调用不存在的方法(invokeMethod)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.9" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_9_Creating_an_Expando">
            
                    
                     10.9 创建一个Expando
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.10" data-path="Groovy_Recipes_ch.html">
            
                <a href="Groovy_Recipes_ch.html#10_10_Adding_Methods_to_a_Class_Dynamically_Categories_">
            
                    
                     10.10 动态地向类添加方法(Categories)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." > 第1章 介绍</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><a href="#groovyrecipesgroovy&#x98DF;&#x8C31;">Groovy_Recipes(Groovy&#x98DF;&#x8C31;)</a></li><ul><li><a href="#Preface">&#x5199;&#x5728;&#x524D;&#x9762; </a></li><li><a href="#1_Introduction">&#x7B2C;1&#x7AE0; &#x4ECB;&#x7ECD; </a></li><ul><li><a href="#1_1_Groovy__the_Way_Java_Should_Be">1.1 Groovy, Java&#x5E94;&#x8BE5;&#x662F;&#x8FD9;&#x6837;&#x7684; </a></li><li><a href="#1_2_Stripping_Away_the_Verbosity">1.2 &#x907F;&#x514D;&#x5197;&#x957F; </a></li><li><a href="#1_3_Groovy__The_Blue_Pill_or_the_Red_Pill_">1.3 Groovy:&#x84DD;&#x8272;&#x836F;&#x4E38;&#x8FD8;&#x662F;&#x7EA2;&#x8272;&#x836F;&#x4E38;? </a></li><li><a href="#1_4_Road_Map">1.4 &#x8DEF;&#x7EBF;&#x56FE; </a></li><li><a href="#1_5_Acknowledgments">1.5 &#x81F4;&#x8C22; </a></li></ul><li><a href="#2_Getting_Started">&#x7B2C;2&#x7AE0; &#x5F00;&#x59CB; </a></li><ul><li><a href="#2_1_Installing_Groovy">2.1 &#x5B89;&#x88C5;Groovy </a></li><li><a href="#2_2_Running_a_Groovy_Script">2.2 &#x8FD0;&#x884C;Groovy&#x811A;&#x672C; </a></li><li><a href="#2_3_Compiling_Groovy">2.3 &#x7F16;&#x8BD1;Groovy </a></li><li><a href="#2_4_Running_the_Groovy_Shell">2.4 &#x8FD0;&#x884C;Groovy Shell (groovysh) </a></li><li><a href="#2_5_Running_the_Groovy_Console">2.5 &#x8FD0;&#x884C;Groovy&#x63A7;&#x5236;&#x53F0;&#xFF08;groovyConsole&#xFF09; </a></li><li><a href="#2_6_Running_Groovy_on_a_Web_Server">2.6 &#x5728;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;Groovy (groovlet) </a></li><li><a href="#2_7_Groovy___Eclipse">2.7 Groovy&#x7ED3;&#x5408;Eclipse </a></li><li><a href="#2_8_Groovy___IntelliJ-IDEA">2.8 Groovy&#x7ED3;&#x5408;IntelliJ IDEA </a></li><li><a href="#2_9_Groovy___TextMate">2.9 Groovy&#x7ED3;&#x5408;TextMate </a></li><li><a href="#2_10_Groovy____Insert_Your_IDE_or_Text_Editor_Here_">2.10 Groovy&#x5728;&#x6B64;&#x5904;&#x63D2;&#x5165;&#x60A8;&#x7684;IDE&#x6216;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668; </a></li></ul><li><a href="#3_New_to_Groovy">&#x7B2C;3&#x7AE0; Groovy&#x65B0;&#x624B; </a></li><ul><li><a href="#3_1_Automatic_Imports">3.1 &#x81EA;&#x52A8;&#x5BFC;&#x5165; </a></li><li><a href="#3_2_Optional_Semicolons">3.2 &#x53EF;&#x9009;&#x7684;&#x5206;&#x53F7; </a></li><li><a href="#3_3_Optional_Parentheses">3.3 &#x53EF;&#x9009;&#x7684;&#x62EC;&#x53F7; </a></li><li><a href="#3_4_Optional_Return_Statements">3.4 &#x53EF;&#x9009;&#x7684;&#x8FD4;&#x56DE;&#x8BED;&#x53E5; </a></li><li><a href="#3_5_Optional_Datatype_Declaration__Duck_Typing_">3.5 &#x53EF;&#x9009;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;(&#x9E2D;&#x5B50;&#x7C7B;&#x578B;) </a></li><li><a href="#3_6_Optional_Exception_Handling">3.6 &#x53EF;&#x9009;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406; </a></li><li><a href="#3_7_Operator_Overloading">3.7 &#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D; </a></li><li><a href="#3_8_Safe_Dereferencing____">3.8 &#x5B89;&#x5168;&#x89E3;&#x9664;&#x5F15;&#x7528;(?) </a></li><li><a href="#3_9_Autoboxing">3.9 &#x81EA;&#x52A8;&#x88C5;&#x7BB1; </a></li><li><a href="#3_10_Groovy_Truth">3.10 Groovy&#x7684;True </a></li><li><a href="#3_11_Embedded_Quotes">3.11 &#x5D4C;&#x5165;&#x5F15;&#x53F7; </a></li><li><a href="#3_12_Heredocs__Triple_Quotes_">3.12 heredoc(&#x4E09;&#x91CD;&#x5F15;&#x53F7;) </a></li><li><a href="#3_13_GStrings">3.13 Groovy&#x7684;String </a></li><li><a href="#3_14_List_Shortcuts">3.14 &#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F; </a></li><li><a href="#3_15_Map_Shortcuts">3.15 &#x6620;&#x5C04;&#x5FEB;&#x6377;&#x65B9;&#x5F0F; </a></li><li><a href="#3_16_Ranges">3.16 &#x8303;&#x56F4; </a></li><li><a href="#3_17_Closures_and_Blocks">3.17 &#x95ED;&#x5305;&#x548C;&#x5757; </a></li></ul><li><a href="#4_Java_and_Groovy_Integration">&#x7B2C;4&#x7AE0; Java&#x548C;Groovy&#x96C6;&#x6210; </a></li><ul><li><a href="#4_1_GroovyBeans__aka_POGOs_">4.1 Groovy&#x7684;&#x5BF9;&#x8C61; </a></li><li><a href="#4_2_Autogenerated_Getters_and_Setters">4.2 &#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;Getter&#x548C;Setter </a></li><li><a href="#4_3_getProperty_and_setProperty">4.3 getProperty&#x548C;setProperty </a></li><li><a href="#4_4_Making_Attributes_Read-Only">4.4 &#x4F7F;&#x5C5E;&#x6027;&#x53EA;&#x8BFB; </a></li><li><a href="#4_5_Constructor_Shortcut_Syntax">4.5 &#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x8BED;&#x6CD5; </a></li><li><a href="#4_6_Optional_Parameters_Default_Values">4.6 &#x53EF;&#x9009;&#x53C2;&#x6570;/&#x9ED8;&#x8BA4;&#x503C; </a></li><li><a href="#4_7_Private_Methods">4.7 &#x79C1;&#x6709;&#x65B9;&#x6CD5; </a></li><li><a href="#4_8_Calling_Groovy_from_Java">4.8 &#x4ECE;Java&#x8C03;&#x7528;Groovy </a></li><li><a href="#4_9_Calling_Java_from_Groovy">4.9 &#x4ECE;Groovy&#x8C03;&#x7528;Java </a></li><li><a href="#4_10_Interfaces_in_Groovy_and_Java">4.10 Groovy&#x548C;Java&#x4E2D;&#x7684;&#x63A5;&#x53E3; </a></li><li><a href="#4_11_The_Groovy_Joint_Compiler">4.11 Groovy&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x5668; </a></li><li><a href="#4_12_Compiling_Your_Project_with_Ant">4.12 &#x7528;Ant&#x7F16;&#x8BD1;&#x9879;&#x76EE; </a></li><li><a href="#4_13_Compiling_Your_Project_with_Maven">4.13 &#x4F7F;&#x7528;Maven&#x7F16;&#x8BD1;&#x9879;&#x76EE; </a></li></ul><li><a href="#5_Groovy_from_the_Command_Line">&#x7B2C;5&#x7AE0; &#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7684;Groovy </a></li><ul><li><a href="#5_1_Running_Uncompiled_Groovy_Scripts">5.1 &#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C; </a></li><li><a href="#5_2_Shebanging_Groovy">5.2 &#x6253;&#x6346;Groovy </a></li><li><a href="#5_3_Accepting_Command_Line_Arguments">5.3 &#x63A5;&#x53D7;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570; </a></li><li><a href="#5_4_Running_a_Shell_Command">5.4 &#x8FD0;&#x884C;Shell&#x547D;&#x4EE4; </a></li><li><a href="#5_5_Using_Shell_Wildcards_in_Groovy_Scripts">5.5 &#x5728;Groovy&#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;Shell&#x901A;&#x914D;&#x7B26; </a></li><li><a href="#5_6_Running_Multiple_Shell_Commands_at_Once">5.6 &#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x591A;&#x4E2A;Shell&#x547D;&#x4EE4; </a></li><li><a href="#5_7_Waiting_for_a_Shell_Command_to_Finish_Before_Continuing">5.7 &#x7B49;&#x5F85;Shell&#x547D;&#x4EE4;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x7EE7;&#x7EED; </a></li><li><a href="#5_8_Getting_System_Properties">5.8 &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027; </a></li><li><a href="#5_9_Getting_Environment_Variables">5.9 &#x83B7;&#x53D6;&#x73AF;&#x5883;&#x53D8;&#x91CF; </a></li><li><a href="#5_10_Evaluating_a_String">5.10 &#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; </a></li><li><a href="#5_11_Calling_Another_Groovy_Script">5.11 &#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;Groovy&#x811A;&#x672C; </a></li><li><a href="#5_12_Groovy_on_the_Fly__groovy__e_">5.12 &#x52A8;&#x6001;&#x7684;Groovy (Groovy -e) </a></li><li><a href="#5_13_Including_JARs_at_the_Command_Line">5.13 &#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x5305;&#x542B;JAR </a></li></ul><li><a href="#6_File_Tricks">&#x7B2C;6&#x7AE0; &#x6587;&#x4EF6;&#x7684;&#x6280;&#x5DE7; </a></li><ul><li><a href="#6_1_Listing_All_Files_in_a_Directory">6.1 &#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6; </a></li><li><a href="#6_2_Reading_the_Contents_of_a_File">6.2 &#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9; </a></li><li><a href="#6_3_Writing_Text_to_a_File">6.3 &#x5C06;&#x6587;&#x672C;&#x5199;&#x5165;&#x6587;&#x4EF6; </a></li><li><a href="#6_4_Copying_Files">6.4 &#x590D;&#x5236;&#x6587;&#x4EF6; </a></li><li><a href="#6_5_Using_AntBuilder_to_Copy_a_File">6.5 &#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x6587;&#x4EF6; </a></li><li><a href="#6_6_Using_AntBuilder_to_Copy_a_Directory">6.6 &#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x76EE;&#x5F55; </a></li><li><a href="#6_7_Moving_Renaming_Files">6.7 &#x79FB;&#x52A8;/&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6; </a></li><li><a href="#6_8_Deleting_Files">6.8 &#x5220;&#x9664;&#x6587;&#x4EF6; </a></li><li><a href="#6_9_Creating_a_ZIP_File_Tarball">6.9 &#x521B;&#x5EFA;&#x538B;&#x7F29;&#x6587;&#x4EF6; </a></li><li><a href="#610-unzippinguntarring-files-&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;">6.10 Unzipping/Untarring Files {&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;}</a></li></ul><li><a href="#7_Parsing_XML">&#x7B2C;7&#x7AE0; &#x89E3;&#x6790;XML </a></li><ul><li><a href="#7_1_The__I_m_in_a_Hurry__Guide_to_Parsing_XML">7.1 &#x5728;&#x201C;&#x6211;&#x6709;&#x6025;&#x4E8B;&#x201D;&#x6307;&#x5357;&#x89E3;&#x6790;XML </a></li><li><a href="#7_2_Understanding_the_Difference_Between_XmlParser_and_XmlSlurper">7.2 &#x4E86;&#x89E3;XmlParser&#x548C;XmlSlurper&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B; </a></li><li><a href="#7_3_Parsing_XML_Documents">7.3 &#x89E3;&#x6790;XML&#x6587;&#x6863; </a></li><li><a href="#7_4_Dealing_with_XML_Attributes">7.4 &#x5904;&#x7406;XML&#x5C5E;&#x6027; </a></li><li><a href="#7_5_Getting_the_Body_of_an_XML_Element">7.5 &#x83B7;&#x53D6;XML&#x5143;&#x7D20;&#x7684;&#x4E3B;&#x4F53; </a></li><li><a href="#7_6_Dealing_with_Mixed_Case_Element_Names">7.6 &#x5904;&#x7406;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x5143;&#x7D20;&#x540D;&#x79F0; </a></li><li><a href="#7_7_Dealing_with_Hyphenated_Element_Names">7.7 &#x5904;&#x7406;&#x8FDE;&#x5B57;&#x7B26;&#x5143;&#x7D20;&#x540D;&#x79F0; </a></li><li><a href="#7_8_Navigating_Deeply_Nested_XML">7.8 &#x6DF1;&#x5165;&#x5BFC;&#x822A;&#x5D4C;&#x5957;XML </a></li><li><a href="#7_9_Parsing_an_XML_Document_with_Namespaces">7.9 &#x4F7F;&#x7528;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863; </a></li><li><a href="#7_10_Populating_a_GroovyBean_from_XML">7.10 &#x4ECE;XML&#x586B;&#x5145;GroovyBean </a></li></ul><li><a href="#8_Writing_XML">&#x7B2C;8&#x7AE0; &#x7F16;&#x5199;XML </a></li><ul><li><a href="#8_1_The__I_m_in_a_Hurry__Guide_to_Creating_an_XML_Document">8.1 &#x5728;&#x201C;&#x6211;&#x6709;&#x6025;&#x4E8B;&#x201D;&#x6307;&#x5357;&#x7F16;&#x5199;XML </a></li><li><a href="#8_2_Creating_Mixed_Case_Element_Names">8.2 &#x521B;&#x5EFA;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x5143;&#x7D20;&#x540D;&#x79F0; </a></li><li><a href="#8_3_Creating_Hyphenated_Element_Names">8.3 &#x521B;&#x5EFA;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0; </a></li><li><a href="#8_4_Creating_Namespaced_XML_Using_MarkupBuilder">8.4 &#x4F7F;&#x7528;MarkupBuilder&#x521B;&#x5EFA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML </a></li><li><a href="#8_5_Understanding_the_Difference_Between_MarkupBuilder_and_StreamingMarkupBuilder">8.5 &#x7406;&#x89E3;MarkupBuilder&#x548C;StreamingMarkupBuilder&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B; </a></li><li><a href="#8_6_Creating_Parts_of_the_XML_Document_Separately">8.6 &#x5206;&#x522B;&#x521B;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x5404;&#x4E2A;&#x90E8;&#x5206; </a></li><li><a href="#8_7_Creating_Namespaced_XML_Using_StreamingMarkupBuilder">8.7 &#x4F7F;&#x7528;StreamingMarkupBuilder&#x521B;&#x5EFA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML </a></li><li><a href="#8_8_Printing_Out_the_XML_Declaration">8.8 &#x6253;&#x5370;XML&#x58F0;&#x660E; </a></li><li><a href="#8_9_Printing_Out_Processing_Instructions">8.9 &#x6253;&#x5370;&#x8F93;&#x51FA;&#x5904;&#x7406;&#x6307;&#x4EE4; </a></li><li><a href="#8_10_Printing_Arbitrary_Strings__Comments__CDATA_">8.10 &#x6253;&#x5370;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x6CE8;&#x91CA;&#xFF0C;CDATA&#xFF09; </a></li><li><a href="#8_11_Writing_StreamingMarkupBuilder_Output_to_a_File">8.11 &#x5C06;StreamingMarkupBuilder&#x8F93;&#x51FA;&#x5199;&#x5165;&#x6587;&#x4EF6; </a></li><li><a href="#8_12_StreamingMarkupBuilder_at_a_Glance">8.12 StreamingMarkupBuilder&#x6982;&#x89C8; </a></li><li><a href="#8_13_Creating_HTML_on_the_Fly">8.13 &#x5FEB;&#x901F;&#x521B;&#x5EFA;HTML </a></li><li><a href="#8_14_Converting_CSV_to_XML">8.14 CSV&#x8F6C;&#x6362;&#x4E3A;XML </a></li><li><a href="#8_15_Converting_JDBC_ResultSets_to_XML">8.15 &#x5C06;JDBC&#x7ED3;&#x679C;&#x96C6;&#x8F6C;&#x6362;&#x4E3A;XML </a></li></ul><li><a href="#9_Web_Services">&#x7B2C;9&#x7AE0; Web&#x670D;&#x52A1; </a></li><ul><li><a href="#9_1_Finding_Your_Local_IP_Address_and_Name">9.1 &#x67E5;&#x627E;&#x60A8;&#x7684;&#x672C;&#x5730;IP&#x5730;&#x5740;&#x548C;&#x540D;&#x79F0; </a></li><li><a href="#9_2_Finding_a_Remote_IP_Address_and_Domain_Name">9.2 &#x67E5;&#x627E;&#x8FDC;&#x7A0B;IP&#x5730;&#x5740;&#x548C;&#x57DF;&#x540D; </a></li><li><a href="#9_3_Making_an_HTTP_GET_Request">9.3 &#x53D1;&#x51FA;HTTP GET&#x8BF7;&#x6C42; </a></li><li><a href="#9_4_Working_with_Query_Strings">9.4 &#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32; </a></li><li><a href="#9_5_Making_an_HTTP_POST_Request">9.5 &#x53D1;&#x51FA;HTTP POST&#x8BF7;&#x6C42; </a></li><li><a href="#9_6_Making_an_HTTP_PUT_Request">9.6 &#x53D1;&#x51FA;HTTP PUT&#x8BF7;&#x6C42; </a></li><li><a href="#9_7_Making_an_HTTP_DELETE_Request">9.7 &#x53D1;&#x51FA;HTTP DELETE&#x8BF7;&#x6C42; </a></li><li><a href="#9_8_Making_a_RESTful_Request">9.8 &#x53D1;&#x51FA;RESTful&#x8BF7;&#x6C42; </a></li><li><a href="#9_9_Making_a_CSV_Request">9.9 &#x53D1;&#x51FA;CSV&#x8BF7;&#x6C42; </a></li><li><a href="#9_10_Making_a_SOAP_Request">9.10 &#x53D1;&#x51FA;SOAP&#x8BF7;&#x6C42; </a></li><li><a href="#9_11_Making_an_XML_RPC_Request">9.11 &#x53D1;&#x51FA;XML-RPC&#x8BF7;&#x6C42; </a></li><li><a href="#9_12_Parsing_Yahoo_Search_Results_as_XML">9.12 &#x5C06;Yahoo&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x89E3;&#x6790;&#x4E3A;XML </a></li><li><a href="#9_13_Parsing_an_Atom_Feed">9.13 &#x89E3;&#x6790;Atom Feed </a></li><li><a href="#9_14_Parsing_an_RSS_Feed">9.14 &#x89E3;&#x6790;RSS Feed </a></li></ul><li><a href="#10_Metaprogramming">&#x7B2C;10&#x7AE0; &#x5143;&#x7F16;&#x7A0B; </a></li><ul><li><a href="#10_1_Discovering_the_Class">10.1 &#x53D1;&#x73B0;&#x7C7B; </a></li><li><a href="#10_2_Discovering_the_Fields_of_a_Class">10.2 &#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x5B57;&#x6BB5; </a></li><li><a href="#10_3_Checking_for_the_Existence_of_a_Field">10.3 &#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728; </a></li><li><a href="#10_4_Discovering_the_Methods_of_a_Class">10.4 &#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x65B9;&#x6CD5; </a></li><li><a href="#10_5_Checking_for_the_Existence_of_a_Method">10.5 &#x68C0;&#x67E5;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x5B58;&#x5728; </a></li><li><a href="#10_6_Creating_a_Field_Pointer">10.6 &#x521B;&#x5EFA;&#x5B57;&#x6BB5;&#x6307;&#x9488; </a></li><li><a href="#10_7_Creating_a_Method_Pointer">10.7 &#x521B;&#x5EFA;&#x65B9;&#x6CD5;&#x6307;&#x9488; </a></li><li><a href="#10_8_Calling_Methods_That_Don_t_Exist_invokeMethod_">10.8 &#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;(invokeMethod) </a></li><li><a href="#10_9_Creating_an_Expando">10.9 &#x521B;&#x5EFA;&#x4E00;&#x4E2A;Expando </a></li><li><a href="#10_10_Adding_Methods_to_a_Class_Dynamically_Categories_">10.10 &#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;(Categories) </a></li><li><a href="#1011-adding-methods-to-a-class-dynamically-expandometaclass-&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;expandometaclass&#xFF09;">10.11 Adding Methods to a Class Dynamically (ExpandoMetaClass) {&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;ExpandoMetaClass&#xFF09;}</a></li></ul></ul></ul></div><a href="#groovyrecipesgroovy&#x98DF;&#x8C31;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="groovyrecipesgroovy&#x98DF;&#x8C31;"><a name="groovyrecipesgroovy&#x98DF;&#x8C31;" class="anchor-navigation-ex-anchor" href="#groovyrecipesgroovy&#x98DF;&#x8C31;"><i class="fa fa-link" aria-hidden="true"></i></a>Groovy_Recipes(Groovy&#x98DF;&#x8C31;)</h1>
<h2 id="Preface"><a name="Preface" class="anchor-navigation-ex-anchor" href="#Preface"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5199;&#x5728;&#x524D;&#x9762; </h2>
<p>Groovy&#x662F;&#x4E00;&#x79CD;&#x6210;&#x529F;&#x7684;&#x3001;&#x5F3A;&#x5927;&#x7684;&#x3001;&#x6210;&#x719F;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x6240;&#x6709;&#x4F18;&#x79C0;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x90FD;&#x5E94;&#x8BE5;&#x5728;&#x4ED6;&#x4EEC;&#x7684;&#x5DE5;&#x5177;&#x7BB1;&#x4E2D;&#x62E5;&#x6709;&#x5B83;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4F7F;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x66F4;&#x5BCC;&#x6709;&#x8868;&#x73B0;&#x529B;,&#x811A;&#x672C;&#x4EFB;&#x52A1;,&#x6BD4;&#x5982;XML&#x89E3;&#x6790;&#x6216;&#x5012;&#x5165;&#x6570;&#x636E;,&#x63D0;&#x4F9B;&#x6269;&#x5C55;&#x70B9;&#x5728;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;,&#x6700;&#x7EC8;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x884C;&#x4E3A;&#x4E0E;&#x81EA;&#x5DF1;&#x7684;&#x811A;&#x672C;,&#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x7279;&#x5B9A;&#x4E8E;&#x57DF;&#x7684;&#x8BED;&#x8A00;&#x8868;&#x8FBE;&#x53EF;&#x8BFB;&#x7684;&#x548C;&#x7B80;&#x6D01;&#x7684;&#x4E1A;&#x52A1;&#x89C4;&#x5219;,&#x751A;&#x81F3;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x6210;&#x719F;&#x7684;&#x901A;&#x7528;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x7AEF;&#x5230;&#x7AEF;&#x57FA;&#x4E8E;groovy&#x7684;Grails web&#x6846;&#x67B6;&#x3002;</p>
<p>Groovy&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x4E00;&#x76F4;&#x662F;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x4F18;&#x96C5;&#x7684;&#x8BED;&#x8A00;&#x6765;&#x7B80;&#x5316;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x79CD;&#x8BED;&#x8A00;&#x7531;&#x4E8E;&#x5176;&#x7C7B;&#x4F3C;java&#x7684;&#x8BED;&#x6CD5;&#x800C;&#x6613;&#x4E8E;&#x5B66;&#x4E60;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4E5F;&#x4E3A;&#x6240;&#x6709;&#x5E38;&#x89C1;&#x7684;&#x7F16;&#x7A0B;&#x4EFB;&#x52A1;&#x63D0;&#x4F9B;&#x4E86;&#x6709;&#x7528;&#x7684;&#x7279;&#x6027;&#x548C;API&#x3002; Groovy&#x8FD8;&#x8BD5;&#x56FE;&#x901A;&#x8FC7;&#x5C06;Java&#x63A8;&#x8FDB;&#x5230;21&#x4E16;&#x7EAA;&#x6765;&#x89E3;&#x51B3;Java&#x7684;&#x7F3A;&#x70B9;&#x3002;&#x60A8;&#x73B0;&#x5728;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Groovy&#x2014;&#x65E0;&#x9700;&#x7B49;&#x5F85;Java 7&#x3001;8&#x6216;9&#x2014;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4ECE;&#x95ED;&#x5305;&#x4E2D;&#x83B7;&#x76CA;;&#x5C5E;&#x6027;;&#x5217;&#x8868;&#x3001;&#x6620;&#x5C04;&#x548C;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x672C;&#x673A;&#x8BED;&#x6CD5;;&#x548C;&#x66F4;&#x591A;&#x3002;</p>
<p>&#x5173;&#x4E8E;Groovy&#x7684;&#x4E66;&#x7C4D;&#x5DF2;&#x7ECF;&#x6709;&#x597D;&#x51E0;&#x672C;&#x4E86;-&#x8FD9;&#x662F;Groovy&#x53D7;&#x6B22;&#x8FCE;&#x548C;&#x6210;&#x719F;&#x7684;&#x53C8;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x6807;&#x5FD7;-&#x4F46;Groovy Recipes&#x7684;&#x72EC;&#x7279;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#x662F;&#x6700;&#x5FEB;&#x638C;&#x63E1;&#x8BED;&#x8A00;&#x5E76;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x95F4;&#x67E5;&#x627E;&#x7279;&#x5B9A;&#x8BED;&#x8A00;&#x529F;&#x80FD;&#x4FE1;&#x606F;&#x7684;&#x6700;&#x5FEB;&#x65B9;&#x6CD5; &#xFF0C;&#x7531;&#x4E8E;&#x5176;&#x7ED3;&#x6784;&#x6E05;&#x6670;&#x3002; &#x4F46;&#x5B83;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x5806;&#x6280;&#x5DE7;&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x4F60;&#x771F;&#x7684;&#x60F3;&#x5B66;&#x4E60;Groovy&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x6545;&#x4E8B;&#x53EF;&#x4EE5;&#x8BFB;&#xFF0C;&#x4E00;&#x4E2A;&#x5F15;&#x5BFC;&#x4E4B;&#x624B;&#xFF0C;&#x901A;&#x8FC7;&#x4EE5;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x81EA;&#x7136;&#x548C;&#x53CB;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#x9010;&#x6B65;&#x5730;&#x6559;&#x6388;&#x4F60;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x4ECE;&#x800C;&#x5F15;&#x5BFC;&#x4F60;&#x83B7;&#x5F97;&#x542F;&#x8FEA;&#x3002;&#x8BF4;&#x5B9E;&#x8BDD;&#xFF0C;&#x6211;&#x751A;&#x81F3;&#x53D1;&#x73B0;&#x4E86;&#x4E00;&#x4E9B;&#x6211;&#x81EA;&#x5DF1;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x6280;&#x5DE7;!</p>
<p>&#x6211;&#xFF0C;Groovy&#x9879;&#x76EE;&#x7ECF;&#x7406;&#xFF01;</p>
<p>&#x6211;&#x76F8;&#x4FE1;&#x60A8;&#x4F1A;&#x50CF;&#x6211;&#x4E00;&#x6837;&#x559C;&#x6B22;&#x8FD9;&#x672C;&#x4E66;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x5176;&#x653E;&#x5728;&#x684C;&#x5B50;&#x4E0A;&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x89E3;&#x51B3;&#x65E5;&#x5E38;&#x7684;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x3002; &#x501F;&#x52A9;Groovy Recipes&#xFF0C;&#x60A8;&#x5C06;&#x7ACB;&#x5373;&#x5B8C;&#x6210;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>Guillaume Laforge (Groovy&#x9879;&#x76EE;&#x7ECF;&#x7406;)
January 3, 2008</p>
<h2 id="1_Introduction"><a name="1_Introduction" class="anchor-navigation-ex-anchor" href="#1_Introduction"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;1&#x7AE0; &#x4ECB;&#x7ECD; </h2>
<p>&#x66FE;&#x51E0;&#x4F55;&#x65F6;&#xFF0C;Java&#x662F;&#x60A8;&#x7F16;&#x5199;&#x8FC7;&#x4E00;&#x6B21;&#x5E76;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x8FD0;&#x884C;&#x7684;&#x8BED;&#x8A00;&#x3002;&#x80FD;&#x591F;&#x5728;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;(&#x6BD4;&#x5982;OS X)&#x4E0A;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x4E0D;&#x52A0;&#x4FEE;&#x6539;&#x5730;&#x5C06;&#x4EE3;&#x7801;&#x653E;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;(Windows&#x3001;Solaris&#x6216;Linux)&#x4E0A;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E60;&#x60EF;&#x4E8E;&#x7B49;&#x5F85;&#x5728;&#x81EA;&#x5DF1;&#x673A;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x7248;&#x672C;&#x7684;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;&#x80DC;&#x5229;&#x3002;&#x5728;&#x4F7F;&#x7528;Java&#x4E4B;&#x524D;&#xFF0C;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F3C;&#x4E4E;&#x603B;&#x662F;&#x6700;&#x4E0D;&#x53D7;&#x652F;&#x6301;&#x7684;&#xFF0C;&#x4E0D;&#x662F;&#x5417;?</p>
<p>&#x968F;&#x7740;&#x6211;&#x4EEC;&#x5BF9;Java&#x7684;&#x8FDB;&#x4E00;&#x6B65;&#x4E86;&#x89E3;&#xFF0C;&#x5E73;&#x53F0;(Java&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6216;JVM)&#x63D0;&#x4F9B;&#x4E86;WORA&#x7684;&#x9B54;&#x529B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8BED;&#x8A00;&#x3002;&#x56E0;&#x6B64;, &#x6211;&#x4EEC;&#x6B63;&#x5904;&#x4E8E;&#x7B2C;&#x4E8C;&#x6B21;Java&#x9769;&#x547D;&#x4E2D;&#x2014;&#x2014;Java&#x8BED;&#x8A00;&#x4E0E;150&#x591A;&#x79CD;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x5171;&#x4EAB;&#x5E73;&#x53F0;<sup><a href="#fn_11" id="reffn_11">11</a></sup>&#x3002; &#x77DB;&#x76FE;&#x7684;&#x662F;&#xFF0C;&#x968F;&#x7740;Java&#x8BED;&#x8A00;&#x5931;&#x53BB;&#x5176;&#x5784;&#x65AD;&#x5730;&#x4F4D;&#xFF0C;Java&#x5E73;&#x53F0;&#x53D8;&#x5F97;&#x6BD4;&#x4EE5;&#x5F80;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x90FD;&#x66F4;&#x52A0;&#x91CD;&#x8981;&#x3002;</p>
<p>&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x5982;&#x6B64;&#x591A;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x662F;&#x4EC0;&#x4E48;&#x8BA9;Groovy&#x4ECE;&#x4EBA;&#x7FA4;&#x4E2D;&#x8131;&#x9896;&#x800C;&#x51FA;&#x5462;?&#x5C31;&#x8FD9;&#x4E00;&#x70B9;&#x800C;&#x8A00;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x9996;&#x5148;&#x8981;&#x8D85;&#x8D8A;&#x53E4;&#x8001;&#x7684;Java&#x8BED;&#x8A00;&#x5462;?&#x6211;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x53E5;&#x8BDD;&#x6765;&#x6982;&#x62EC;:&#x5982;&#x679C;Java&#x662F;&#x5728;21&#x4E16;&#x7EAA;&#x7F16;&#x5199;&#x7684;&#xFF0C;Groovy&#x5C31;&#x662F;&#x5B83;&#x7684;&#x6837;&#x5B50;&#x3002;</p>
<p>Groovy&#x662F;&#x4E00;&#x79CD;&#x65B0;&#x7684;&#x8BED;&#x8A00;&#x3002;&#x4E0E;&#x5176;&#x8BF4;&#x5B83;&#x53D6;&#x4EE3;&#x4E86;&#x65E7;&#x6280;&#x672F;&#xFF0C;&#x4E0D;&#x5982;&#x8BF4;&#x5B83;&#x52A0;&#x5F3A;&#x4E86;&#x65E7;&#x6280;&#x672F;&#x3002;&#x5B83;&#x662F;&#x7531;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x4ED6;&#x4EEC;&#x5E0C;&#x671B;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x7684;&#x65E5;&#x5E38;&#x4F53;&#x9A8C;&#x66F4;&#x7B80;&#x5355;&#x3002;&#x60A8;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x8D39;&#x529B;&#x5730;&#x9605;&#x8BFB;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x6837;&#x677F;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x7136;&#x800C;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x201C;&#x563F;&#xFF0C;&#x4F19;&#x8BA1;&#x4EEC;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x91CD;&#x5199;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x79CD;&#x65B0;&#x7684;&#x8BED;&#x8A00;&#x201D;&#x7684;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x65B9;&#x6CD5;&#x3002;&#x4E0D;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x201C;&#x8BA9;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x79CD;&#x4E0E;&#x73B0;&#x6709;&#x4EE3;&#x7801;&#x5E93;&#x65E0;&#x7F1D;&#x96C6;&#x6210;&#x7684;&#x8BED;&#x8A00;&#x201D;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p>Groovy&#x5728;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x7684;JVM(1.4&#x3001;1.5&#x6216;1.6)&#x4E0A;&#x8FD0;&#x884C;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7528;&#x4E8E;Java&#x5F00;&#x53D1;&#x7684;IDE&#x4E2D;&#x7F16;&#x5199;Groovy&#x3002;&#x60A8;&#x5C06;&#x5176;&#x90E8;&#x7F72;&#x5230;&#x751F;&#x4EA7;&#x4E2D;&#x5DF2;&#x6709;&#x7684;&#x76F8;&#x540C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E2D;&#x653E;&#x5165;&#x4E00;&#x4E2A;groovy.jar&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x201C;&#x542F;&#x7528;groovy&#x201D;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</p>
<p>&#x5728;&#x672C;&#x4E66;&#x4E2D;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x5411;&#x7ECF;&#x9A8C;&#x4E30;&#x5BCC;&#x7684;Java&#x8D44;&#x6DF1;&#x4EBA;&#x58EB;&#x5C55;&#x793A;&#x5C06;Groovy&#x96C6;&#x6210;&#x5230;&#x73B0;&#x6709;&#x4EE3;&#x7801;&#x5E93;&#x4E2D;&#x6709;&#x591A;&#x4E48;&#x5BB9;&#x6613;&#x3002; &#x6211;&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x5C55;&#x793A;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x7ACB;&#x5373;&#x89E3;&#x51B3;&#x65E5;&#x5E38;&#x95EE;&#x9898;&#x7684;&#x5FEB;&#x901F;Groovy&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6765;&#x5438;&#x5F15;&#x7E41;&#x5FD9;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002;(&#x201C;&#x5982;&#x4F55;&#x89E3;&#x6790;&#x5E26;&#x6709;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;XML&#x6587;&#x6863;&#xFF1F;&#x201D;) &#x4F46;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x5E0C;&#x671B;&#x5438;&#x5F15;&#x5E0C;&#x671B;&#x5C06;&#x65B0;&#x751F;&#x547D;&#x6CE8;&#x5165;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x5341;&#x51E0;&#x5E74;&#x5386;&#x53F2;&#x7684;&#x5E73;&#x53F0;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002; &#x95ED;&#x5305;&#xFF0C;&#x7279;&#x5B9A;&#x4E8E;&#x9886;&#x57DF;&#x7684;&#x8BED;&#x8A00;&#x548C;&#x5143;&#x7F16;&#x7A0B;&#x7B49;&#x529F;&#x80FD;&#x73B0;&#x5728;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x5E73;&#x53F0;&#x4E0A;&#x4F7F;&#x7528;&#xFF0C;&#x9177;&#x70AB;&#x7684;&#x5B69;&#x5B50;&#x4EEC;&#x4F3C;&#x4E4E;&#x5DF2;&#x7ECF;&#x629B;&#x5F03;&#x4E86;&#x90A3;&#x4E9B;&#x843D;&#x540E;&#x4E8E;&#x65F6;&#x4EE3;&#x7684;&#x5E73;&#x53F0;&#x3002;</p>
<p>&#x4E00;&#x4E9B;&#x6280;&#x672F;&#x4E66;&#x7C4D;&#x4EC5;&#x88AB;&#x9605;&#x8BFB;&#x4E00;&#x6B21;&#x3002; &#x7136;&#x540E;&#xFF0C;&#x5728;&#x60A8;&#x5B66;&#x4E60;&#x4E86;&#x8FD9;&#x4E9B;&#x6750;&#x6599;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x672C;&#x4E66;&#x5C31;&#x5750;&#x5728;&#x67B6;&#x5B50;&#x4E0A;&#xFF0C;&#x96C6;&#x5C18;&#x3002; &#x5982;&#x679C;&#x6211;&#x7684;&#x9884;&#x611F;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x5C06;&#x662F;&#x60A8;&#x6536;&#x85CF;&#x4E2D;&#x9605;&#x8BFB;&#x7684;&#x4F17;&#x591A;&#x4E66;&#x7C4D;&#x4E4B;&#x4E00;&#xFF0C; &#x5728;&#x60A8;&#x6210;&#x4E3A;Groovy&#x5927;&#x5E08;&#x4E4B;&#x540E;&#xFF0C;&#x5BF9;&#x60A8;&#x4E5F;&#x8FD8;&#x662F;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#xFF0C;&#x5C31;&#x50CF;&#x60A8;&#x7B2C;&#x4E00;&#x6B21;&#x9605;&#x8BFB;&#x5B83;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x6211;&#x8BA4;&#x4E3A;&#x60A8;&#x4F1A;&#x7EE7;&#x7EED;&#x8BFB;&#x8FD9;&#x672C;&#x4E66;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x4E3A;&#x987A;&#x5E8F;&#x8BBF;&#x95EE;&#x800C;&#x7F16;&#x5199;&#x7684;&#x4E66;&#x4E2D;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x4EBA;&#x90FD;&#x4F1A;&#x9605;&#x8BFB;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x9664;&#x975E;&#x60A8;&#x5DF2;&#x9605;&#x8BFB;&#x7B2C;1-6&#x7AE0;&#xFF0C;&#x5426;&#x5219;&#x7B2C;7&#x7AE0;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x3002; &#x672C;&#x4E66;&#x9488;&#x5BF9;&#x968F;&#x673A;&#x8BBF;&#x95EE;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#x3002; &#x6211;&#x8BD5;&#x56FE;&#x4EE5;&#x4E00;&#x79CD;&#x53EF;&#x4EE5;&#x4E00;&#x904D;&#x53C8;&#x4E00;&#x904D;&#x5730;&#x8FBE;&#x5230;&#x76EE;&#x7684;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x5E03;&#x5C40;&#xFF0C;&#x56E0;&#x4E3A;&#x60A8;&#x77E5;&#x9053;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x626B;&#x63CF;&#x76EE;&#x5F55;&#x4EE5;&#x627E;&#x5230;&#x6240;&#x9700;&#x7684;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x3002; &#x6BCF;&#x4E2A;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5305;&#x542B;&#x5927;&#x91CF;&#x9762;&#x5305;&#x5C51;&#xFF0C;&#x53EF;&#x4E3A;&#x60A8;&#x6307;&#x660E;&#x76F8;&#x5173;&#x4E3B;&#x9898;&#x3002;</p>
<p>&#x5728;&#x6211;&#x5199;&#x8FD9;&#x672C;&#x4E66;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5728;&#x6211;&#x7684;&#x7B14;&#x8BB0;&#x672C;&#x7535;&#x8111;&#x4E0A;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;PDF&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x4E0D;&#x6B62;&#x4E00;&#x6B21;&#x5730;&#x8BC1;&#x660E;&#x4E86;&#x5B83;&#x7684;&#x4EF7;&#x503C;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;PDF&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x6298;&#x89D2;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x7684;&#x6587;&#x6863;&#x5C31;&#x51E0;&#x4E4E;&#x662F;&#x7834;&#x65E7;&#x4E0D;&#x582A;&#x4E86;&#x3002;&#x80FD;&#x591F;&#x4EE5;&#x7535;&#x5B50;&#x65B9;&#x5F0F;&#x641C;&#x7D22;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6216;&#x77ED;&#x8BED;(&#x5C31;&#x5728;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x65C1;&#x8FB9;&#x7684;&#x7A97;&#x53E3;&#x4E2D;)&#x7EDD;&#x5BF9;&#x662F;&#x65E0;&#x4EF7;&#x7684;&#x3002;&#x5B83;&#x6539;&#x53D8;&#x4E86;&#x6211;&#x7F16;&#x5199;Groovy&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x6211;&#x5F00;&#x59CB;&#x5199;&#x8FD9;&#x672C;&#x4E66;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x6709;&#x591A;&#x5E74;&#x7684;Groovy&#x7ECF;&#x9A8C;&#x4E86;!</p>
<h3 id="1_1_Groovy__the_Way_Java_Should_Be"><a name="1_1_Groovy__the_Way_Java_Should_Be" class="anchor-navigation-ex-anchor" href="#1_1_Groovy__the_Way_Java_Should_Be"><i class="fa fa-link" aria-hidden="true"></i></a>1.1 Groovy, Java&#x5E94;&#x8BE5;&#x662F;&#x8FD9;&#x6837;&#x7684; </h3>
<p>Groovy&#x7684;&#x8BBE;&#x8BA1;&#x65E8;&#x5728;&#x5438;&#x5F15;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002; Groovy&#x6700;&#x7EC8;&#x662F;Java&#x3002; &#x5728;JVM&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x5C31;&#x662F;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x3002; JRuby <sup><a href="#fn_12" id="reffn_12">12</a></sup>&#x7684;&#x91CD;&#x70B9;&#x662F;&#x4F7F;&#x73B0;&#x6709;&#x7684;Ruby&#x4EE3;&#x7801;&#x5728;JVM&#x4E0A;&#x8FD0;&#x884C;&#x3002; Jython <sup><a href="#fn_13" id="reffn_13">13</a></sup>&#x7684;&#x91CD;&#x70B9;&#x662F;&#x4F7F;&#x73B0;&#x6709;&#x7684;Python&#x4EE3;&#x7801;&#x5728;JVM&#x4E0A;&#x8FD0;&#x884C;&#x3002; Groovy&#x7684;&#x91CD;&#x70B9;&#x662F;&#x4E0E;&#x60A8;&#x73B0;&#x6709;&#x7684;Java&#x4EE3;&#x7801;&#x96C6;&#x6210;&#x3002;</p>
<p>&#x6211;&#x5E76;&#x4E0D;&#x662F;&#x8981;&#x51CF;&#x5C11;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x4EF7;&#x503C;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5DF2;&#x7ECF;&#x6709;&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x79CD;&#x8BED;&#x8A00;&#x5B9E;&#x73B0;&#x7684;&#x73B0;&#x6709;&#x4EE3;&#x7801;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;&#x597D;&#x5904;&#x662F;&#x65E0;&#x53EF;&#x5426;&#x8BA4;&#x7684;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x5982;&#x4F55;&#x4F7F;&#x73B0;&#x6709;Java&#x4EE3;&#x7801;&#x5E93;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53D7;&#x76CA;&#x5462;&#xFF1F; Groovy&#x548C;Java&#x975E;&#x5E38;&#x517C;&#x5BB9;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;Java&#x6587;&#x4EF6;<code>foo.java</code>&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x91CD;&#x547D;&#x540D;&#x4E3A;<code>foo.groovy</code>&#x3002; &#x60A8;&#x5C06;&#x62E5;&#x6709;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x6709;&#x6548;&#xFF08;&#x548C;&#x53EF;&#x6267;&#x884C;&#xFF09;&#x7684;Groovy&#x6587;&#x4EF6;&#x3002; &#x8BE5;&#x6280;&#x5DE7;&#x4E0D;&#x9002;&#x7528;&#x4E8E;JVM&#x4E0A;&#x7684;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x90BB;&#x5C45;&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x9664;&#x4E86;&#x8BED;&#x8A00;&#x7EA7;&#x522B;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x4E4B;&#x5916;&#xFF0C;Groovy&#x8FD8;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x901A;&#x5E38;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x91CF;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x4ECE;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>Person.java</code>&#x7684;&#x7B80;&#x5355;Java&#x7C7B;&#x5F00;&#x59CB;&#xFF0C;&#x5B83;&#x5177;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;firstName&#x548C;lastName&#x3002; &#x4F5C;&#x4E3A;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#xFF0C;&#x6211;&#x4EEC;&#x4ECE;&#x5C0F;&#x5C31;&#x53D7;&#x8FC7;&#x57F9;&#x8BAD;&#xFF0C;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5177;&#x6709;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x3002; &#x6240;&#x6709;&#x5BF9;&#x5C5E;&#x6027;&#x7684;&#x5916;&#x90E8;&#x8BBF;&#x95EE;&#x90FD;&#x901A;&#x8FC7;&#x516C;&#x5171;&#x83B7;&#x53D6;&#x7A0B;&#x5E8F;&#x548C;&#x8BBE;&#x7F6E;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-comment">/** Java Code */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>{
  <span class="hljs-keyword">private</span> String firstName;
  <span class="hljs-keyword">private</span> String lastName;

  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFirstName</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> firstName;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setFirstName</span><span class="hljs-params">(String firstName)</span> </span>{
    <span class="hljs-keyword">this</span>.firstName = firstName;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getLastName</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> lastName;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setLastName</span><span class="hljs-params">(String lastName)</span> </span>{
    <span class="hljs-keyword">this</span>.lastName = lastName;
  }
}
</code></pre>
<p>&#x6211;&#x5E76;&#x4E0D;&#x53CD;&#x5BF9;&#x73B0;&#x6709;&#x7684;Java&#x5B9E;&#x8DF5;&#x3002;&#x5C01;&#x88C5;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x597D;&#x5904;&#x3002;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x5E26;&#x6765;&#x4E86;&#x6C89;&#x91CD;&#x7684;&#x5570;&#x55E6;&#x7A0E;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x82B1;&#x8D39;&#x4E86;&#x4E8C;&#x5341;&#x591A;&#x884C;&#x4EE3;&#x7801;&#x6765;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x3002; &#x6BCF;&#x4E2A;&#x65B0;&#x5C5E;&#x6027;&#x5C06;&#x4F7F;&#x6211;&#x4EEC;&#x82B1;&#x516D;&#x884C;&#x4EE3;&#x7801;&#x6765;&#x83B7;&#x53D6;&#x6837;&#x677F;&#x83B7;&#x53D6;&#x5668;&#x548C;&#x8BBE;&#x7F6E;&#x5668;&#x3002; &#x73B0;&#x4EE3;IDE&#x5C06;&#x4E3A;&#x6211;&#x4EEC;&#x751F;&#x6210;&#x5FC5;&#x9700;&#x7684;getter&#x548C;setter&#x7684;&#x4E8B;&#x5B9E;&#x5E76;&#x4E0D;&#x80FD;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002; &#x5B83;&#x4F7F;&#x75C7;&#x72B6;&#x4EC5;&#x7565;&#x5FAE;&#x51CF;&#x8F7B;&#x75DB;&#x82E6;&#x3002;</p>
<p>&#x76F8;&#x5E94;&#x7684;Groovy&#x7C7B;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#xFF1F; &#x60A8;&#x53EF;&#x4EE5;&#x5C06;<code>Person.java</code>&#x91CD;&#x547D;&#x540D;&#x4E3A;<code>Person.groovy</code>&#xFF0C;&#x7136;&#x540E;&#x8BE5;&#x6587;&#x4EF6;&#x5C06;&#x88AB;&#x7F16;&#x8BD1;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;Groovy&#x7684;&#x4E60;&#x60EF;&#x7528;&#x6CD5;&#x3002;</p>
<p>Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x9996;&#x5148;&#x6CE8;&#x610F;&#x5230;Groovy&#x662F;&#x5B83;&#x7684;&#x7B80;&#x6D01;&#x3002; &#x597D;&#x7684;Groovy&#x4EE3;&#x7801;&#x662F;Java&#x7684;&#x7CBE;&#x9AD3;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5728;Person&#x7C7B;&#x7684;Groovy&#x7248;&#x672C;&#x4E2D;&#x7ACB;&#x5373;&#x770B;&#x5230;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">/** Groovy Code */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> {</span>
  String firstName
  String lastName
}
</code></pre>
<p>&#x662F;&#x7684;&#xFF0C;&#x4EC5;&#x6B64;&#x800C;&#x5DF2;&#x3002; &#x66F4;&#x597D;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x662F;Java&#x7C7B;&#x7684;&#x76F4;&#x63A5;&#x66FF;&#x4EE3;&#x3002; &#x5C06;&#x5176;&#x7F16;&#x8BD1;&#x4E3A;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x5E76;&#x4E14;Groovy&#x7248;&#x672C;&#x4E0E;Java&#x7248;&#x672C;&#x6CA1;&#x6709;&#x533A;&#x522B;&#x3002; &#x60A8;&#x9700;&#x8981;&#x5177;&#x6709;&#x5E38;&#x89C4;&#x77E5;&#x8BC6;&#x3002; jar&#x653E;&#x5728;&#x60A8;&#x7684;&#x7C7B;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x5C31;&#x8FD9;&#x6837;&#xFF0C;&#x60A8;&#x7684;Java&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x65E0;&#x7F1D;&#x8C03;&#x7528;&#x4EFB;&#x4F55;&#x666E;&#x901A;&#x7684;&#x65E7;Groovy&#x5BF9;&#x8C61;&#xFF08;POGO&#xFF09;&#x6765;&#x4EE3;&#x66FF;&#x5177;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x548C;&#x5B57;&#x6BB5;&#x7684;POJO&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6240;&#x6709;POGO&#x90FD;&#x662F;&#x516C;&#x5F00;&#x7684;&#x3002; &#x6240;&#x6709;&#x5C5E;&#x6027;&#x90FD;&#x662F;&#x79C1;&#x6709;&#x7684;&#x3002; &#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x90FD;&#x6709;getter&#x548C;setter&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x5B57;&#x8282;&#x7801;&#x800C;&#x4E0D;&#x662F;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x3002; &#x8FD9;&#x4F1A;&#x5C06;&#x65B0;&#x5B57;&#x6BB5;&#x7684;6&#xFF1A;1&#x7F16;&#x7801;&#x6BD4;&#x7387;&#x964D;&#x4F4E;&#x5230;&#x6B63;&#x597D;1&#xFF1A;1&#x3002; &#x4E0E;Java&#x7C7B;&#x76F8;&#x6BD4;&#xFF0C;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;POGO&#xFF0C;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x7684;&#x4E86;&#x3002; &#x5B83;&#x662F;POJO&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x6D88;&#x9664;&#x4E86;&#x6240;&#x6709;&#x8BED;&#x6CD5;&#x566A;&#x58F0;&#x3002;</p>
<p>::: alert-info
<strong>&#x7FFB;&#x8BD1;&#x8005;-&#x767D;&#x77F3;-&#x52A0;&#x6CE8;</strong>
<strong>&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x662F;&#x7528;Groovy&#x7F16;&#x8BD1;&#x524D;&#x751F;&#x6210;&#x7684;&#x4E2D;&#x95F4;java&#x6E90;&#x4EE3;&#x7801;</strong></p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">Object</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">groovy</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">GroovyObject</span> </span>{

    <span class="hljs-keyword">private</span> java.lang.String firstName
    <span class="hljs-keyword">private</span> java.lang.String lastName
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> org.codehaus.groovy.reflection.ClassInfo $staticClassInfo
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">boolean</span> __$stMC
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> groovy.lang.MetaClass metaClass

    <span class="hljs-meta">@groovy</span>.transform.<span class="hljs-function">Generated
    <span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">()</span> </span>{
        metaClass = <span class="hljs-comment">/*BytecodeExpression*/</span>
    }

    <span class="hljs-keyword">protected</span> groovy.lang.MetaClass $getStaticMetaClass() {
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-meta">@groovy</span>.transform.Internal
    <span class="hljs-keyword">public</span> groovy.lang.<span class="hljs-function">MetaClass <span class="hljs-title">getMetaClass</span><span class="hljs-params">()</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-meta">@groovy</span>.transform.<span class="hljs-function">Internal
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setMetaClass</span><span class="hljs-params">(groovy.lang.MetaClass mc)</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-meta">@groovy</span>.transform.Internal
    <span class="hljs-keyword">public</span> java.lang.<span class="hljs-function">Object <span class="hljs-title">invokeMethod</span><span class="hljs-params">(java.lang.String method, java.lang.Object arguments)</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-meta">@groovy</span>.transform.Internal
    <span class="hljs-keyword">public</span> java.lang.<span class="hljs-function">Object <span class="hljs-title">getProperty</span><span class="hljs-params">(java.lang.String property)</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-meta">@groovy</span>.transform.<span class="hljs-function">Internal
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setProperty</span><span class="hljs-params">(java.lang.String property, java.lang.Object value)</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-keyword">public</span> java.lang.<span class="hljs-function">String <span class="hljs-title">getFirstName</span><span class="hljs-params">()</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.<span class="hljs-function">Generated
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setFirstName</span><span class="hljs-params">(java.lang.String value)</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.Generated
    <span class="hljs-keyword">public</span> java.lang.<span class="hljs-function">String <span class="hljs-title">getLastName</span><span class="hljs-params">()</span> </span>{
    }

    <span class="hljs-meta">@groovy</span>.transform.<span class="hljs-function">Generated
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setLastName</span><span class="hljs-params">(java.lang.String value)</span> </span>{
    }

}
</code></pre>
<p>:::</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x6162;&#x6162;&#x5730;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x63A5;&#x4E00;&#x4E2A;&#x5730;&#x6DFB;&#x52A0;Java&#x8BED;&#x8A00;&#x7279;&#x6027;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x613F;&#x610F;&#xFF0C;&#x5F53;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x663E;&#x5F0F;&#x5730;&#x8BF4;&#x516C;&#x5171;&#x7C7B;Person&#x548C;&#x79C1;&#x6709;&#x5B57;&#x7B26;&#x4E32;firstName&#x3002;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x60A8;&#x5728;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;<code>getter</code>&#x548C;<code>setter</code>&#x3002;</p>
<p>&#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;<code>Person.java</code>&#x4ECE;&#x5B57;&#x9762;&#x4E0A;&#x91CD;&#x547D;&#x540D;&#x4E3A;<code>Person.groovy</code>&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8BED;&#x6CD5;&#x4E0A;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x4F7F;&#x7528;Groovy&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5F53;&#x60A8;&#x770B;&#x5230;Groovy&#x7248;&#x672C;&#x7684;&#x7B80;&#x5355;&#x4F18;&#x96C5;&#x4E4B;&#x540E;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x589E;&#x52A0;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x590D;&#x6742;&#x6027;&#x5462;&#xFF1F;</p>
<h3 id="1_2_Stripping_Away_the_Verbosity"><a name="1_2_Stripping_Away_the_Verbosity" class="anchor-navigation-ex-anchor" href="#1_2_Stripping_Away_the_Verbosity"><i class="fa fa-link" aria-hidden="true"></i></a>1.2 &#x907F;&#x514D;&#x5197;&#x957F; </h3>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x8FDB;&#x4E00;&#x6B65;&#x63A2;&#x8BA8;&#x8FD9;&#x4E2A;&#x5197;&#x957F;&#x7684;&#x95EE;&#x9898;&#x3002;&#x8003;&#x8651;Java&#x4E2D;&#x89C4;&#x8303;&#x7684;&#x201C;Hello World&#x201D;&#x793A;&#x4F8B;:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    System.out.println(<span class="hljs-string">&quot;Hello World&quot;</span>);
  }
}
</code></pre>
<p>Groovy&#x811A;&#x672C;&#x9690;&#x5F0F;&#x521B;&#x5EFA;&#x4E86;<code>&#x516C;&#x5171;&#x7C7B;&#x884C;</code>&#x4EE5;&#x53CA;&#x516C;&#x5171;&#x9759;&#x6001;<code>void main()</code>&#x884C;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x662F;&#x7528;&#x4E8E;&#x66FF;&#x6362;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-groovy">println <span class="hljs-string">&quot;Hello World&quot;</span>
</code></pre>
<p>&#x540C;&#x6837;&#xFF0C;&#x4E24;&#x8005;&#x90FD;&#x662F;&#x5B57;&#x8282;&#x7801;&#x517C;&#x5BB9;&#x548C;&#x5B8C;&#x5168;&#x53EF;&#x4E92;&#x6362;&#x7684;&#x3002;Groovy&#x793A;&#x4F8B;&#x6240;&#x505A;&#x7684;&#x5DE5;&#x4F5C;&#x4E0E;Java&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x884C;&#x3002;</p>
<p>&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x662F;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x9010;&#x884C;&#x904D;&#x5386;&#x5B83;&#xFF0C;&#x7136;&#x540E;&#x6253;&#x5370;&#x7ED3;&#x679C;&#xFF0C;&#x9700;&#x8981;&#x591A;&#x5C11;&#x884C;Java&#x4EE3;&#x7801;?&#x6839;&#x636E;&#x6211;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x5927;&#x7EA6;&#x6709;35&#x884C;&#x4EE3;&#x7801;:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> java.io.BufferedReader;
<span class="hljs-keyword">import</span> java.io.FileNotFoundException;
<span class="hljs-keyword">import</span> java.io.FileReader;
<span class="hljs-keyword">import</span> java.io.IOException;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WalkFile</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    BufferedReader br = <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">try</span> {
      br = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(<span class="hljs-string">&quot;../simpleFile.txt&quot;</span>));
      String line = <span class="hljs-keyword">null</span>;
      <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-keyword">null</span>) {
        System.out.println(line);
      }
    } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
      e.printStackTrace();
    } <span class="hljs-keyword">catch</span> (IOException e) {
      e.printStackTrace();
    }

    <span class="hljs-keyword">finally</span> {
      <span class="hljs-keyword">if</span> (br != <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">try</span> {
          br.close();
        } <span class="hljs-keyword">catch</span> (IOException e) {
          e.printStackTrace();
        }
      }
    }
  }
}
</code></pre>
<p>&#x6211;&#x5E76;&#x4E0D;&#x662F;&#x5728;&#x5EFA;&#x8BAE;&#x60A8;&#x4EC5;&#x8003;&#x8651;&#x884C;&#x6570;&#x3002; &#x5982;&#x679C;&#x4EC5;&#x662F;&#x60A8;&#x6240;&#x5173;&#x5FC3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5BFC;&#x5165;<code>java.io.*</code>&#x800C;&#x4E0D;&#x662F;&#x663E;&#x5F0F;&#x5730;&#x5BFC;&#x5165;&#x6BCF;&#x4E2A;&#x7C7B;&#x6765;&#x7B80;&#x5316;&#x6B64;&#x793A;&#x4F8B;&#x3002; &#x4E3A;&#x4E86;&#x7B80;&#x6D01;&#x8D77;&#x89C1;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E9B;&#x8F83;&#x77ED;&#x7684;&#x6355;&#x83B7;&#x5757;&#x4E0A;&#x79FB;&#x5230;&#x4E00;&#x884C;&#x3002; &#x4E0D;&#xFF0C;&#x60A8;&#x5BF9;&#x6B64;&#x4EE3;&#x7801;&#x5E94;&#x6709;&#x7684;&#x5173;&#x6CE8;&#x662F;&#x56FA;&#x6709;&#x7684;&#x5197;&#x957F;&#x6027;&#x3002; &#x8FD9;&#x662F;&#x76F8;&#x5E94;&#x7684;Groovy&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;../simpleFile.txt&quot;</span> ).eachLine{ line -&gt;
  println line
}
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x60F3;&#x8F7B;&#x677E;&#x5FEB;&#x901F;&#x5730;&#x5904;&#x7406;&#x6837;&#x5F0F;&#x89C4;&#x5219;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5355;&#x884C;&#x7A0B;&#x5E8F;&#x6765;&#x66FF;&#x4EE3;Java&#x793A;&#x4F8B;&#x4E2D;&#x7684;35&#x884C;&#x3002;&#x884C;&#x6570;&#x53EA;&#x662F;&#x6211;&#x559C;&#x6B22;Groovy&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x2014;&#x6211;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x68EE;&#x6797;&#x5C31;&#x662F;&#x6811;&#x6728;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x597D;&#x5904;&#x3002; &#x6211;&#x7F16;&#x5199;&#x7684;Groovy&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x66FF;&#x4EE3;Java&#xFF0C;&#x8FD9;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x5B9E;&#x3002; &#x7531;&#x4E8E;&#x8FD9;&#x4E9B;&#x539F;&#x56E0;&#xFF0C;&#x6211;&#x559C;&#x6B22;&#x5C06;Groovy&#x89C6;&#x4E3A;&#x201C;&#x53EF;&#x6267;&#x884C;&#x4F2A;&#x4EE3;&#x7801;&#x201D;&#x3002;</p>
<h3 id="1_3_Groovy__The_Blue_Pill_or_the_Red_Pill_"><a name="1_3_Groovy__The_Blue_Pill_or_the_Red_Pill_" class="anchor-navigation-ex-anchor" href="#1_3_Groovy__The_Blue_Pill_or_the_Red_Pill_"><i class="fa fa-link" aria-hidden="true"></i></a>1.3 Groovy:&#x84DD;&#x8272;&#x836F;&#x4E38;&#x8FD8;&#x662F;&#x7EA2;&#x8272;&#x836F;&#x4E38;? </h3>
<p>&#x5728;&#x79D1;&#x5E7B;&#x7535;&#x5F71;&#x300A;&#x9ED1;&#x5BA2;&#x5E1D;&#x56FD;&#x300B;&#x4E2D;&#xFF0C;&#x4E3B;&#x89D2;neo&#x6709;&#x4E24;&#x79CD;&#x9009;&#x62E9;&#x3002;&#x5982;&#x679C;&#x4ED6;&#x5403;&#x4E86;&#x84DD;&#x8272;&#x836F;&#x4E38;&#xFF0C;&#x4ED6;&#x5C06;&#x56DE;&#x5230;&#x4ED6;&#x7684;&#x65E5;&#x5E38;&#x751F;&#x6D3B;&#x3002;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53D8;&#x5316;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x4ED6;&#x9009;&#x62E9;&#x4E86;&#x7EA2;&#x8272;&#x836F;&#x4E38;&#xFF0C;&#x4ED6;&#x5C06;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x4E16;&#x754C;&#x89C2;&#x3002;&#x4ED6;&#x4F1A;&#x5F97;&#x5230;&#x8D85;&#x7EA7;&#x82F1;&#x96C4;&#x7684;&#x80FD;&#x529B;&#x3002;(&#x5F53;&#x7136;&#xFF0C;&#x4ED6;&#x9009;&#x62E9;&#x4E86;&#x7EA2;&#x8272;&#x836F;&#x4E38;&#x3002;&#x5982;&#x679C;&#x4ED6;&#x4E0D;&#x8FD9;&#x4E48;&#x505A;&#xFF0C;&#x90A3;&#x5C31;&#x7B97;&#x4E0D;&#x4E0A;&#x4E00;&#x90E8;&#x7535;&#x5F71;&#x3002;)</p>
<p>Groovy&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x4E2A;&#x9009;&#x62E9;&#x3002;</p>
<p>Groovy&#x7684;&#x201C;&#x84DD;&#x8272;&#x836F;&#x4E38;&#x201D;&#x4F7F;Java&#x66F4;&#x5BB9;&#x6613;&#x4F7F;&#x7528;&#x3002;&#x6B63;&#x5982;&#x6240;&#x793A;&#x7684;Person&#x7C7B;&#x793A;&#x4F8B;&#xFF0C;Groovy&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;Java&#x7684;&#x66FF;&#x4EE3;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x66F4;&#x6539;Java&#x8BED;&#x8A00;&#x7684;&#x4EFB;&#x4F55;&#x8BED;&#x4E49;&#x3002;&#x8FD9;&#x5E94;&#x8BE5;&#x4F1A;&#x5438;&#x5F15;&#x4FDD;&#x5B88;&#x7EC4;&#x7EC7;&#x3002;</p>
<p>&#x5728;&#x201C;&#x7EA2;&#x8272;&#x836F;&#x4E38;&#x201D;&#x4E0B;&#xFF0C;Groovy&#x5F15;&#x5165;&#x4E86;&#x4E0E;Java&#x4E0D;&#x540C;&#x7684;&#x65B0;&#x8BED;&#x8A00;&#x6784;&#x9020;&#x3002; <code>File.eachLine</code>&#x662F;&#x4E00;&#x4E2A;&#x95ED;&#x5305;-&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x65E0;&#x9700;&#x4F7F;&#x7528;<code>java.util.Iterator</code>&#x5373;&#x53EF;&#x8FED;&#x4EE3;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x65B0;&#x65B9;&#x6CD5;&#x3002; &#x8003;&#x8651;&#x5C06;&#x95ED;&#x5305;&#x5305;&#x542B;&#x5728;Java 1.8&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x5C31;&#x5728;&#x8FD9;&#x91CC;&#x3002; &#x8FD9;&#x5E94;&#x8BE5;&#x4F7F;&#x90A3;&#x4E9B;&#x7FA1;&#x6155;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x70AB;&#x9177;&#x529F;&#x80FD;&#x7684;&#x4EBA;&#x4EEC;&#x6240;&#x5E0C;&#x671B;&#xFF0C;&#x4ED6;&#x4EEC;&#x5E0C;&#x671B;Java&#x53EF;&#x4EE5;&#x505A;&#x7C7B;&#x4F3C;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x4E5F;&#x8BB8;James Strachan&#x5728;2003&#x5E74;8&#x6708;29&#x65E5;&#x8BF4;&#x5F97;&#x6700;&#x597D;&#xFF0C;&#x5F53;&#x65F6;&#x4ED6;&#x5411;&#x5168;&#x4E16;&#x754C;&#x4ECB;&#x7ECD;&#x4E86;&#x4ED6;&#x4E00;&#x76F4;&#x5728;&#x505A;&#x7684;&#x4E00;&#x4E2A;&#x5C0F;&#x578B;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x3002;&#x5728;&#x4E00;&#x7BC7;&#x540D;&#x4E3A;&#x201C;Groovy: Java&#x5E73;&#x53F0;&#x65B0;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x7684;&#x8BDE;&#x751F;&#x201D;&#x7684;&#x535A;&#x5BA2;&#x4E2D;&#xFF0C;&#x4ED6;&#x8FD9;&#x6837;&#x5199;&#x9053;:</p>
<p>&#x50CF;Ruby&#x548C;Python&#x8FD9;&#x6837;&#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x4F3C;&#x4E4E;&#x8D8A;&#x6765;&#x8D8A;&#x53D7;&#x6B22;&#x8FCE;&#x3002;&#x6211;&#x4ECD;&#x7136;&#x4E0D;&#x76F8;&#x4FE1;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5728;&#x4E0D;&#x4E45;&#x7684;&#x5C06;&#x6765;&#x90FD;&#x8F6C;&#x5411;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x2014;&#x2014;&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x548C;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x5E76;&#x9009;&#x62E9;&#x6700;&#x9002;&#x5408;&#x8FD9;&#x9879;&#x5DE5;&#x4F5C;&#x7684;&#x5DE5;&#x5177;&#x3002;</p>
<p>&#x201C;&#x6211;&#x4E00;&#x76F4;&#x60F3;&#x4F7F;&#x7528;&#x4E00;&#x79CD;&#x5F88;&#x9177;&#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x4E13;&#x95E8;&#x9488;&#x5BF9;Java&#x5E73;&#x53F0;&#x3002;&#x6709;&#x5F88;&#x591A;&#x9009;&#x62E9;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x662F;&#x5B8C;&#x5168;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x4ECE;&#x4E00;&#x4E2A;&#x987D;&#x56FA;&#x7684;Java&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x3002;Python&#x548C;Ruby&#x90FD;&#x5F88;&#x9177;&#x2014;&#x2014;&#x5C3D;&#x7BA1;&#x5B83;&#x4EEC;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x5E73;&#x53F0;&#x3002;&#x6211;&#x66F4;&#x559C;&#x6B22;&#x4E00;&#x79CD;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#xFF0C;&#x5B83;&#x6784;&#x5EFA;&#x5728;&#x6240;&#x6709;groovy Java&#x4EE3;&#x7801;&#x548C;JVM&#x4E4B;&#x4E0A;&#x3002;</p>
<p>&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4E00;&#x76F4;&#x5728;&#x601D;&#x8003;&#xFF0C;Java&#x5E73;&#x53F0;&#x662F;&#x5426;&#x5E94;&#x8BE5;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x8BBE;&#x8BA1;&#x81EA;&#x5DF1;&#x7684;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#xFF0C;&#x4EE5;&#x4FBF;&#x66F4;&#x597D;&#x5730;&#x5904;&#x7406;&#x73B0;&#x6709;&#x4EE3;&#x7801;&#xFF0C;&#x521B;&#x5EFA;/&#x6269;&#x5C55;&#x666E;&#x901A;Java&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x53CD;&#x4E4B;&#x4EA6;&#x7136;&#x3002;Python/Jython[&#x662F;]&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x597D;&#x7684;&#x57FA;&#x7840;&#x2014;&#x2014;&#x6DFB;&#x52A0;Ruby&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x597D;&#x4E1C;&#x897F;&#xFF0C;&#x53EF;&#x80FD;&#x8FD8;&#x4F1A;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;AOP&#x7279;&#x6027;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x79CD;&#x771F;&#x6B63;groovy&#x7684;&#x65B0;&#x8BED;&#x8A00;&#x6765;&#x7F16;&#x5199;Java&#x5BF9;&#x8C61;&#x811A;&#x672C;&#x3001;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF0C;&#x8C01;&#x77E5;&#x9053;&#x5462;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x8FDB;&#x884C;&#x771F;&#x6B63;&#x7684;&#x5F00;&#x53D1;&#x3002;&#x201D;</p>
<p>&#x8FD9;&#x5C31;&#x662F;Groovy&#x7684;&#x540D;&#x5B57;&#x548C;&#x4E16;&#x754C;&#x89C2;&#x7684;&#x7531;&#x6765;&#x3002;Groovy&#x662F;&#x4E00;&#x79CD;&#x5177;&#x6709;&#x60A8;&#x5E0C;&#x671B;&#x5B83;&#x5177;&#x6709;&#x7684;&#x7279;&#x6027;&#x7684;&#x8BED;&#x8A00;&#x3002;&#x4F20;&#x7EDF;&#x7684;Java&#x5F00;&#x53D1;&#x53D8;&#x5F97;&#x66F4;&#x5BB9;&#x6613;&#x4E86;&#xFF0C;&#x8FD8;&#x662F;&#x4E00;&#x79CD;&#x5C06;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x4EE4;&#x4EBA;&#x5174;&#x594B;&#x7684;&#x65B0;&#x7279;&#x6027;&#x90FD;&#x653E;&#x5230;JVM&#x4E0A;&#x7684;&#x65B9;&#x6CD5;?&#x7B54;&#x6848;&#x662F;&#x4E24;&#x8005;&#x7686;&#x6709;&#x3002;</p>
<h3 id="1_4_Road_Map"><a name="1_4_Road_Map" class="anchor-navigation-ex-anchor" href="#1_4_Road_Map"><i class="fa fa-link" aria-hidden="true"></i></a>1.4 &#x8DEF;&#x7EBF;&#x56FE; </h3>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x9605;&#x8BFB;&#x8FD9;&#x672C;&#x4E66;&#x3002; &#x6BCF;&#x7AE0;&#x90FD;&#x4E13;&#x6CE8;&#x4E8E;&#x7279;&#x5B9A;&#x4E3B;&#x9898;&#xFF0C;&#x4F8B;&#x5982;<code>XML</code>&#xFF0C;<code>&#x6587;&#x4EF6;I/O</code>&#xFF0C;<code>Web&#x670D;&#x52A1;</code>&#x6216;<code>&#x5143;&#x7F16;&#x7A0B;</code>&#x3002; &#x8981;&#x5168;&#x9762;&#x4E86;&#x89E3;&#x8BE5;&#x4E3B;&#x9898;&#x4EE5;&#x53CA;Groovy&#x5982;&#x4F55;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#xFF0C;&#x53EA;&#x9700;&#x50CF;&#x9605;&#x8BFB;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4E66;&#x7C4D;&#x4E00;&#x6837;&#xFF0C;&#x4ECE;&#x5934;&#x81F3;&#x5C3E;&#x9605;&#x8BFB;&#x672C;&#x7AE0;&#x5373;&#x53EF;&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x6025;&#x7740;&#x9700;&#x8981;&#x89E3;&#x51B3;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#xFF0C;&#x90A3;&#x4E48;&#x76EE;&#x5F55;&#x5C31;&#x662F;&#x60A8;&#x7684;&#x670B;&#x53CB;&#x3002; &#x6BCF;&#x7AE0;&#x5206;&#x4E3A;&#x89E3;&#x51B3;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#x6216;&#x63CF;&#x8FF0;&#x7279;&#x5B9A;&#x8BED;&#x8A00;&#x529F;&#x80FD;&#x7684;&#x90E8;&#x5206;&#xFF1A;&#x201C;&#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x201D;&#xFF0C;&#x201C;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x201D;&#xFF0C;&#x201C;&#x5C06;&#x6587;&#x672C;&#x5199;&#x5165;&#x6587;&#x4EF6;&#x201D;&#x7B49;&#x7B49;&#x3002; &#x6BCF;&#x4E2A;&#x90E8;&#x5206;&#x90FD;&#x4EE5;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x5757;&#x5F00;&#x5934;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x952E;&#x5165;&#x5B83;&#x6765;&#x5F00;&#x59CB;&#x60A8;&#x7684;&#x4E1A;&#x52A1;&#x3002; &#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x66F4;&#x591A;&#x8BF4;&#x660E;&#xFF0C;&#x8BF7;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x3002; &#x6211;&#x8BD5;&#x56FE;&#x4F7F;&#x6BCF;&#x4E2A;&#x90E8;&#x5206;&#x5C3D;&#x53EF;&#x80FD;&#x72EC;&#x7ACB;&#x3002; &#x5982;&#x679C;&#x5B83;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x63CF;&#x8FF0;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5219;&#x5E94;&#x4EE5;&#x5408;&#x7406;&#x7684;&#x65B9;&#x5F0F;&#x660E;&#x667A;&#x5730;&#x4EA4;&#x53C9;&#x5F15;&#x7528;&#x5404;&#x8282;
&#x65E0;&#x8BBA;&#x60A8;&#x5728;&#x54EA;&#x91CC;&#x6F5C;&#x6C34;&#xFF0C;&#x90FD;&#x611F;&#x5230;&#x8212;&#x9002;&#x3002;</p>
<p>&#x7B2C;2&#x7AE0;&#xFF0C;&#x5165;&#x95E8;&#xFF0C;&#x7B2C;24&#x9875;&#xFF0C;&#x4ECB;&#x7ECD;&#x4E86;&#x5982;&#x4F55;&#x5B89;&#x88C5;Groovy&#xFF0C;&#x5982;&#x4F55;&#x7F16;&#x8BD1;Groovy&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x542F;&#x7528;Groovy&#x542F;&#x7528;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x6216;IDE&#x3002;</p>
<p>&#x7B2C;3&#x7AE0;&#xFF0C;Groovy&#x7684;&#x65B0;&#x77E5;&#x8BC6;&#xFF0C;&#x7B2C;41&#x9875;&#x662F;&#x201C;&#x7EA2;&#x8272;&#x836F;&#x4E38;&#x201D;&#x4E00;&#x7AE0;&#xFF0C;&#x5411;&#x6709;&#x7ECF;&#x9A8C;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5C55;&#x793A;Groovy&#x5E26;&#x7ED9;&#x805A;&#x4F1A;&#x7684;&#x6240;&#x6709;&#x6709;&#x8DA3;&#x7684;&#x65B0;&#x529F;&#x80FD;&#xFF1A;&#x9E2D;&#x5B50;&#x7C7B;&#x578B;&#xFF0C;Groovy&#x771F;&#x503C;&#x548C;&#x95ED;&#x5305;&#x3002;</p>
<p>&#x7B2C;4&#x7AE0;Java&#x548C;Groovy&#x96C6;&#x6210;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x84DD;&#x8272;&#x836F;&#x4E38;&#x201D;&#x7AE0;&#x8282;&#xFF0C;&#x7B2C;69&#x9875;&#x6F14;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x5C06;Groovy&#x4E0E;&#x73B0;&#x6709;Java&#x57FA;&#x7840;&#x7ED3;&#x6784;&#x96C6;&#x6210;&#x3002;</p>
<p>&#x7B2C;5&#x7AE0;&#xFF0C;&#x4ECE;&#x547D;&#x4EE4;&#x884C;&#x83B7;&#x53D6;Groovy&#x3002;&#x5728;&#x7B2C;86&#x9875;&#x4E0A;&#xFF0C;&#x60A8;&#x5C06;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x60A8;&#x53EF;&#x80FD;&#x8BA4;&#x4E3A;Java&#x4E0D;&#x9002;&#x5408;&#x7684;&#x5730;&#x65B9;&#xFF1A;&#x547D;&#x4EE4;&#x884C;&#x3002; Groovy&#x5BF9;shell&#x811A;&#x672C;&#x8FDB;&#x884C;&#x4E86;&#x66FF;&#x6362;&#xFF0C;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6240;&#x6709;&#x719F;&#x6089;&#x7684;Java&#x4E60;&#x60EF;&#x7528;&#x6CD5;&#x548C;&#x5E93;&#x6765;&#x6267;&#x884C;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x4EFB;&#x52A1;&#x3002;</p>
<p>&#x7B2C;6&#x7AE0;&#xFF0C;&#x6587;&#x4EF6;&#x6280;&#x5DE7;&#x3002;&#x7B2C;100&#x9875;&#xFF0C;&#x5C55;&#x793A;&#x4E86;&#x4F7F;&#x7528;Groovy&#x5904;&#x7406;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x6CD5;&#xFF1A;&#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#xFF0C;&#x8FDB;&#x884C;&#x590D;&#x5236;&#x7B49;&#x7B49;&#x3002;</p>
<p>&#x7B2C;7&#x7AE0;&#xFF0C;XML&#x89E3;&#x6790;&#x3002;&#x7B2C;116&#x9875;&#xFF0C;&#x5C55;&#x793A;&#x4E86;&#x5728;Groovy&#x4E2D;&#x4F7F;&#x7528;XML&#x662F;&#x591A;&#x4E48;&#x5BB9;&#x6613;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#xFF0C;&#x8F7B;&#x677E;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x548C;&#x5C5E;&#x6027;&#x3002;</p>
<p>&#x7B2C;8&#x7AE0;&#xFF0C;&#x7F16;&#x5199;XML&#x3002; &#x7B2C;136&#x9875;&#x4E0A;&#x7684;&#x201C;&#x663E;&#x793A;XML&#x786C;&#x5E01;&#x7684;&#x53E6;&#x4E00;&#x9762;&#xFF1A;&#x5199;&#x51FA;XML&#x6587;&#x6863;&#x201D;&#x3002; &#x60A8;&#x5C06;&#x5B66;&#x5230;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x4ECE;&#x7B80;&#x5355;&#x7684;XML&#x5C01;&#x9001;&#x5904;&#x7406;&#x5230;&#x521B;&#x5EFA;&#x5E26;&#x6709;&#x58F0;&#x660E;&#xFF0C;&#x5904;&#x7406;&#x6307;&#x4EE4;&#xFF0C;CDATA&#x5757;&#x7B49;&#x7684;&#x590D;&#x6742;XML&#x6587;&#x6863;&#x3002;</p>
<p>&#x7B2C;9&#x7AE0;&#xFF0C;Web&#x670D;&#x52A1;&#xFF0C;&#x7B2C;152&#x9875;&#xFF0C;&#x4F7F;&#x7528;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x63A2;&#x8BA8;&#x5982;&#x4F55;&#x8FDB;&#x884C;SOAP&#x8C03;&#x7528;&#x3001;RESTful&#x8C03;&#x7528;&#x3001;XML-RPC&#x8C03;&#x7528;&#x7B49;&#x7B49;&#x3002;</p>
<p>&#x7B2C;10&#x7AE0;&#xFF0C;&#x5143;&#x7F16;&#x7A0B;&#xFF0C;181&#x9875;&#xFF0C;&#x63A2;&#x7D22;&#x4E86;&#x5728;JVM&#x4E0A;&#x7F16;&#x7A0B;&#x7684;&#x4E00;&#x79CD;&#x65B0;&#x601D;&#x8DEF;&#x3002;&#x52A8;&#x6001;&#x5730;&#x53D1;&#x73B0;&#x73B0;&#x6709;&#x7C7B;&#x3001;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5730;&#x52A8;&#x6001;&#x5730;&#x521B;&#x5EFA;&#x65B0;&#x7C7B;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x5411;&#x73B0;&#x6709;&#x7C7B;&#x6DFB;&#x52A0;&#x65B0;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x7B2C;11&#x7AE0;&#xFF0C;Grails&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x7B2C;200&#x9875;&#x4ECB;&#x7ECD;&#x4E86;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5168;&#x9762;&#x7684;web&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x6784;&#x5EFA;&#x5728;&#x719F;&#x6089;&#x7684;Java&#x5E93;(&#x5982;Spring&#x548C;Hibernate)&#x4E4B;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4F7F;&#x7528;Groovy&#x4F5C;&#x4E3A;&#x52A8;&#x6001;&#x7C98;&#x5408;&#x5242;&#x5C06;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x7C98;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>
<p>Chapter 12, Grails and Web Services, on page 233 shows how to use Grails for more than returning simple HTML. We&apos;ll look at RESTful web services, JSON web services, Atom feeds, podcast feeds, and more.</p>
<h3 id="1_5_Acknowledgments"><a name="1_5_Acknowledgments" class="anchor-navigation-ex-anchor" href="#1_5_Acknowledgments"><i class="fa fa-link" aria-hidden="true"></i></a>1.5 &#x81F4;&#x8C22; </h3>
<p>&#x518D;&#x6B21;&#x611F;&#x8C22;Dave Thomas&#x548C;Andy Hunt&#x521B;&#x5EFA;&#x4E86;&#x5B9E;&#x7528;&#x4E66;&#x67B6;&#x3002; &#x8FD9;&#x662F;&#x6211;&#x7B2C;&#x4E8C;&#x672C;&#x4E0E;&#x4ED6;&#x4EEC;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x4E66;&#xFF0C;&#x4F5C;&#x4E3A;&#x4F5C;&#x8005;&#x548C;&#x4E66;&#x540D;&#x7684;&#x72C2;&#x70ED;&#x8BFB;&#x8005;&#xFF0C;&#x6211;&#x5BF9;&#x4ED6;&#x4EEC;&#x5C06;&#x5F00;&#x53D1;&#x8005;&#x4E0E;&#x51FA;&#x7248;&#x516C;&#x53F8;&#x53CB;&#x597D;&#x7684;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x611F;&#x5230;&#x60CA;&#x559C;&#x3002;</p>
<p>&#x8FD9;&#x4E5F;&#x662F;&#x6211;&#x7B2C;&#x4E8C;&#x6B21;&#x4E0E;Daniel Steinberg&#x62C5;&#x4EFB;&#x7F16;&#x8F91;&#x3002; &#x4ED6;&#x91C7;&#x7528;&#x4E86;&#x6211;&#x534A;&#x900F;&#x660E;&#x7684;&#x89C2;&#x70B9;&#xFF0C;&#x5373;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#x4F18;&#x5148;&#x7684;Groovy&#x4E66;&#xFF0C;&#x5E76;&#x4E14;&#x5343;&#x65B9;&#x767E;&#x8BA1;&#x5730;&#x54C4;&#x9A97;&#x4E86;&#x60A8;&#x73B0;&#x5728;&#x6240;&#x638C;&#x63E1;&#x7684;&#x4E1C;&#x897F;&#x3002; &#x4ED6;&#x7528;&#x4E00;&#x53E5;&#x8BDD;&#x5BF9;&#x201C;&#x55EF;&#xFF1F;&#x201D;&#xFF0C;&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;&#x201D;&#x548C;&#x201C;&#x771F;&#x7684;&#xFF1F;&#x201D;&#x7684;&#x8BC4;&#x8BBA;&#x6E29;&#x548C;&#x5730;&#x63A8;&#x52A8;&#x4E86;&#x6211;&#xFF0C;&#x5728;&#x6211;&#x592A;&#x7B80;&#x6D01;&#x7684;&#x5730;&#x65B9;&#x4E0A;&#x6269;&#x5927;&#x60F3;&#x6CD5;&#xFF0C;&#x5728;&#x592A;&#x8FC7;&#x4E34;&#x5E8A;&#x7684;&#x5730;&#x65B9;&#x7ED9;&#x6563;&#x6587;&#x52A0;&#x70ED;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x4E86;&#x7406;&#x7531;&#x548C;&#x6211;&#x7684;&#x771F;&#x5B9E;&#x89C2;&#x70B9;&#x3002; &#x5927;&#x62EC;&#x53F7;&#x548C;&#x5206;&#x53F7;&#x8FD8;&#x4E0D;&#x591F;&#x7684;&#x4E16;&#x754C;&#x7ECF;&#x9A8C;&#x3002; &#x548C;&#x4ED6;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#x771F;&#x662F;&#x4E00;&#x79CD;&#x5FEB;&#x4E50;&#xFF0C;&#x6211;&#x771F;&#x7684;&#x5F88;&#x671F;&#x5F85;&#x6211;&#x4EEC;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x3002;</p>
<p>&#x8877;&#x5FC3;&#x611F;&#x8C22;&#x60A8;&#x5BF9;&#x6211;&#x7684;&#x6280;&#x672F;&#x8BC4;&#x5BA1;&#x65E0;&#x6240;&#x754F;&#x60E7;&#x3002; &#x4ED6;&#x4EEC;&#x654F;&#x9510;&#x7684;&#x773C;&#x775B;&#x548C;&#x654F;&#x9510;&#x7684;&#x820C;&#x5934;&#x4F7F;&#x6211;&#x4FDD;&#x6301;&#x8C26;&#x5351;&#xFF0C;&#x6211;&#x7684;&#x4EE3;&#x7801;&#x7D27;&#x7EF7;&#x3002; Groovy&#x9879;&#x76EE;&#x8D1F;&#x8D23;&#x4EBA;Guillaume Laforge&#x548C;Grails&#x9879;&#x76EE;&#x8D1F;&#x8D23;&#x4EBA;Graeme Rocher&#x7684;&#x8BC4;&#x8BBA;&#x5982;&#x60A8;&#x6240;&#x671F;&#x671B;&#x7684;&#x90A3;&#x6837;&#x7CBE;&#x660E;&#x548C;&#x53CA;&#x65F6;&#x3002; &#x9879;&#x76EE;&#x63D0;&#x4EA4;&#x8005;Jeff Brown&#xFF0C;Dierk Koenig&#x548C;Jason Rudolph&#x6177;&#x6168;&#x5730;&#x5206;&#x4EAB;&#x4E86;&#x4ED6;&#x4EEC;&#x7684;&#x5185;&#x90E8;&#x77E5;&#x8BC6;&#xFF0C;&#x800C;David Geary&#xFF0C;Ken Kousen&#xFF0C;Joe McTee&#x548C;Greg Ostravich&#x786E;&#x4FDD;&#x6211;&#x7684;&#x793A;&#x4F8B;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x4E0D;&#x61C2;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#x662F;&#x53EF;&#x7406;&#x89E3;&#x7684;&#x3002; &#x7279;&#x522B;&#x8981;&#x611F;&#x8C22;&#x6211;&#x7684;&#x597D;&#x670B;&#x53CB;Venkat Subramaniam&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x4E00;&#x8D77;&#x7F16;&#x5199;&#x8FD9;&#x672C;&#x4E66;&#xFF0C;&#x7136;&#x540E;&#x5F88;&#x5FEB;&#x610F;&#x8BC6;&#x5230;&#x4E24;&#x672C;&#x4E66;&#x6BD4;&#x4E00;&#x672C;&#x4E66;&#x8981;&#x597D;&#x3002; &#x4ED6;&#x5728;&#x300A;&#x5B66;&#x4E60;Groovy&#x300B;&#x4E2D;&#x5BF9;&#x8BED;&#x8A00;&#x7684;&#x6218;&#x7565;&#x7406;&#x89E3;&#x662F;&#x5BF9;&#x6211;&#x5728;&#x8FD9;&#x91CC;&#x91C7;&#x53D6;&#x7684;&#x6218;&#x672F;&#x65B9;&#x6CD5;&#x7684;&#x5B8C;&#x7F8E;&#x8865;&#x5145;&#x3002;</p>
<p>&#x975E;&#x5E38;&#x611F;&#x8C22;No Fluff&#xFF0C;Just Stuff&#x7814;&#x8BA8;&#x4F1A;&#x7814;&#x8BA8;&#x4F1A;&#x7684;&#x521B;&#x59CB;&#x4EBA;Jay Zimmerman&#x3002; &#x4ED6;&#x5F88;&#x65E9;&#x5C31;&#x610F;&#x8BC6;&#x5230;Groovy&#x5BF9;Java&#x5F00;&#x53D1;&#x793E;&#x533A;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x5E76;&#x4E14;&#x4ECE;&#x90A3;&#x65F6;&#x8D77;&#x5C31;&#x4E00;&#x76F4;&#x79EF;&#x6781;&#x652F;&#x6301;&#x5B83;&#x3002; &#x5728;Graeme&#xFF0C;Guillaume&#x548C;Alex Tkachman&#x63A5;&#x7BA1;G2One&#x4E4B;&#x524D;&#xFF0C;&#x4ED6;&#x4E3A;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x4E13;&#x4E1A;&#x5F00;&#x53D1;&#x4ED8;&#x8D39;&#x3002; Groovy&#x548C;Grails&#x7684;&#x6F14;&#x8BB2;&#x5728;NFJS&#x9635;&#x5BB9;&#x4E2D;&#x5F97;&#x5230;&#x4E86;&#x7A81;&#x51FA;&#x4F53;&#x73B0;&#xFF0C;&#x800C;2G&#x4F53;&#x9A8C;&#xFF08;&#x7B2C;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x9488;&#x5BF9;Groovy&#x548C;Grails&#x7684;&#x5317;&#x7F8E;&#x4F1A;&#x8BAE;&#xFF09;&#x5219;&#x7EE7;&#x7EED;&#x8868;&#x660E;&#x4ED6;&#x575A;&#x5B9A;&#x5730;&#x81F4;&#x529B;&#x4E8E;&#x6269;&#x5927;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x5438;&#x5F15;&#x529B;&#x3002; &#x81EA;2003&#x5E74;&#x4EE5;&#x6765;&#xFF0C;&#x6211;&#x4E00;&#x76F4;&#x4E0E;&#x6770;&#x4F0A;&#x5BC6;&#x5207;&#x5408;&#x4F5C;&#xFF0C;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x6C89;&#x95F7;&#x7684;&#x65F6;&#x523B;&#x3002;</p>
<p>&#x6700;&#x540E;&#xFF0C;&#x6211;&#x7684;&#x5BB6;&#x4EBA;&#x5E94;&#x8BE5;&#x5F97;&#x5230;&#x6211;&#x6700;&#x6DF1;&#x7684;&#x8C22;&#x610F;&#x3002; &#x5C3D;&#x7BA1;&#x4ED6;&#x4EEC;&#x5E38;&#x5E38;&#x9996;&#x5F53;&#x5176;&#x51B2;&#x5730;&#x53D7;&#x5230;&#x6211;&#x5947;&#x602A;&#x7684;&#x5199;&#x4F5C;&#x65F6;&#x95F4;&#x8868;&#x548C;&#x6C38;&#x8FDC;&#x5B58;&#x5728;&#x7684;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x7684;&#x56F0;&#x6270;&#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x5374;&#x5F88;&#x5C11;&#x62B1;&#x6028;&#x5B83;-&#x81F3;&#x5C11;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x4E0D;&#x662F;&#x3002; &#x6211;&#x7684;&#x59BB;&#x5B50;&#x91D1;&#xFF08;Kim&#xFF09;&#x4ED8;&#x51FA;&#x4E86;&#x770B;&#x4F3C;&#x6BEB;&#x65E0;&#x5E95;&#x7EBF;&#x7684;&#x8010;&#x5FC3;&#x548C;&#x9F13;&#x52B1;&#xFF0C;&#x4F46;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x5F15;&#x8D77;&#x4EBA;&#x4EEC;&#x7684;&#x6CE8;&#x610F;&#x3002; &#x5728;&#x300A; Groovy Recipes&#x300B;&#x5199;&#x4F5C;&#x671F;&#x95F4;&#xFF0C;&#x5979;&#x6700;&#x5E38;&#x95EE;&#x7684;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#x201C;&#x60A8;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x8FD9;&#x672C;&#x4E66;&#x4E86;&#xFF1F;&#x201D;&#x548C;&#x201C;&#x60A8;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x6253;&#x7B97;&#x5199;&#x4E00;&#x4E9B;&#x6211;&#x60F3;&#x9605;&#x8BFB;&#x7684;&#x4E1C;&#x897F;&#xFF1F;&#x201D;&#x6211;&#x53EF;&#x4EE5;&#x5BF9;&#x4E00;&#x4E2A;&#x4EBA;&#x56DE;&#x7B54;&#x201C;&#x662F;&#x2026;&#x2026;&#x6700;&#x7EC8;&#x201D;&#x3002; &#x5BF9;&#x65B9;&#x5219;&#x8868;&#x793A;&#x201C;&#x5F88;&#x5FEB;...&#x6211;&#x5E0C;&#x671B;&#x201D;&#x3002; &#x5E74;&#x8F7B;&#x7684;&#x514B;&#x91CC;&#x65AF;&#x6258;&#x5F17;&#xFF08;Christopher&#xFF09;&#x5341;&#x5206;&#x652F;&#x6301;&#x5199;&#x4F5C;&#x8FC7;&#x7A0B;&#xFF0C;&#x53EA;&#x8981;&#x5B83;&#x4E0D;&#x59A8;&#x788D;&#x6211;&#x4EEC;&#x8BFA;&#x66FC;&#xB7;&#x6D1B;&#x514B;&#x5A01;&#x5C14;&#xFF08;Norman Rockwellian&#xFF09;&#x5F80;&#x8FD4;&#x5E7C;&#x513F;&#x56ED;&#x6216;&#x6211;&#x4EEC;&#x5728;&#x4EFB;&#x5929;&#x5802;Wii&#x4E0A;&#x7684;&#x65F6;&#x95F4;&#x3002; &#xFF08;&#x6211;&#x786E;&#x5B9A;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x505A;&#x3002;&#xFF09;&#x5E74;&#x8F7B;&#x7684;&#x4F0A;&#x4E3D;&#x838E;&#x767D;&#x73B0;&#x5728;&#x6B65;&#x6B65;&#x9AD8;&#x5927;&#xFF0C;&#x591F;&#x5230;&#x5BB6;&#x91CC;&#x7238;&#x7238;&#x7684;&#x95E8;&#x628A;&#x624B;&#xFF0C;&#x8981;&#x786E;&#x4FDD;&#x6211;&#x8D70;&#x5F97;&#x592A;&#x4E45;&#x6CA1;&#x6709;&#x707F;&#x70C2;&#x7684;&#x7B11;&#x5BB9;&#x548C;&#x4E00;&#x4E24;&#x4E2A;&#x4F20;&#x67D3;&#x6027;&#x7684;&#x50BB;&#x7B11;&#x3002;&#x3002; &#x4F60;&#x4EEC;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x5F88;&#x7231;&#x3002;</p>
<h2 id="2_Getting_Started"><a name="2_Getting_Started" class="anchor-navigation-ex-anchor" href="#2_Getting_Started"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;2&#x7AE0; &#x5F00;&#x59CB; </h2>
<p>&#x5B89;&#x88C5;Groovy&#x4E0E;&#x5B89;&#x88C5;Ant&#x3001;Tomcat&#x6216;Java&#x672C;&#x8EAB;&#x4E00;&#x6837;&#x7B80;&#x5355;&#x2014;&#x2014;&#x89E3;&#x538B;&#x7F29;&#x53D1;&#x884C;&#x7248;&#xFF0C;&#x521B;&#x5EFA;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5E76;&#x786E;&#x4FDD;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;&#x60A8;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#x3002;Groovy&#x5C31;&#x7EEA;&#x540E;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4EE5;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x5B83;&#x2014;&#x2014;&#x7F16;&#x8BD1;&#x6216;&#x672A;&#x7F16;&#x8BD1;&#xFF0C;&#x4ECE;shell&#x6216;GUI&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x6216;&#x4ECE;&#x547D;&#x4EE4;&#x884C;&#x6216;web&#x670D;&#x52A1;&#x5668;&#x3002;&#x5982;&#x679C;&#x60A8;&#x6709;&#x4E24;&#x5206;&#x949F;(&#x6216;&#x8005;&#x66F4;&#x5C11;)&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x5C31;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x5F00;&#x59CB;&#x5C1D;&#x8BD5;Groovy&#x3002;&#x5728;&#x60A8;&#x8BF4;&#x201C;&#x4E0B;&#x4E00;&#x4EE3;Java&#x5F00;&#x53D1;&#x201D;&#x4E4B;&#x524D;&#xFF0C;&#x672C;&#x7AE0;&#x5C06;&#x8BA9;&#x60A8;&#x542F;&#x52A8;&#x5E76;&#x8FD0;&#x884C;&#x3002;</p>
<h3 id="2_1_Installing_Groovy"><a name="2_1_Installing_Groovy" class="anchor-navigation-ex-anchor" href="#2_1_Installing_Groovy"><i class="fa fa-link" aria-hidden="true"></i></a>2.1 &#x5B89;&#x88C5;Groovy </h3>
<ol>
<li>&#x4ECE;<code>http://groovy.codehaus.org</code>&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;groovy.zip&#x3002;</li>
<li>&#x521B;&#x5EFA;<code>GROOVY_HOME</code>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;</li>
<li>&#x5C06;<code>$GROOVY_HOME/bin</code>&#x6DFB;&#x52A0;&#x5230;<code>PATH</code>&#x4E2D;&#x3002;</li>
</ol>
<p>&#x8FD0;&#x884C;Groovy&#x6240;&#x9700;&#x7684;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x90FD;&#x5305;&#x542B;&#x5728;&#x4E00;&#x4E2A;ZIP&#x6587;&#x4EF6;&#x4E2D;&#x2014;&#x597D;&#x5427;&#xFF0C;&#x9664;&#x4E86;JDK&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x3002;Groovy 1.x&#x8FD0;&#x884C;&#x5728;java 1.4&#x3001;1.5&#x548C;1.6&#x7684;&#x6240;&#x6709;&#x73B0;&#x4EE3;&#x7248;&#x672C;&#x4E0A;&#x3002;&#x5982;&#x679C;&#x60A8;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x8F83;&#x8001;&#x7248;&#x672C;&#x7684;Java&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>http://java.sun.com</code>&#x83B7;&#x5F97;&#x66F4;&#x65B0;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x77E5;&#x9053;&#x5B89;&#x88C5;&#x4E86;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x7684;Java&#xFF0C;&#x8BF7;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x952E;&#x5165;<code>java -version</code>:</p>
<pre><code class="lang-bash">$ java -version
===&gt;
java version <span class="hljs-string">&quot;1.5.0_13&quot;</span>
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_13-b05-237)
Java HotSpot(TM) Client VM (build 1.5.0_13-119, mixed mode, sharing)
</code></pre>
<p>&#x8981;&#x5229;&#x7528;Java 1.5&#x8BED;&#x8A00;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x6BD4;&#x5982;Groovy&#x4E2D;&#x7684;&#x6CE8;&#x91CA;&#x548C;&#x6CDB;&#x578B;&#xFF0C;&#x53EF;&#x80FD;&#x4E0D;&#x9700;&#x8981;&#x8BF4;&#xFF0C;&#x60A8;&#x81F3;&#x5C11;&#x9700;&#x8981;&#x4E00;&#x4E2A;1.5 JDK&#x3002;</p>
<p>Groovy&#x5728;&#x6BCF;&#x4E00;&#x4EE3;JVM&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x901F;&#x5EA6;&#x90FD;&#x660E;&#x663E;&#x66F4;&#x5FEB;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x9664;&#x975E;&#x6709;&#x5176;&#x4ED6;&#x539F;&#x56E0;&#x963B;&#x788D;&#x60A8;&#xFF0C;&#x5426;&#x5219;&#x6211;&#x5EFA;&#x8BAE;&#x60A8;&#x5C3D;&#x53EF;&#x80FD;&#x5728;&#x6700;&#x65B0;&#x7684;&#x3001;&#x6700;&#x597D;&#x7684;Java&#x7248;&#x672C;&#x4E0A;&#x8FD0;&#x884C;Groovy&#x3002;</p>
<p>&#x540C;&#x6837;&#xFF0C;&#x6211;&#x5EFA;&#x8BAE;&#x60A8;&#x5C3D;&#x53EF;&#x80FD;&#x8FD0;&#x884C;Groovy&#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#x3002;Groovy 1.0&#x4E8E;2007&#x5E74;1&#x6708;&#x53D1;&#x5E03;&#x3002;&#x4E0B;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x7248;&#x672C;Groovy 1.5&#x4E8E;2007&#x5E74;12&#x6708;&#x53D1;&#x5E03;&#x3002;&#x7A0D;&#x540E;&#x60A8;&#x5C06;&#x770B;&#x5230;&#x5982;&#x4F55;&#x786E;&#x5B9A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;Groovy&#x7248;&#x672C;&#x3002;</p>
<p>Groovy&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x715E;&#x8D39;&#x82E6;&#x5FC3;&#x5730;&#x786E;&#x4FDD;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x548C;&#x63A5;&#x53E3;&#x5728;Groovy 1.0&#x548C;1.5&#x4E4B;&#x95F4;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002;&#x7248;&#x672C;&#x53F7;&#x7684;&#x589E;&#x52A0;&#x610F;&#x5473;&#x7740;&#x4E24;&#x4EF6;&#x4E8B;:Java 5&#x8BED;&#x8A00;&#x7279;&#x6027;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x4EE5;&#x53CA;&#x7A33;&#x5B9A;&#x6027;&#x548C;&#x539F;&#x59CB;&#x6027;&#x80FD;&#x7684;&#x5DE8;&#x5927;&#x98DE;&#x8DC3;&#x3002;&#x5982;&#x679C;&#x60A8;&#x4ECD;&#x7136;&#x5728;&#x8FD0;&#x884C;Groovy 1.0&#xFF0C;&#x90A3;&#x4E48;&#x672C;&#x4E66;&#x4E2D;&#x7684;&#x5927;&#x591A;&#x6570;&#x793A;&#x4F8B;&#x5C06;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#x3002;<code>ExpandoMetaClass</code>&#x7C7B;&#x662F;&#x5728;Groovy 1.5&#x4E2D;&#x6DFB;&#x52A0;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5143;&#x7F16;&#x7A0B;&#x4ECE;&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x662F;&#x8BE5;&#x8BED;&#x8A00;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x5728;&#x7B2C;10&#x7AE0;&#x5143;&#x7F16;&#x7A0B;(&#x7B2C;181&#x9875;)&#x4E2D;&#xFF0C;&#x6CA1;&#x6709;&#x7279;&#x522B;&#x4F7F;&#x7528;<code>ExpandoMetaClass</code>&#x7C7B;&#x7684;&#x4F8B;&#x5B50;&#x5728;Groovy&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x4E2D;&#x90FD;&#x5C06;&#x4EE5;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x3002;&#x5E95;&#x7EBF;&#x662F;&#x6240;&#x6709;&#x7684;Groovy1.x&#x7684;&#x7248;&#x672C;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x5408;&#x7406;&#x5730;&#x4E92;&#x6362;&#x3002;&#x6253;&#x7834;&#x8BED;&#x6CD5;&#x7684;&#x66F4;&#x6539;&#x4FDD;&#x7559;&#x7ED9;Groovy 2.x&#x3002;</p>
<p>&#x6211;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86;&#x5173;&#x4E8E;&#x5982;&#x4F55;&#x5B89;&#x88C5;Groovy&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E00;&#x8282;&#x662F;&#x5173;&#x4E8E;Windows&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x53E6;&#x4E00;&#x8282;&#x662F;&#x5173;&#x4E8E;Unix&#x3001;Linux&#x3001;Mac OS X&#x5BB6;&#x65CF;&#x7684;&#x7EC6;&#x8282;&#x3002;</p>
<p><strong>&#x68C0;&#x67E5;Groovy&#x7248;&#x672C;</strong></p>
<pre><code class="lang-bash">$ groovy -version
Groovy Version: 1.5.0 JVM: 1.5.0_13-119
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x952E;&#x5165;<code>groovy -version</code>&#x6765;&#x5224;&#x65AD;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x7684;Groovy&#x3002;&#x5982;&#x8FD9;&#x91CC;&#x6240;&#x793A;&#xFF0C;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x8FD8;&#x663E;&#x793A;&#x4E86;Java&#x7248;&#x672C;&#x3002;</p>
<p><strong>&#x5728;Unix&#x3001;Linux&#x548C;Mac OS X&#x4E0A;&#x5B89;&#x88C5;Groovy</strong>
&#x4ECE;<code>http://groovy.codehaus.org</code>&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7684;Groovy ZIP&#x6587;&#x4EF6;&#x3002; &#x5C06;&#x5176;&#x89E3;&#x538B;&#x7F29;&#x5230;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x76EE;&#x5F55;&#x3002; &#x6211;&#x66F4;&#x559C;&#x6B22;<code>/opt</code>&#x3002; &#x60A8;&#x5C06;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x4E00;&#x4E2A;groovy&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x672B;&#x5C3E;&#x5E26;&#x6709;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;<code>groovy-1.5</code>&#x3002; &#x6211;&#x559C;&#x6B22;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0D;&#x5305;&#x542B;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x53F7;&#x7684;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#xFF1A;<code>ln -s groovy-1.5 groovy</code>&#x3002; &#x8FD9;&#x4F7F;&#x6211;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x4FBF;&#x6377;&#x5730;&#x5728;Groovy&#x7684;&#x7248;&#x672C;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x3002;</p>
<p>&#x7531;&#x4E8E;ZIP&#x6587;&#x4EF6;&#x65E0;&#x6CD5;&#x4FDD;&#x7559;Unix&#x6587;&#x4EF6;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x786E;&#x4FDD;&#x5728;bin&#x76EE;&#x5F55;&#x4E2D;&#x5207;&#x6362;&#x5E76;&#x4F7F;&#x5176;&#x53EF;&#x6267;&#x884C;&#xFF1A;</p>
<pre><code class="lang-bash">$ chmod a+x *
</code></pre>
<p>&#x76EE;&#x5F55;&#x5230;&#x4F4D;&#x540E;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x9700;&#x8981;&#x521B;&#x5EFA;GROOVY_HOME&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002; &#x8FD9;&#x6837;&#x505A;&#x7684;&#x6B65;&#x9AA4;&#x56E0;SHELL&#x800C;&#x5F02;&#x3002; &#x5BF9;&#x4E8E;Bash&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x4E3B;&#x76EE;&#x5F55;&#x4E2D;&#x7F16;&#x8F91;<code>.bash_profile</code>&#x6216;<code>.bash_rc</code>&#x6587;&#x4EF6;&#x3002; &#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment">### Groovy</span>
GROOVY_HOME=/opt/groovy
PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$GROOVY_HOME</span>/bin
<span class="hljs-built_in">export</span> GROOVY_HOME PATH
</code></pre>
<p>&#x4E3A;&#x4E86;&#x4F7F;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#x751F;&#x6548;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x7EC8;&#x7AEF;&#x4F1A;&#x8BDD;&#x3002; &#x6216;&#x8005;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x952E;&#x5165;<code>source .bash_profile</code>&#x4EE5;&#x5C06;&#x66F4;&#x6539;&#x52A0;&#x8F7D;&#x5230;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x4E2D;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x952E;&#x5165;<code>echo $GROOVY_HOME</code>&#x786E;&#x8BA4;&#x60A8;&#x7684;&#x66F4;&#x6539;&#x5DF2;&#x751F;&#x6548;&#xFF1A;</p>
<pre><code class="lang-bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$GROOVY_HOME</span>
/opt/groovy
</code></pre>
<p>&#x8981;&#x9A8C;&#x8BC1;Groovy&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5728;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x8BF7;&#x952E;&#x5165;<code>groovy -version</code>&#x3002; &#x5982;&#x679C;&#x770B;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x60A8;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x4E86;Groovy&#xFF1A;</p>
<pre><code class="lang-bash">Groovy Version: 1.5.0 JVM: 1.5.0_13-119
</code></pre>
<p><strong>&#x5728;Windows&#x4E0A;&#x5B89;&#x88C5;Groovy</strong>
&#x4ECE;<code>http://groovy.codehaus.org</code>&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7684;Groovy ZIP&#x6587;&#x4EF6;&#x3002; &#x5C06;&#x5176;&#x89E3;&#x538B;&#x7F29;&#x5230;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x76EE;&#x5F55;&#x3002; &#x6211;&#x66F4;&#x559C;&#x6B22;<code>c:\opt</code>&#x3002; &#x60A8;&#x5C06;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x4E00;&#x4E2A;groovy&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x7684;&#x672B;&#x5C3E;&#x5E26;&#x6709;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x4F8B;&#x5982;<code>groovy-1.5</code>&#x3002; &#x5C3D;&#x7BA1;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x66F4;&#x7B80;&#x5355;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x4F8B;&#x5982;groovy&#xFF0C;&#x4F46;&#x6211;&#x53D1;&#x73B0;&#x5C06;&#x7248;&#x672C;&#x53F7;&#x4FDD;&#x7559;&#x5728;&#x76EE;&#x5F55;&#x540D;&#x79F0;&#x4E0A;&#x6709;&#x52A9;&#x4E8E;&#x51CF;&#x5C11;&#x5C06;&#x6765;&#x7684;&#x5347;&#x7EA7;&#x3002;</p>
<p>&#x76EE;&#x5F55;&#x5230;&#x4F4D;&#x540E;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x9700;&#x8981;&#x521B;&#x5EFA;<code>GROOVY_HOM</code>E&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002; &#x5BF9;&#x4E8E;Windows XP&#xFF0C;&#x8BF7;&#x8F6C;&#x5230;&#x201C;&#x63A7;&#x5236;&#x9762;&#x677F;&#x201D;&#xFF0C;&#x7136;&#x540E;&#x53CC;&#x51FB;&#x201C;&#x7CFB;&#x7EDF;&#x201D;&#x3002; &#x5355;&#x51FB;&#x9AD8;&#x7EA7;&#x9009;&#x9879;&#x5361;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x7A97;&#x53E3;&#x5E95;&#x90E8;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002; &#x5728;&#x65B0;&#x7A97;&#x53E3;&#x4E2D;&#xFF0C;&#x5355;&#x51FB;&#x201C;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#x201D;&#x4E0B;&#x7684;&#x201C;&#x65B0;&#x5EFA;&#x201D;&#x3002; &#x4F7F;&#x7528;<code>GROOVY_HOME</code>&#x4F5C;&#x4E3A;&#x53D8;&#x91CF;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;<code>c:\opt\groovy-1.5</code>&#x4F5C;&#x4E3A;&#x53D8;&#x91CF;&#x503C;&#x3002;</p>
<p>&#x8981;&#x5C06;Groovy&#x6DFB;&#x52A0;&#x5230;&#x8DEF;&#x5F84;&#xFF0C;&#x8BF7;&#x627E;&#x5230;<code>PATH</code>&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x53CC;&#x51FB;&#x5B83;&#x3002; &#x5C06;<code>;%GROOVY_HOME%\bin</code>&#x6DFB;&#x52A0;&#x5230;&#x53D8;&#x91CF;&#x7684;&#x672B;&#x5C3E;&#x3002; &#xFF08;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x524D;&#x5BFC;&#x7684;&#x5206;&#x53F7;&#x3002;&#xFF09;&#x5355;&#x51FB;&#x201C;&#x786E;&#x5B9A;&#x201D;&#x4EE5;&#x9000;&#x51FA;&#x6240;&#x6709;&#x5BF9;&#x8BDD;&#x6846;&#x3002; &#x4E3A;&#x4E86;&#x4F7F;&#x8FD9;&#x4E9B;&#x66F4;&#x6539;&#x751F;&#x6548;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x9000;&#x51FA;&#x6216;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5DF2;&#x6253;&#x5F00;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x3002; &#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x7136;&#x540E;&#x952E;&#x5165;set&#x4EE5;&#x663E;&#x793A;&#x6240;&#x6709;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x5217;&#x8868;&#x3002; &#x786E;&#x4FDD;&#x51FA;&#x73B0;<code>GROOVY_HOME</code>&#x3002;</p>
<p>&#x8981;&#x9A8C;&#x8BC1;Groovy&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5728;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x8BF7;&#x952E;&#x5165;<code>groovy -version</code>&#x3002; &#x5982;&#x679C;&#x770B;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x60A8;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x5B89;&#x88C5;&#x4E86;Groovy&#xFF1A;</p>
<pre><code class="lang-bash">Groovy Version: 1.5.0 JVM: 1.5.0_13-119
</code></pre>
<h3 id="2_2_Running_a_Groovy_Script"><a name="2_2_Running_a_Groovy_Script" class="anchor-navigation-ex-anchor" href="#2_2_Running_a_Groovy_Script"><i class="fa fa-link" aria-hidden="true"></i></a>2.2 &#x8FD0;&#x884C;Groovy&#x811A;&#x672C; </h3>
<pre><code class="lang-bash">// hello.groovy
println <span class="hljs-string">&quot;Hello Groovy World&quot;</span>
$ groovy hello.groovy
$ groovy hello
===&gt; Hello Groovy World
</code></pre>
<p>&#x6709;&#x7ECF;&#x9A8C;&#x7684;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6CE8;&#x610F;&#x5230;Groovy&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x800C;&#x65E0;&#x9700;&#x5148;&#x7F16;&#x8BD1;&#x3002; &#x60A8;&#x53EA;&#x9700;&#x952E;&#x5165;&#x5373;&#x53EF;&#x2014;&#x4E0E;Java&#x7C7B;&#x76F8;&#x6BD4;&#xFF0C;&#x66F4;&#x50CF;&#x662F;&#x7F16;&#x5199;JSP&#x9875;&#x9762;&#x3002; &#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x60A8;&#x76F8;&#x4FE1;Groovy&#x662F;&#x4E00;&#x79CD;&#x89E3;&#x91CA;&#x8BED;&#x8A00;&#x3002; &#x5B9E;&#x9645;&#x4E0A;&#xFF0C;Groovy&#x5C31;&#x50CF;Java&#x4E00;&#x6837;&#x88AB;&#x7F16;&#x8BD1;&#x6210;&#x5B57;&#x8282;&#x7801;&#x3002; groovy&#x547D;&#x4EE4;&#x65E2;&#x7F16;&#x8BD1;&#x53C8;&#x8FD0;&#x884C;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x4E0D;&#x4F1A;&#x5728;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x627E;&#x5230;&#x751F;&#x6210;&#x7684;.class&#x6587;&#x4EF6;&#x3002; &#x8BE5;&#x5B57;&#x8282;&#x7801;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x521B;&#x5EFA;&#xFF0C;&#x5E76;&#x5728;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x65F6;&#x88AB;&#x4E22;&#x5F03;&#x3002; &#xFF08;&#x5982;&#x679C;&#x8981;&#x4FDD;&#x7559;&#x8FD9;&#x4E9B;&#x7C7B;&#x6587;&#x4EF6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x4E0B;&#x4E00;&#x9875;&#x7684;2.3&#x8282;&#xFF0C;&#x7F16;&#x8BD1;Groovy&#xFF08;groovyc&#xFF09;&#x3002;&#xFF09;</p>
<p>&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x7F16;&#x8BD1;&#x610F;&#x5473;&#x7740;Groovy&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4EA4;&#x4E92;&#x5F0F;shell&#x3002; &#x952E;&#x5165;&#x547D;&#x4EE4;&#x5E76;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x662F;&#x5C1D;&#x8BD5;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x6700;&#x5FEB;&#x65B9;&#x6CD5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7B2C;2.4&#x8282;&#xFF0C;&#x8FD0;&#x884C;Groovy Shell&#xFF08;groovysh&#xFF09;&#x3002; &#x7F3A;&#x70B9;&#x5F53;&#x7136;&#x662F;shell&#x5173;&#x95ED;&#x540E;&#x4EE3;&#x7801;&#x5C31;&#x6D88;&#x5931;&#x4E86;&#x3002; &#x8BE5;shell&#x975E;&#x5E38;&#x9002;&#x5408;&#x8FDB;&#x884C;&#x5B9E;&#x9A8C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x60A8;&#x60F3;&#x505A;&#x4E9B;&#x9664;<code>quick-and-dirty&#x5FEB;&#x901F;&#x548C;&#x80AE;&#x810F;</code>&#x7684;&#x64CD;&#x4F5C;&#x4EE5;&#x5916;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x521B;&#x5EFA;Groovy&#x811A;&#x672C;&#x3002;</p>
<p>&#x8981;&#x521B;&#x5EFA;Groovy&#x811A;&#x672C;&#xFF0C;&#x8BF7;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>hello.groovy</code>&#x7684;&#x65B0;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002; &#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x884C;&#xFF1A;</p>
<p>&#x4FDD;&#x5B58;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x952E;&#x5165;<code>groovy hello.groovy</code>&#x3002; &#x7531;&#x4E8E;&#x7ED9;&#x4E86;&#x5B83;&#x4E00;&#x4E2A;<code>.groovy</code>&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x53EA;&#x952E;&#x5165;<code>groovy hello</code>&#x3002;&#x606D;&#x559C;&#xFF01; &#x60A8;&#x73B0;&#x5728;&#x6B63;&#x5F0F;&#x662F;Groovy&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002; &#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4FF1;&#x4E50;&#x90E8;&#x3002;</p>
<p>&#x6709;&#x5173;&#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;Groovy&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;5&#x7AE0;&#xFF0C;&#x7B2C;86&#x9875;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7684;Groovy&#x3002;</p>
<h3 id="2_3_Compiling_Groovy"><a name="2_3_Compiling_Groovy" class="anchor-navigation-ex-anchor" href="#2_3_Compiling_Groovy"><i class="fa fa-link" aria-hidden="true"></i></a>2.3 &#x7F16;&#x8BD1;Groovy </h3>
<pre><code class="lang-bash">$ groovyc hello.groovy

// on Unix, Linux, and Mac OS X
$ java -cp <span class="hljs-variable">$GROOVY_HOME</span>/embeddable/groovy-all-1.5.0.jar:. hello
===&gt; Hello Groovy World

// on Windows
$ java -cp %GROOVY_HOME%/embeddable/groovy-all-1.5.0.jar;. hello
===&gt; Hello Groovy World
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x53EA;&#x60F3;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;&#x811A;&#x672C;&#xFF0C;&#x8BA9;groovy&#x547D;&#x4EE4;&#x52A8;&#x6001;&#x5730;&#x7F16;&#x8BD1;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x5F88;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x8BD5;&#x56FE;&#x5C06;Groovy&#x7C7B;&#x4E0E;&#x65E7;&#x7248;Java&#x7C7B;&#x6DF7;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5219;groovyc&#x7F16;&#x8BD1;&#x5668;&#x662F;&#x552F;&#x4E00;&#x7684;&#x9009;&#x62E9;&#x3002; &#x53EA;&#x8981;Groovy JAR&#x4F4D;&#x4E8E;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0A;&#xFF0C;&#x60A8;&#x7684;Java&#x7C7B;&#x5C31;&#x53EF;&#x4EE5;&#x50CF;Groovy&#x7C7B;&#x53EF;&#x4EE5;&#x8C03;&#x7528;Java&#x4E00;&#x6837;&#x5BB9;&#x6613;&#x5730;&#x8C03;&#x7528;Groovy&#x3002;</p>
<p>&#x6709;&#x5173;&#x7F16;&#x8BD1;Groovy&#x548C;&#x4E0E;Java&#x7C7B;&#x96C6;&#x6210;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;69&#x9875;&#x7B2C;4&#x7AE0;&#xFF0C;Java&#x548C;Groovy&#x96C6;&#x6210;&#x3002;</p>
<h3 id="2_4_Running_the_Groovy_Shell"><a name="2_4_Running_the_Groovy_Shell" class="anchor-navigation-ex-anchor" href="#2_4_Running_the_Groovy_Shell"><i class="fa fa-link" aria-hidden="true"></i></a>2.4 &#x8FD0;&#x884C;Groovy Shell (groovysh) </h3>
<pre><code class="lang-bash">$ groovysh
Groovy Shell (1.5.0, JVM: 1.5.0_13-119)
Type <span class="hljs-string">&apos;help&apos;</span> or <span class="hljs-string">&apos;\h&apos;</span> <span class="hljs-keyword">for</span> help.
----------------------------------------
groovy:000&gt; println <span class="hljs-string">&quot;Hello Groovy World&quot;</span>
Hello Groovy World
===&gt; null
</code></pre>
<p>Groovy shell&#x5141;&#x8BB8;&#x60A8;&#x4EA4;&#x4E92;&#x5F0F;&#x5730;&#x4F7F;&#x7528;Groovy&#x3002;&#x4E0D;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x6216;&#x7F16;&#x8BD1;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x2014;&#x53EA;&#x9700;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x952E;&#x5165;<code>groovysh</code>&#xFF0C;&#x5E76;&#x5F00;&#x59CB;&#x952E;&#x5165;&#x8BF8;&#x5982;<code>println &quot;Hello Groovy World&quot;</code>&#x4E4B;&#x7C7B;&#x7684;Groovy&#x8BED;&#x53E5;&#x3002;&#x6BCF;&#x6B21;&#x6309;&#x56DE;&#x8F66;&#x952E;&#xFF0C;&#x7ED3;&#x679C;&#x90FD;&#x4F1A;&#x51FA;&#x73B0;&#x3002;&#x8981;&#x9000;&#x51FA;Groovy shell&#xFF0C;&#x952E;&#x5165;<code>exit</code>&#x3002;</p>
<p><code>null(&#x7A7A;)</code>&#x6D88;&#x606F;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x597D;&#x62C5;&#x5FC3;&#x7684;&#x3002;&#x8FD9;&#x53EA;&#x662F;&#x610F;&#x5473;&#x7740;&#x60A8;&#x952E;&#x5165;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x5982;&#x679C;&#x60A8;&#x952E;&#x5165;&#x7C7B;&#x4F3C;&#x4E8E;<code>2+2</code>&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5219;&#x6D88;&#x606F;&#x5C06;&#x662F;&#x8BED;&#x53E5;4&#x7684;&#x7ED3;&#x679C;&#x3002;Groovy&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x6700;&#x540E;&#x4E00;&#x884C;&#x662F;&#x4E00;&#x4E2A;&#x9690;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x8BED;&#x53E5;&#xFF0C;Groovy shell&#x7684;&#x884C;&#x4E3A;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#x7684;:</p>
<pre><code class="lang-bash">groovy:000&gt; 2+2
===&gt; 4
groovy:000&gt; s = <span class="hljs-string">&quot;John&quot;</span>
===&gt; John
groovy:000&gt; s.toUpperCase()
===&gt; JOHN
groovy:000&gt; s.each{println it}
J o h n
===&gt; John
</code></pre>
<p><code>toUpperCase()</code>&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x6765;&#x81EA;<code>java.lang.String</code>&#x7C7B;&#x3002;&#x6709;&#x5173;&#x6BCF;&#x4E2A;&#x95ED;&#x5305;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;59&#x9875;&#x7B2C;3.14&#x8282;&#x201C;&#x8FED;&#x4EE3;&#x201D;&#x3002;</p>
<p>Groovy shell&#x5B58;&#x50A8;&#x60A8;&#x952E;&#x5165;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x2014;&#x5373;&#x4F7F;&#x5728;&#x60A8;&#x9000;&#x51FA;shell&#x4E4B;&#x540E;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5411;&#x4E0A;&#x548C;&#x5411;&#x4E0B;&#x7BAD;&#x5934;&#x952E;&#x5FEB;&#x901F;&#x5730;&#x91CD;&#x65B0;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x6216;&#x7EA0;&#x6B63;&#x80D6;&#x624B;&#x6307;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002;</p>
<p>&#x63D0;&#x793A;&#x7B26;&#x5904;&#x7684;<code>:000</code>&#x8868;&#x793A;&#x5728;&#x4E0D;&#x8FD0;&#x884C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8F93;&#x5165;&#x4E86;&#x591A;&#x5C11;&#x884C;Groovy&#x4EE3;&#x7801;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;Groovy shell&#x4E2D;&#x52A8;&#x6001;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B;&#x5E76;&#x7ACB;&#x5373;&#x4F7F;&#x7528;&#x5B83;&#x3002;(&#x5F53;&#x7136;&#xFF0C;&#x4E00;&#x65E6;&#x60A8;&#x9000;&#x51FA;shell&#xFF0C;&#x7C7B;&#x5C31;&#x4F1A;&#x6D88;&#x5931;&#x3002;)</p>
<pre><code class="lang-bash">groovy:000&gt; class Person{
groovy:001&gt; String name
groovy:002&gt; String <span class="hljs-function"><span class="hljs-title">toString</span></span>(){
groovy:003&gt; <span class="hljs-string">&quot;Hi! My name is <span class="hljs-variable">${name}</span>&quot;</span>
groovy:004&gt; }
groovy:005&gt; }
===&gt; <span class="hljs-literal">true</span>
groovy:000&gt; p = new Person(name:<span class="hljs-string">&quot;John&quot;</span>)
===&gt; Hi! My name is John
</code></pre>
<p>&#x4F60;&#x6CE8;&#x610F;&#x5230;&#x4E24;&#x6B21;&#x90FD;&#x6CA1;&#x6709;&#x770B;&#x5230;null&#x5417;?&#x7B2C;&#x4E00;&#x6B21;&#x5F97;&#x5230;true&#x65F6;&#x2014;&#x2014;&#x8FD9;&#x662F;Groovy shell&#x7684;&#x4E00;&#x79CD;&#x8BF4;&#x6CD5;&#xFF0C;&#x201C;&#x597D;&#x7684;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x4E3A;&#x60A8;&#x5B9A;&#x4E49;&#x8FD9;&#x4E2A;&#x7C7B;&#x3002;&#x7B2C;&#x4E8C;&#x6B21;&#x770B;&#x5230;&#x7C7B;&#x7684;toString&#x8F93;&#x51FA;&#x3002;&#x5192;&#x7740;&#x542C;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x539A;&#x989C;&#x65E0;&#x803B;&#x7684;&#x98CE;&#x9669;&#xFF0C;&#x60A8;&#x5C06;&#x5F88;&#x5FEB;&#x5B66;&#x4F1A;&#x53EA;&#x5728;&#x5173;&#x5FC3;Groovy shell&#x5FC5;&#x987B;&#x8981;&#x8BF4;&#x4EC0;&#x4E48;&#x7684;&#x65F6;&#x5019;&#x624D;&#x5173;&#x6CE8;&#x5B83;&#x7684;&#x7ED3;&#x679C;&#x2026;&#x2026;</p>
<p>::: alert-info
<strong>&#x95EE;&#x9898;:&#x4E3A;&#x4EC0;&#x4E48;Groovy Shell&#x4F1A;&#x5FD8;&#x8BB0;&#x53D8;&#x91CF;?</strong></p>
<pre><code class="lang-bash">groovy:000&gt; String s = <span class="hljs-string">&quot;Jane&quot;</span>
groovy:000&gt; println s
===&gt;
ERROR groovy.lang.MissingPropertyException:
No such property: s <span class="hljs-keyword">for</span> class: groovysh_evaluate
groovy:000&gt; s = <span class="hljs-string">&quot;Jane&quot;</span>
groovy:000&gt; println s
===&gt; Jane
</code></pre>
<p>Groovy shell&#x5728;&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x65B9;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x5947;&#x602A;&#x7684;&#x5931;&#x5FC6;&#x6848;&#x4F8B;&#x3002;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6216;def&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x4F1A;&#x7ACB;&#x5373;&#x88AB;&#x5FD8;&#x8BB0;&#x3002;&#x5728;shell&#x4F1A;&#x8BDD;&#x671F;&#x95F4;&#xFF0C;&#x5C06;&#x8BB0;&#x4F4F;&#x4E00;&#x4E2A;&#x975E;&#x7C7B;&#x578B;&#x5316;&#x53D8;&#x91CF;&#x3002;&#x5F53;&#x5C06;&#x4EE3;&#x7801;&#x4ECE;&#x811A;&#x672C;&#x590D;&#x5236;&#x5230;shell&#x65F6;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5F15;&#x8D77;&#x5F88;&#x5927;&#x7684;&#x6DF7;&#x6DC6;&#x2014;&#x2014;&#x5728;&#x811A;&#x672C;&#x4E2D;&#x4EE3;&#x7801;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF0C;&#x800C;&#x5728;shell&#x4E2D;&#x4EE3;&#x7801;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x3002;</p>
<p>&#x8981;&#x7406;&#x89E3;&#x8FD9;&#x79CD;&#x660E;&#x663E;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x66F4;&#x597D;&#x5730;&#x7406;&#x89E3;Groovy shell&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x3002;(&#x5982;&#x679C;&#x60A8;&#x89C9;&#x5F97;&#x60A8;&#x7684;&#x773C;&#x775B;&#x5F00;&#x59CB;&#x53D8;&#x5F97;&#x5446;&#x6EDE;&#xFF0C;&#x8BF7;&#x5C06;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x4ECE;shell&#x53D8;&#x91CF;&#x4E2D;&#x53BB;&#x6389;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x2026;&#x2026;)</p>
<p>Groovy shell&#x662F;<code>groovy.lang.Groovyshell</code>&#x7684;&#x4E00;&#x4E2A;&#x4EA4;&#x4E92;&#x5F0F;&#x5B9E;&#x4F8B;&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x8FD8;&#x652F;&#x6301;&#x7B2C;5.10&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;<code>evaluate</code>&#x547D;&#x4EE4;&#xFF0C;&#x5373;&#x7B2C;95&#x9875;&#x4E0A;&#x7684;&#x6C42;&#x503C;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x6BCF;&#x4E2A;GroovyShell&#x90FD;&#x5728;<code>groovy.lang.Binding</code>&#x4E2D;&#x5B58;&#x50A8;&#x672C;&#x5730;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;(&#x6BD4;&#x5982;s=&quot;Jane&quot;)&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7ED1;&#x5B9A;&#x5BF9;&#x8C61;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x201C;&#x5929;&#x7A7A;&#x4E2D;&#x7684;&#x5927;hashmap&#x201D;&#x3002;&#x5F53;&#x60A8;&#x952E;&#x5165;<code>println s</code>&#x65F6;&#xFF0C;shell&#x4F1A;&#x5728;&#x540E;&#x53F0;&#x8C03;&#x7528;<code>binding.getVariable(&quot;s&quot;)</code>&#x3002;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;(String s =&quot;Jane&quot;)&#x4E0D;&#x4F1A;&#x5B58;&#x50A8;&#x5728;&#x7ED1;&#x5B9A;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x60A8;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x5B83;&#x4EEC;&#x65F6;&#x5C06;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x5B83;&#x4EEC;&#x3002;</p>
<p>&#x6709;&#x5173;GroovyShell&#x548C;&#x7ED1;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;188&#x9875;&#x7B2C;10.4&#x8282;&#xFF0C;&#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x3002;
:::
<strong>&#x56FE;2.1: Groovy&#x63A7;&#x5236;&#x53F0;</strong>
<img src="_v_images/20190924102922545_12154.png" alt="Figure 2.1: The Groovy console"></p>
<p><strong>&#x52A8;&#x6001;&#x67E5;&#x627E;&#x7C7B;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-string">groovy:</span><span class="hljs-number">000</span>&gt; String.methods.each{println it}
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.lang.String.hashCode()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> java.lang.String.compareTo(java.lang.Object)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.lang.String.compareTo(java.lang.String)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> java.lang.String.equals(java.lang.Object)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.lang.String.length()
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Groovy shell&#x5FEB;&#x901F;&#x53D1;&#x73B0;&#x7ED9;&#x5B9A;&#x7C7B;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x8BBE;&#x60A8;&#x60F3;&#x67E5;&#x770B;&#x6240;&#x6709;&#x7684;String&#x65B9;&#x6CD5;&#x3002;&#x524D;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x5F88;&#x6709;&#x7528;&#x3002;</p>
<p>&#x76F4;&#x63A5;&#x5411;&#x7C7B;&#x8BE2;&#x95EE;&#x65B9;&#x6CD5;&#x7684;&#x597D;&#x5904;&#x662F;&#x5B83;&#x59CB;&#x7EC8;&#x662F;&#x6700;&#x65B0;&#x7684;-&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;Javadocs&#x53EF;&#x80FD;&#x4E0E;&#x5B9E;&#x65F6;&#x4EE3;&#x7801;&#x4E0D;&#x540C;&#x6B65;&#x3002; &#x6709;&#x5173;&#x7C7B;&#x81EA;&#x7701;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;181&#x9875;&#x7B2C;10&#x7AE0;&#xFF0C;&#x5143;&#x7F16;&#x7A0B;&#x3002;</p>
<p>&#x5728;&#x672C;&#x8282;&#x7684;&#x5F00;&#x5934;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;null&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x547D;&#x4EE4;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x5FFD;&#x7565;&#x8BE5;null&#x6D88;&#x606F;&#x3002; &#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x662F;shell&#x8F93;&#x51FA;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5B83;&#x7684;&#x566A;&#x58F0;&#x5927;&#x4E8E;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x6210;&#x529F;&#x663E;&#x793A;&#x7C7B;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x540E;&#xFF0C;&#x547D;&#x4EE4;<code>String.methods.each{println it}</code>&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-string">groovy:</span><span class="hljs-number">000</span>&gt; String.methods.each{println it}
...
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> native <span class="hljs-keyword">void</span> java.lang.Object.notify()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> native <span class="hljs-keyword">void</span> java.lang.Object.notifyAll()
ERROR groovy.lang.<span class="hljs-string">MissingMethodException:</span>
No signature of <span class="hljs-string">method:</span>
org.codehaus.groovy.tools.shell.Groovysh$_closure1.call()
is applicable <span class="hljs-keyword">for</span> argument <span class="hljs-string">types:</span>
...
</code></pre>
<p>&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x8BF4;&#x8FC7;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x60A8;&#x5173;&#x5FC3;Groovy shell&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x60A8;&#x624D;&#x4F1A;&#x5F88;&#x5FEB;&#x5B66;&#x4F1A;&#x5173;&#x6CE8;&#x5B83;&#x7684;&#x7ED3;&#x679C;&#x5417;&#xFF1F; &#x5728;&#x663E;&#x793A;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#xFF0C;shell&#x5C1D;&#x8BD5;&#x6267;&#x884C;<code>String.methods</code>&#x8C03;&#x7528;&#x7684;&#x7ED3;&#x679C;&#xFF08;&#x5E76;&#x4E14;&#x53EF;&#x80FD;&#x4F1A;&#x5931;&#x8D25;&#xFF0C;&#x6211;&#x53EF;&#x80FD;&#x4F1A;&#x6DFB;&#x52A0;&#xFF09;&#x3002; &#x7531;&#x4E8E;&#x6211;&#x5DF2;&#x7ECF;&#x4E60;&#x60EF;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x4E0D;&#x4F1A;&#x8BA9;&#x6211;&#x611F;&#x5230;&#x56F0;&#x6270;&#x3002; &#x6211;&#x65E0;&#x89C6;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x77E5;&#x9053;&#x5B83;&#x5C06;&#x8981;&#x53D1;&#x751F;&#xFF0C;&#x800C;&#x4E14;&#x6BD5;&#x7ADF;&#x8FD9;&#x662F;&#x4E34;&#x65F6;&#x4EE3;&#x7801;&#x3002; &#x5982;&#x679C;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x4F7F;&#x60A8;&#x611F;&#x5230;&#x56F0;&#x6270;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5728;&#x8C03;&#x7528;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#xFF0C;&#x8BE5;&#x8BED;&#x53E5;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x6C42;&#x503C;&#xFF0C;&#x4F8B;&#x5982;<code>String.methods.each{println it}; &quot;DONE&quot;</code>&#x3002; &#x60A8;&#x5C06;&#x8F93;&#x5165;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x4E5F;&#x907F;&#x514D;&#x4E86;shel&#x7684;&#x4E00;&#x4E9B;&#x6742;&#x97F3;&#x3002;</p>
<p><strong>&#x83B7;&#x53D6;&#x5E2E;&#x52A9;</strong></p>
<pre><code class="lang-bash">groovy:000&gt; <span class="hljs-built_in">help</span>
For information about Groovy, visit:
http://groovy.codehaus.org
Available commands:
<span class="hljs-built_in">help</span> (\h) Display this <span class="hljs-built_in">help</span> message
? (\?) Alias to: <span class="hljs-built_in">help</span>
<span class="hljs-built_in">exit</span> (\x) Exit the shell
quit (\q) Alias to: <span class="hljs-built_in">exit</span>
import (\i) Import a class into the namespace
display (\d) Display the current buffer
clear (\c) Clear the buffer
show (\S) Show variables, classes or imports
inspect (\n) Inspect a variable or the last result
with the GUI object browser
purge (\p) Purge variables, classes, imports or preferences
edit (\e) Edit the current buffer
load (\l) Load a file or URL into the buffer
. (\.) Alias to: load
save (\s) Save the current buffer to a file
record (\r) Record the current session to a file
<span class="hljs-built_in">history</span> (\H) Display, manage and recall edit-line <span class="hljs-built_in">history</span>
<span class="hljs-built_in">alias</span> (\a) Create an <span class="hljs-built_in">alias</span>
<span class="hljs-built_in">set</span> (\=) Set (or list) preferences
For <span class="hljs-built_in">help</span> on a specific <span class="hljs-built_in">command</span> <span class="hljs-built_in">type</span>:
<span class="hljs-built_in">help</span> <span class="hljs-built_in">command</span>
</code></pre>
<p>&#x5728;Groovy shell&#x4E2D;&#x952E;&#x5165;<code>help</code>&#x65F6;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x4E00;&#x4E9B;&#x9690;&#x85CF;&#x7684;&#x597D;&#x4E1C;&#x897F;&#x3002;<code>import</code>&#x7684;&#x884C;&#x4E3A;&#x4E0E;&#x5B83;&#x5728;Java&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x884C;&#x4E3A;&#x4E00;&#x6837;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x5305;&#x4E2D;&#x7684;&#x7C7B;&#x3002;&#x5982;&#x679C;&#x60A8;&#x6B63;&#x5728;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5F88;&#x957F;&#x7684;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x641E;&#x7838;&#x4E86;&#xFF0C;<code>clear</code>&#x5C06;&#x8FD4;&#x56DE;&#x5230;&#x4E00;&#x4E2A;:000&#x72B6;&#x6001;&#x3002;&#x8981;&#x6E05;&#x9664;&#x6574;&#x4E2A;&#x4F1A;&#x8BDD;&#xFF0C;&#x8F93;&#x5165;<code>purge</code>&#x53EF;&#x4EE5;&#x4F7F;&#x60A8;&#x56DE;&#x5230;&#x6700;&#x521D;&#x542F;&#x52A8;shell&#x65F6;&#x7684;&#x72B6;&#x6001;&#x3002;<code>record</code>&#x5C06;&#x60A8;&#x952E;&#x5165;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x4FDD;&#x5B58;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x7A0D;&#x540E;&#x201C;&#x56DE;&#x653E;&#x201D;&#x3002;<code>history</code>&#x663E;&#x793A;&#x4E86;shell&#x8BB0;&#x4F4F;&#x60A8;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<h3 id="2_5_Running_the_Groovy_Console"><a name="2_5_Running_the_Groovy_Console" class="anchor-navigation-ex-anchor" href="#2_5_Running_the_Groovy_Console"><i class="fa fa-link" aria-hidden="true"></i></a>2.5 &#x8FD0;&#x884C;Groovy&#x63A7;&#x5236;&#x53F0;&#xFF08;groovyConsole&#xFF09; </h3>
<pre><code class="lang-bash">$ groovyConsole
</code></pre>
<p>&#x9664;&#x4E86;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;Groovy Shell&#xFF0C;Groovy&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x56FE;&#x5F62;&#x63A7;&#x5236;&#x53F0;&#x3002; &#xFF08;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;31&#x9875;&#x7684;&#x56FE;2.1&#x3002;&#xFF09;&#x5728;&#x7A97;&#x53E3;&#x7684;&#x4E0A;&#x534A;&#x90E8;&#x5206;&#x952E;&#x5165;&#x547D;&#x4EE4;&#x3002; &#x9009;&#x62E9;<code>Script &gt; Run</code>&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E0B;&#x534A;&#x90E8;&#x5206;&#x67E5;&#x627E;&#x7ED3;&#x679C;&#x3002; &#xFF08;&#x9009;&#x62E9;<code>Script &gt; Run Selection</code>&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7126;&#x70B9;&#x7F29;&#x5C0F;&#x5230;&#x7A81;&#x51FA;&#x663E;&#x793A;&#x7684;&#x4EE3;&#x7801;&#x884C;&#x3002;&#xFF09;</p>
<p>&#x5728;&#x7B2C;28&#x9875;&#x8FD0;&#x884C;Groovy Shell (groovysh)&#x7684;&#x7B2C;2.4&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;Groovy Shell&#x5438;&#x5F15;&#x4E86;&#x547D;&#x4EE4;&#x884C;&#x725B;&#x4ED4;&#x3002; Groovy&#x63A7;&#x5236;&#x53F0;&#x65E8;&#x5728;&#x5438;&#x5F15;&#x66F4;&#x7CBE;&#x7EC6;&#x7684;GUI&#x7528;&#x6237;&#x2014;&#x2014;&#x90A3;&#x4E9B;&#x5DF2;&#x7ECF;&#x4E60;&#x60EF;&#x4E86;<code>&#x526A;&#x5207;/&#x590D;&#x5236;/&#x7C98;&#x8D34;</code>,<code>&#x64A4;&#x6D88;/&#x91CD;&#x505A;</code>&#x7B49;&#x7EC6;&#x8282;&#x7684;&#x7528;&#x6237;&#x3002; &#x63A7;&#x5236;&#x53F0;&#x4E0D;&#x80FD;&#x66FF;&#x4EE3;&#x771F;&#x6B63;&#x7684;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x6BD4;shell&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x4FBF;&#x5229;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x6709;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;Groovy&#x811A;&#x672C;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#x901A;&#x8FC7;&#x9009;&#x62E9;<code>File &gt; Open</code>&#x6765;&#x6253;&#x5F00;&#x5B83;&#x3002;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9009;&#x62E9;<code>File &gt; Save</code>&#x4FDD;&#x5B58;Shell&#x4F1A;&#x8BDD;&#x3002;</p>
<p>&#x60A8;&#x751A;&#x81F3;&#x6709;&#x4E00;&#x4E2A;&#x56FE;&#x5F62;&#x5BF9;&#x8C61;&#x6D4F;&#x89C8;&#x5668;&#x6765;&#x66F4;&#x6DF1;&#x5165;&#x5730;&#x67E5;&#x770B;&#x7ED9;&#x5B9A;&#x7C7B;&#x4E0A;&#x53EF;&#x7528;&#x7684;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x3002;&#x63A7;&#x5236;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;Person&#x7684;&#x5B9E;&#x4F8B;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x9009;&#x62E9;<code>Script &gt; Inspect Last to snoop</code>&#xFF0C;&#x5982;&#x56FE;2.2&#x6240;&#x793A;&#x3002;</p>
<h3 id="2_6_Running_Groovy_on_a_Web_Server"><a name="2_6_Running_Groovy_on_a_Web_Server" class="anchor-navigation-ex-anchor" href="#2_6_Running_Groovy_on_a_Web_Server"><i class="fa fa-link" aria-hidden="true"></i></a>2.6 &#x5728;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;Groovy (groovlet) </h3>
<pre><code class="lang-bash">1. Copy <span class="hljs-variable">$GROOVY_HOME</span>/embeddable/groovy.jar to WEB-INF/lib.
2. Add groovy.servlet.GroovyServlet to WEB-INF/web.xml.
3. Place your Groovy scripts wherever you<span class="hljs-string">&apos;d normally place your JSP files.
4. Create hyperlinks to your Groovy scripts.
</span></code></pre>
<p>&#x5728;web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;Groovy servlet&#x53EF;&#x4EE5;&#x8BA9;&#x60A8;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C;&#x3002;</p>
<p><strong>&#x56FE;2.2: Groovy&#x5BF9;&#x8C61;&#x6D4F;&#x89C8;&#x5668;</strong>
<img src="_v_images/20190924135042388_6167.png" alt="Figure 2.2: The Groovy object browser"></p>
<p>Groovy servlet&#x7684;&#x884C;&#x4E3A;&#x7C7B;&#x4F3C;&#x4E8E;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x7684;groovy&#x547D;&#x4EE4;-&#x5B83;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7F16;&#x8BD1;&#x60A8;&#x7684;<code>.groovy</code>&#x811A;&#x672C;&#x3002;</p>
<p>&#x9996;&#x5148;&#xFF0C;&#x5C06;groovy.jar&#x4ECE;<code>$GROOVY_HOME/embedded</code>&#x590D;&#x5236;&#x5230;JEE&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;<code>WEB-INF/lib</code>&#x76EE;&#x5F55;&#x4E2D;&#x3002; Groovy&#x542F;&#x7528;&#x4E86;&#x6574;&#x4E2A;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x8981;&#x52A8;&#x6001;&#x8FD0;&#x884C;Groovlets&#xFF0C;&#x8BF7;&#x5C06;<code>groovy.servlet.GroovyServlet</code>&#x6761;&#x76EE;&#x6DFB;&#x52A0;&#x5230;<code>WEB-INF/web.xml</code>&#x90E8;&#x7F72;&#x63CF;&#x8FF0;&#x7B26;&#x4E2D;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x6620;&#x5C04;&#x6240;&#x9700;&#x7684;&#x4EFB;&#x4F55;URL&#x6A21;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x901A;&#x5E38;&#x4F7F;&#x7528;<code>*.groovy</code>&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x3002;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.4&quot;</span>
         <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/j2ee&quot;</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://java.sun.com/xml/ns/j2ee web-app_2_4.xsd&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>Groovy<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>groovy.servlet.GroovyServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>Groovy<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>*.groovy<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- The Welcome File List --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file-list</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">welcome-file</span>&gt;</span>index.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">welcome-file-list</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span>
</code></pre>
<p><strong>&#x56FE;2.3&#xFF1A;&#x53CB;&#x597D;&#x7684;Groovlet</strong>
<img src="_v_images/20190924135309949_8031.png" alt="Figure 2.3: A friendly Groovlet"></p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x4EFB;&#x4F55;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C;&#x62D6;&#x653E;&#x5230;&#x60A8;&#x7684;Web&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5B83;&#x5C06;&#x8FD0;&#x884C;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5728;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>hello.groovy</code>&#x7684;&#x6587;&#x4EF6;&#x3002; &#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x884C;&#xFF1A;</p>
<pre><code class="lang-groovy">println <span class="hljs-string">&quot;Hello ${request.getParameter(&apos;name&apos;)}&quot;</span>
</code></pre>
<p>&#x8FD9;&#x4E2A;Groovlet&#x56DE;&#x663E;&#x4E86;&#x60A8;&#x901A;&#x8FC7;name&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7684;&#x4EFB;&#x4F55;&#x5185;&#x5BB9;&#x3002; &#x8981;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x8BF7;&#x5728;&#x7F51;&#x7EDC;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BBF;&#x95EE;<code>http://localhost:8080/g2/hello.groovy?name=Scott</code>&#x3002; &#x53CB;&#x597D;&#x7684;Groovlet&#x5E94;&#x8BE5;&#x4EE5;&#x4E2A;&#x6027;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x8BF4;&#x201C;Hello&#x201D;&#x3002;(&#x53C2;&#x89C1;&#x56FE;2.3&#x3002;)</p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x50CF;&#x521B;&#x5EFA;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x4E00;&#x6837;&#x8F7B;&#x677E;&#x5730;&#x521B;&#x5EFA;&#x6307;&#x5411;Groovlets&#x7684;&#x8D85;&#x94FE;&#x63A5;&#xFF1A;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://localhost:8080/g2/hello.groovy?name=Scott&quot;</span> &gt;</span>Say Hello<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<p>Groovlet&#x8FD8;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x8868;&#x5355;&#x65B9;&#x6CD5;&#x662F;GET&#xFF0C;&#x5B57;&#x6BB5;&#x540D;&#x662F;name&#x3002;&#x8FD9;&#x5C06;&#x521B;&#x5EFA;&#x60A8;&#x624B;&#x52A8;&#x8F93;&#x5165;&#x5E76;&#x5728;&#x524D;&#x9762;&#x653E;&#x5165;&#x8D85;&#x94FE;&#x63A5;&#x7684;&#x76F8;&#x540C;URL&#x3002;&#x5BF9;&#x4E8E;&#x7A0D;&#x5FAE;&#x9AD8;&#x7EA7;&#x4E00;&#x70B9;&#x7684;Groovlet&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;185&#x9875;&#x7684;&#x7B2C;10.3&#x8282;&#xFF0C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728;&#x3002;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;hello.groovy&quot;</span>&gt;</span>
      Name: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Say Hi&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>Web&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#x68C0;&#x67E5;Groovlet</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">// stats.groovy</span>
html.h1(<span class="hljs-string">&quot;Disk Free (df -h)&quot;</span>)
html.pre(<span class="hljs-string">&apos;df -h&apos;</span>.execute().text)
html.hr()
html.h1(<span class="hljs-string">&quot;IP Config (ifconfig)&quot;</span> )
html.pre(<span class="hljs-string">&apos;ifconfig&apos;</span>.execute().text)
html.hr()
html.h1(<span class="hljs-string">&quot;Top (top -l 1)&quot;</span>)
html.pre(<span class="hljs-string">&apos;top -l 1&apos;</span>.execute().text)
</code></pre>
<p>&#x8FD9;&#x662F;&#x6211;&#x5DF2;&#x90E8;&#x7F72;&#x5230;&#x8BB8;&#x591A;Web&#x670D;&#x52A1;&#x5668;&#x7684;&#x5E38;&#x89C1;Groovlet&#x3002; &#x5B83;&#x4F7F;&#x6211;&#x4E00;&#x773C;&#x5C31;&#x80FD;&#x770B;&#x5230;&#x4E00;&#x4E9B;&#x5173;&#x952E;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x53EF;&#x5E2E;&#x52A9;&#x6211;&#x5224;&#x65AD;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;-&#x53EF;&#x7528;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x91CF;&#xFF0C;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x7B49;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x6211;&#x4F1A;ssh&#x5230;&#x673A;&#x5668;&#x4E2D;&#xFF0C;&#x5E76;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x8F93;&#x5165;&#x8FD9;&#x4E9B;&#x4E0D;&#x540C;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;<code>http://localhost:8080/stats</code>&#x3002;&#x7136;&#x540E;&#x5F97;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x4EFB;&#x4F55;&#x901A;&#x5E38;&#x624B;&#x5DE5;&#x8F93;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x90FD;&#x53EF;&#x4EE5;&#x7528;&#x5F15;&#x53F7;&#x62EC;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x7531;Groovy&#x4EE3;&#x8868;&#x6211;&#x6267;&#x884C;&#x3002;(&#x6709;&#x5173;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;89&#x9875;&#x7B2C;5.4&#x8282;&#xFF0C;&#x8FD0;&#x884C;Shell&#x547D;&#x4EE4;&#x3002;)&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6BCF;&#x4E2A;Groovlet&#x90FD;&#x53EF;&#x7528;&#x7684;&#x540D;&#x4E3A;<code>html</code>&#x7684;MarkupBuilder&#x5C06;&#x8FD9;&#x4E9B;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x5230;HTML&#x7247;&#x6BB5;&#x4E2D;&#x3002;(&#x6709;&#x5173;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;146&#x9875;&#x7B2C;8.13&#x8282;&#xFF0C;&#x52A8;&#x6001;&#x521B;&#x5EFA;HTML)&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x751F;&#x6210;&#x7684;HTML&#x7684;&#x6837;&#x5B50;&#x2026;&#x2026;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Disk Free (df -h)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>Filesystem Size Used Avail Capacity Mounted on
/dev/disk0s2 149Gi 113Gi 36Gi 76% /
devfs 107Ki 107Ki 0Bi 100% /dev
fdesc 1.0Ki 1.0Ki 0Bi 100% /dev
map -hosts 0Bi 0Bi 0Bi 100% /net
map auto_home 0Bi 0Bi 0Bi 100% /home
<span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>IP Config (ifconfig)<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>lo0: flags=8049&amp;lt;UP,LOOPBACK,RUNNING,MULTICAST&amp;gt; mtu 16384
inet6 fe80::1%lo0 prefixlen 64 scopeid 0x1
inet 127.0.0.1 netmask 0xff000000
inet6 ::1 prefixlen 128
gif0: flags=8010&amp;lt;POINTOPOINT,MULTICAST&amp;gt; mtu 1280
stf0: flags=0&amp;lt;&amp;gt; mtu 1280
en0: flags=8863&amp;lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&amp;gt; mtu 1500
</code></pre>
<p>&#x2026;&#x4F46;&#x662F;&#xFF0C;&#x66F4;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x56FE;2.4&#x4E2D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B83;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#x7684;&#x3002;</p>
<p>groovlet&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x529F;&#x80FD;&#x9F50;&#x5168;&#x7684;web&#x6846;&#x67B6;&#x3002;&#x5B83;&#x4EEC;&#x53EA;&#x662F;&#x4E00;&#x4E9B;&#x811A;&#x672C;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x5728;web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8F7B;&#x677E;&#x5730;&#x8FD0;&#x884C;&#x5B83;&#x4EEC;&#x3002;&#x6709;&#x5173;&#x5728;web&#x6846;&#x67B6;&#x4E2D;&#x4F7F;&#x7528;Groovy&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;Grails&#x548C;Gorm&#x4E24;&#x7AE0;&#x3002;</p>
<p><strong>&#x56FE;2.4&#xFF1A;&#x663E;&#x793A;&#x670D;&#x52A1;&#x5668;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x7684;Groovlet</strong>
<img src="_v_images/20190924135730923_32664.png" alt="Figure 2.4: A Groovlet showing server statistics"></p>
<h3 id="2_7_Groovy___Eclipse"><a name="2_7_Groovy___Eclipse" class="anchor-navigation-ex-anchor" href="#2_7_Groovy___Eclipse"><i class="fa fa-link" aria-hidden="true"></i></a>2.7 Groovy&#x7ED3;&#x5408;Eclipse </h3>
<pre><code>http://groovy.codehaus.org/Eclipse+Plugin
</code></pre><p>&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F;Eclipse 3.2&#x6216;&#x66F4;&#x9AD8;&#x7248;&#x672C;&#xFF0C;&#x5219;&#x6709;&#x4E00;&#x4E2A;Groovy&#x63D2;&#x4EF6;&#x63D0;&#x4F9B;&#x4E0E;Java&#x76F8;&#x540C;&#x7684;IDE&#x652F;&#x6301;&#xFF08;&#x4EE3;&#x7801;&#x5B8C;&#x6210;&#xFF0C;&#x8BED;&#x6CD5;&#x7A81;&#x51FA;&#x663E;&#x793A;&#xFF0C;&#x8C03;&#x8BD5;&#xFF09;&#x3002;</p>
<p><strong>&#x5B89;&#x88C5;&#x63D2;&#x4EF6;</strong></p>
<p>&#x8981;&#x5B89;&#x88C5;<code>Groovy/Eclipse</code>&#x63D2;&#x4EF6;&#xFF0C;&#x8BF7;&#x9075;&#x5FAA;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;</p>
<ol>
<li>&#x9009;&#x62E9; <code>Help &gt; Software Updates &gt; Find and Install &gt; Search for New Features</code>.</li>
<li>&#x70B9;&#x51FB; <code>New Remote Site</code>.</li>
<li>&#x5728;&#x540D;&#x79F0;&#x5B57;&#x6BB5;&#x4E2D;&#x8F93;&#x5165;<code>Groovy</code>&#x3002;</li>
<li>&#x5728;URL&#x5B57;&#x6BB5;&#x4E2D;&#x8F93;&#x5165;<code>http://dist.codehaus.org/groovy/distributions/update/</code>&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x201C;&#x786E;&#x5B9A;&#x201D;&#x3002;</li>
<li>&#x68C0;&#x67E5;Groovy&#x5B58;&#x50A8;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;Finish&#x3002;</li>
<li>&#x5728;&#x201C;&#x9009;&#x62E9;&#x8981;&#x5B89;&#x88C5;&#x7684;&#x529F;&#x80FD;&#x201D;&#x4E0B;&#x9009;&#x62E9;Groovy&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x201C;Next&#x201D;&#x3002;</li>
<li>&#x9605;&#x8BFB;&#x534F;&#x8BAE;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x201C;Next&#x201D;&#x3002;</li>
<li>&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x4F4D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x5B8C;&#x6210;&#x3002;</li>
<li>&#x5982;&#x679C;&#x60A8;&#x6536;&#x5230;&#x6709;&#x5173;&#x8BE5;&#x63D2;&#x4EF6;&#x672A;&#x7B7E;&#x540D;&#x7684;&#x8B66;&#x544A;&#xFF0C;&#x8BF7;&#x4E0D;&#x8981;&#x62C5;&#x5FC3;&#x3002; &#x5355;&#x51FB;&#x5B89;&#x88C5;&#x3002;</li>
</ol>
<p>&#x91CD;&#x65B0;&#x542F;&#x52A8;Eclipse&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x4F7F;&#x7528;Groovy&#x3002;</p>
<p><strong>&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Groovy&#x9879;&#x76EE;</strong>
&#x8981;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Groovy&#x9879;&#x76EE;&#xFF0C;&#x8BF7;&#x6309;&#x7167;&#x4E0B;&#x5217;&#x6B65;&#x9AA4;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ol>
<li>&#x9009;&#x62E9; <code>File &gt; New &gt; Project</code>.</li>
<li>&#x9009;&#x62E9; <code>Java Project</code>, &#x7136;&#x540E;&#x70B9;&#x51FB; <code>Next</code>.</li>
<li>&#x5728;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x5B57;&#x6BB5;&#x4E2D;&#x8F93;&#x5165;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x540D;&#x79F0;&#x3002;</li>
<li>&#x9009;&#x62E9;&#x201C;Create Separate Source and Output Folders&#x201D;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;&#x201C;Finish&#x201D;&#x3002;</li>
<li>&#x5728;&#x5305;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#xFF0C;&#x53F3;&#x952E;&#x5355;&#x51FB;&#x60A8;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x7136;&#x540E;&#x9009;&#x62E9; <code>Groovy &gt; Add Groovy Nature</code>.</li>
</ol>
<p>&#x6700;&#x540E;&#xFF0C;&#x60A8;&#x5C06;&#x9700;&#x8981;&#x66F4;&#x6539;&#x5DF2;&#x7F16;&#x8BD1;&#x7684;Groovy&#x4EE3;&#x7801;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5939;&#xFF1A;</p>
<ol>
<li>&#x5728;&#x5305;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#xFF0C;&#x53F3;&#x952E;&#x5355;&#x51FB;&#x60A8;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x7136;&#x540E;&#x9009;&#x62E9; <code>Build Path &gt; Configure Build Path</code>.</li>
<li>&#x5C06;&#x9ED8;&#x8BA4;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5939;&#x4ECE;<code>bin</code>&#x66F4;&#x6539;&#x4E3A;<code>bin-groovy</code>&#x3002;</li>
</ol>
<h3 id="2_8_Groovy___IntelliJ-IDEA"><a name="2_8_Groovy___IntelliJ-IDEA" class="anchor-navigation-ex-anchor" href="#2_8_Groovy___IntelliJ-IDEA"><i class="fa fa-link" aria-hidden="true"></i></a>2.8 Groovy&#x7ED3;&#x5408;IntelliJ IDEA </h3>
<pre><code>http://www.jetbrains.com/idea/
</code></pre><p>&quot;IntelliJ IDEA 7.x&quot;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;Groovy&#x548C;Grails&#x7684;&#x672C;&#x673A;&#x652F;&#x6301;&#x3002;&#x4EE3;&#x7801;&#x5B8C;&#x6210;&#x3001;&#x8BED;&#x6CD5;&#x7A81;&#x51FA;&#x663E;&#x793A;&#x3001;&#x91CD;&#x6784;&#x652F;&#x6301;&#x7B49;&#x7B49;&#x90FD;&#x662F;&#x6807;&#x51C6;&#x7279;&#x6027;&#x3002;(&#x53C2;&#x89C1;&#x4E0B;&#x9762;&#x9875;&#x9762;&#x7684;&#x56FE;2.5)&#x3002;&#x5982;&#x679C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x6CA1;&#x6709;&#x5B89;&#x88C5;JetGroovy&#x63D2;&#x4EF6;&#xFF0C;&#x8BF7;&#x67E5;&#x627E;&#x5B83;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x6709;&#x201C;IntelliJ IDEA 6.x&#x201D;&#x3002;GroovyJ&#x63D2;&#x4EF6;&#x81F3;&#x5C11;&#x4F1A;&#x7ED9;&#x60A8;&#x63D0;&#x4F9B;&#x57FA;&#x672C;&#x7684;&#x8BED;&#x6CD5;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x3002;&#x8981;&#x5B89;&#x88C5;&#x5B83;&#xFF0C;&#x6253;&#x5F00;<code>Preferences</code>&#x5C4F;&#x5E55;&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;<code>Plugins</code>&#x6309;&#x94AE;&#x3002;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x9009;&#x62E9;<code>GroovyJ</code>&#xFF0C;&#x7136;&#x540E;&#x5355;&#x51FB;OK&#x3002;</p>
<p><strong>&#x56FE;2.5&#xFF1A;IntelliJ IDEA 7.x&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x5B8C;&#x6210;</strong>
<img src="_v_images/20190924141442125_18115.png" alt="Figure 2.5: Code completion in IntelliJ IDEA 7.x"></p>
<h3 id="2_9_Groovy___TextMate"><a name="2_9_Groovy___TextMate" class="anchor-navigation-ex-anchor" href="#2_9_Groovy___TextMate"><i class="fa fa-link" aria-hidden="true"></i></a>2.9 Groovy&#x7ED3;&#x5408;TextMate </h3>
<pre><code>http://macromates.com/
http://macromates.com/wiki/Main/SubversionCheckout
http://groovy.codehaus.org/TextMate
http://www.e-texteditor.com/
</code></pre><p>TextMate&#x662F;Mac&#x4E0A;&#x6D41;&#x884C;&#x7684;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x3002; &#x5B83;&#x901A;&#x8FC7;&#x5176;&#x63D2;&#x4EF6;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x53EF;&#x63D2;&#x62D4;&#x8BED;&#x8A00;&#x652F;&#x6301;&#x3002;</p>
<p>&#x4ECE;Macromates Subversion&#x5B58;&#x50A8;&#x5E93;&#x4E2D;&#x68C0;&#x51FA;Groovy&#x5305;(Groovy.tmbundle)&#x3002;&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;<code>~/Library/Application Support/TextMate/bundle</code>&#x3002;&#x91CD;&#x542F;TextMate, Groovy&#x5E94;&#x8BE5;&#x51FA;&#x73B0;&#x5728;Bundles&#x83DC;&#x5355;&#x4E0B;&#x3002;</p>
<p>Groovy TextMate wiki&#x9875;&#x9762;&#x5217;&#x51FA;&#x4E86;&#x5176;&#x4ED6;&#x4E0E;Groovy&#x76F8;&#x5173;&#x7684;&#x5305;&#xFF0C;&#x5305;&#x62EC;Grails&#x548C;GANT (Ant&#x7684;Groovy&#x5B9E;&#x73B0;)&#x7684;&#x5305;&#x3002;</p>
<p>&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Bundle Editor&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x5305;&#x3002;&#x9009;&#x62E9;<code>Bundle &gt; Bundle Editor &gt; Show Bundle Editor</code>&#x3002;(&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x56FE;2.6)&#x3002;</p>
<p>Windows&#x7528;&#x6237;&#x53EF;&#x80FD;&#x60F3;&#x8981;&#x7B7E;&#x51FA;<code>E Text Editor</code>&#x3002;&#x5B83;&#x627F;&#x8BFA;&#x201C;TextMate&#x5728;Windows&#x4E0A;&#x7684;&#x5F3A;&#x5927;&#x529F;&#x80FD;&#x201D;&#x3002;TextMate&#x6346;&#x7ED1;&#x5305;&#x4E5F;&#x5E94;&#x8BE5;&#x5728;<code>E Text Editor</code>&#x4E2D;&#x5DE5;&#x4F5C;&#x3002;</p>
<p><strong>&#x56FE;2.6&#xFF1A;TextMate&#x7684;&#x5957;&#x4EF6;&#x7F16;&#x8F91;&#x5668;</strong>
<img src="_v_images/20190924142000546_1555.png" alt="Figure 2.6: TextMate&#x2019;s Bundle Editor"></p>
<h3 id="2_10_Groovy____Insert_Your_IDE_or_Text_Editor_Here_"><a name="2_10_Groovy____Insert_Your_IDE_or_Text_Editor_Here_" class="anchor-navigation-ex-anchor" href="#2_10_Groovy____Insert_Your_IDE_or_Text_Editor_Here_"><i class="fa fa-link" aria-hidden="true"></i></a>2.10 Groovy&#x5728;&#x6B64;&#x5904;&#x63D2;&#x5165;&#x60A8;&#x7684;IDE&#x6216;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668; </h3>
<pre><code>http://groovy.codehaus.org/Other+Plugins
</code></pre><p>&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x73B0;&#x4EE3;IDE&#x548C;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x90FD;&#x5177;&#x6709;Groovy&#x652F;&#x6301;&#x3002; &#x6709;&#x5173;NetBeans&#xFF0C;XCode&#xFF0C;TextPad&#xFF0C;SubEthaEdit&#xFF0C;Vim&#xFF0C;Emacs&#x7B49;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;Groovy Wiki&#x4E0A;&#x7684;Other Plugins&#x9875;&#x9762;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x4FE1;&#x606F;&#x6765;&#x6E90;&#x662F;&#x60A8;&#x53CB;&#x597D;&#x7684;&#x793E;&#x533A;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x4E2D;&#x8F93;&#x5165;<code>groovy xcode</code>&#xFF0C;<code>groovy vi</code>&#x6216;<code>groovy [&#x60A8;&#x7684;IDE]</code>&#x4F1A;&#x4EA7;&#x751F;&#x5F88;&#x591A;&#x6765;&#x81EA;&#x6210;&#x529F;&#x535A;&#x5BA2;&#xFF08;&#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x5305;&#x62EC;&#x5931;&#x8D25;&#xFF09;&#x7684;&#x4EBA;&#x4EEC;&#x7684;&#x70B9;&#x51FB;&#x91CF;&#x3002;</p>
<h2 id="3_New_to_Groovy"><a name="3_New_to_Groovy" class="anchor-navigation-ex-anchor" href="#3_New_to_Groovy"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;3&#x7AE0; Groovy&#x65B0;&#x624B; </h2>
<p>Groovy&#x662F;&#x5BF9;Java&#x7684;&#x8865;&#x5145;&#x3001;&#x6269;&#x5145;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x975E;&#x5E38;&#x5FC5;&#x8981;&#x7684;&#x6539;&#x8FDB;&#x3002;(&#x6BD5;&#x7ADF;&#xFF0C;Java&#x65E9;&#x5728;1995&#x5E74;&#x5C31;&#x53D1;&#x5E03;&#x4E86;&#x3002;&#x90A3;&#x662F;&#x8F6F;&#x4EF6;&#x65F6;&#x4EE3;&#x7684;&#x524D;&#x5BD2;&#x6B66;&#x7EAA;&#xFF0C;&#x4E0D;&#x662F;&#x5417;?) &#x4F8B;&#x5982;&#xFF0C;Java&#x4E2D;&#x9700;&#x8981;&#x7684;&#x4E00;&#x4E9B;&#x4E1C;&#x897F;&#x5728;Groovy&#x4E2D;&#x662F;&#x53EF;&#x9009;&#x7684;:&#x5206;&#x53F7;&#x3001;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x751A;&#x81F3;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Groovy&#x81EA;&#x52A8;&#x5305;&#x542B;&#x7684;&#x5305;&#x6BD4;Java&#x591A;&#x5F97;&#x591A;&#x3002; Groovy&#x5411;&#x73B0;&#x6709;&#x7C7B;(&#x5982;String&#x3001;List&#x548C;Map)&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x65B9;&#x4FBF;&#x65B9;&#x6CD5;&#x3002;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x4E3A;&#x4E86;&#x6D88;&#x9664;&#x5386;&#x53F2;&#x4E0A;&#x51CF;&#x6162;Java&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x7684;&#x4E00;&#x4E9B;&#x51CF;&#x901F;&#x5E26;&#x3002;</p>
<p>Groovy&#x6700;&#x6709;&#x8DA3;&#x7684;&#x5730;&#x65B9;&#x662F;&#xFF0C;&#x60A8;&#x4E00;&#x76F4;&#x5728;&#x7F16;&#x5199;&#x5B83;&#xFF0C;&#x751A;&#x81F3;&#x6CA1;&#x6709;&#x610F;&#x8BC6;&#x5230;&#x5B83;&#x3002;Java&#x5728;99%&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x6709;&#x6548;&#x7684;Groovy&#x2014;&#x53EA;&#x9700;&#x5C06;<code>.java</code>&#x6587;&#x4EF6;&#x91CD;&#x547D;&#x540D;&#x4E3A;<code>.groovy</code>&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4E86;&#x3002;(&#x53C2;&#x89C1;&#x7B2C;69&#x9875;&#x7684;&#x7B2C;4&#x7AE0;&#xFF0C;Java&#x548C;Groovy&#x96C6;&#x6210;&#xFF0C;&#x4E86;&#x89E3;&#x5C11;&#x6570;&#x51E0;&#x79CD;&#x4F7F;Java&#x4E0D;&#x80FD;&#x6210;&#x4E3A;100%&#x6709;&#x6548;&#x7684;Groovy&#x7684;&#x8FB9;&#x7F18;&#x60C5;&#x51B5;&#x3002;)Groovy&#x662F;Java&#x7684;&#x4E00;&#x4E2A;&#x8D85;&#x96C6;&#x3002;&#x5B83;&#x7EDD;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x8981;&#x53D6;&#x4EE3;Java&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;Java, Groovy&#x5C31;&#x4E0D;&#x4F1A;&#x5B58;&#x5728;&#x3002;Groovy&#x65E8;&#x5728;&#x6210;<strong>&#x4E3A;&#x6BD4;Java&#x66F4;&#x597D;&#x7684;Java</strong>&#xFF0C;&#x540C;&#x65F6;&#x59CB;&#x7EC8;&#x652F;&#x6301;&#x60A8;&#x7684;&#x9057;&#x7559;&#x4EE3;&#x7801;&#x5E93;&#x3002;</p>
<p>&#x4F46;&#x662F;Groovy&#x4E0D;&#x4EC5;&#x4EC5;&#x6539;&#x8FDB;&#x4E86;&#x73B0;&#x6709;&#x7684;&#x8BED;&#x8A00;&#x3002;Groovy&#x5F15;&#x5165;&#x4E86;&#x65B0;&#x7684;&#x7C7B;&#xFF0C;&#x5982;<code>Closure</code>&#x3001;<code>Range</code>&#x548C;<code>GString</code>&#x3002;Groovy&#x5F15;&#x5165;&#x4E86;&#x5B89;&#x5168;&#x89E3;&#x5F15;&#x7528;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x5197;&#x957F;&#x7684;&#x7A7A;&#x68C0;&#x67E5;&#x5757;&#x3002;Groovy&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7279;&#x6B8A;&#x7684;&#x591A;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x53D8;&#x91CF;&#x3002;&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;Groovy&#x4EE5;&#x4E00;&#x79CD;&#x79EF;&#x6781;&#x7684;&#x65B9;&#x5F0F;&#x201C;&#x62E5;&#x62B1;&#x548C;&#x6269;&#x5C55;&#x201D;Java&#x3002;&#x7EE7;&#x7EED;&#x8BFB;&#x4E0B;&#x53BB;&#xFF0C;&#x770B;&#x770B;&#x5982;&#x679C;Java&#x662F;&#x5728;21&#x4E16;&#x7EAA;&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x5B83;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#x3002;</p>
<h3 id="3_1_Automatic_Imports"><a name="3_1_Automatic_Imports" class="anchor-navigation-ex-anchor" href="#3_1_Automatic_Imports"><i class="fa fa-link" aria-hidden="true"></i></a>3.1 &#x81EA;&#x52A8;&#x5BFC;&#x5165; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">import</span> java.lang.*;
<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.net.*;
<span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">import</span> java.math.BigInteger;
<span class="hljs-keyword">import</span> java.math.BigDecimal;
<span class="hljs-keyword">import</span> groovy.lang.*;
<span class="hljs-keyword">import</span> groovy.util.*;
</code></pre>
<p>Java&#x81EA;&#x52A8;&#x4E3A;&#x60A8;&#x5BFC;&#x5165;<code>java.lang</code>&#x5305;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BF8;&#x5982;String&#x548C;Integer&#x4E4B;&#x7C7B;&#xFF0C;&#x5E76;&#x8C03;&#x7528;<code>System.out.println()</code>&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x5728;&#x6BCF;&#x4E2A;Java&#x6587;&#x4EF6;&#x7684;&#x9876;&#x90E8;&#x952E;&#x5165;<code>import java.lang.*</code>&#x3002;</p>
<p>&#x5728;Groovy&#x4E2D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x8BB8;&#x591A;&#x9644;&#x52A0;&#x5305;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5305;&#x4E2D;&#x7684;&#x7C7B;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x5728;&#x6587;&#x4EF6;&#x7684;&#x9876;&#x90E8;&#x663E;&#x5F0F;&#x5730;&#x5BFC;&#x5165;&#x5B83;&#x4EEC;&#x3002;&#x8FD9;&#x4E9B;&#x81EA;&#x52A8;&#x5BFC;&#x5165;&#x7684;&#x51C0;&#x6548;&#x679C;&#x662F;&#xFF0C;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66F4;&#x591A;&#x7684;JDK&#x548C;GDK&#x3002;Java&#x7C7B;&#x53CA;&#x5176;Groovy&#x589E;&#x5F3A;&#x529F;&#x80FD;&#xFF0C;&#x5982;<code>List</code>(&#x7B2C;3.14&#x8282;&#xFF0C;&#x7B2C;58&#x9875;&#x4E0A;&#x7684;List&#x5FEB;&#x6377;&#x65B9;&#x5F0F;)&#x3001;<code>Map</code>(&#x7B2C;3.15&#x8282;&#xFF0C;&#x7B2C;62&#x9875;&#x4E0A;&#x7684;Map&#x5FEB;&#x6377;&#x65B9;&#x5F0F;)&#x3001;<code>File</code>(&#x7B2C;6&#x7AE0;&#xFF0C;&#x7B2C;100&#x9875;&#x4E0A;&#x7684;File Tricks)&#x548C;<code>URL</code>(&#x7B2C;9&#x7AE0;&#xFF0C;&#x7B2C;152&#x9875;&#x4E0A;&#x7684;Web&#x670D;&#x52A1;)&#xFF0C;&#x5728;&#x60A8;&#x9700;&#x8981;&#x5B83;&#x4EEC;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x3002;&#x6B64;&#x5916;,&#x5E38;&#x89C1;&#x7684;Groovy&#x7C7B;,&#x5982;<code>XmlParse</code>&#x548C;<code>XmlSlurper</code>(7.2&#x8282;,&#x7406;&#x89E3;XmlSlurper XmlParse&#x548C;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;,117&#x9875;),<code>Expando</code>(10.9&#x8282;,&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Expando, 194&#x9875;),&#x548C;<code>ExpandoMetaClass</code>(&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x52A8;&#x6001;(ExpandoMetaClass), 190&#x9875;)&#x51C6;&#x5907;&#x597D;&#x4E86;,&#x7B49;&#x5F85;&#x4F60;&#x7531;&#x4E8E;&#x81EA;&#x52A8;&#x5BFC;&#x5165;,Groovy&#x5E76;&#x4EE3;&#x8868;&#x4F60;&#x3002;</p>
<h3 id="3_2_Optional_Semicolons"><a name="3_2_Optional_Semicolons" class="anchor-navigation-ex-anchor" href="#3_2_Optional_Semicolons"><i class="fa fa-link" aria-hidden="true"></i></a>3.2 &#x53EF;&#x9009;&#x7684;&#x5206;&#x53F7; </h3>
<pre><code class="lang-groovy">msg = <span class="hljs-string">&quot;Hello&quot;</span>
msg += <span class="hljs-string">&quot; World&quot;</span>; msg += <span class="hljs-string">&quot;!&quot;</span>;
println msg;
===&gt; <span class="hljs-string">&quot;Hello World!&quot;</span>
</code></pre>
<p>&#x5728;Groovy&#x4E2D;&#xFF0C;&#x5206;&#x53F7;&#x662F;&#x5B8C;&#x5168;&#x53EF;&#x9009;&#x7684;&#x3002;&#x5982;&#x679C;&#x540C;&#x4E00;&#x884C;&#x6709;&#x8BB8;&#x591A;&#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;&#x8BED;&#x53E5;&#x7684;&#x884C;&#x5C3E;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x73B0;&#x5728;&#x662F;&#x4E00;&#x79CD;&#x98CE;&#x683C;&#x4E0A;&#x7684;&#x51B3;&#x5B9A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x8981;&#x6C42;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x4E3A;&#x4E0B;&#x4E00;&#x573A;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6280;&#x672F;&#x5723;&#x6218;&#x505A;&#x597D;&#x51C6;&#x5907;&#x3002;&#x201C;&#x5475;,&#x5206;&#x53F7;,&#x5206;&#x53F7;!&#x4F60;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x5206;&#x53F7;?&#x201D;
::: alert-info
<strong>&#x5077;&#x5077;&#x8D70;&#x5411;DSL</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> list = []
list.add(<span class="hljs-string">&quot;Groovy&quot;</span>)
list.add <span class="hljs-string">&quot;Groovy&quot;</span>
list &lt;&lt; <span class="hljs-string">&quot;Groovy&quot;</span>
</code></pre>
<p>&#x8FD9;&#x4E09;&#x4E2A;&#x8BED;&#x53E5;&#x90FD;&#x662F;&#x7B49;&#x6548;&#x7684;&#x3002; &#x6BCF;&#x4E2A;&#x90FD;&#x5C06;Groovy&#x4E00;&#x8BCD;&#x6DFB;&#x52A0;&#x5230;&#x5217;&#x8868;&#x4E2D;&#x3002; &#x7B2C;&#x4E00;&#x79CD;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;Java&#x7684;<code>add()</code>&#x65B9;&#x6CD5;&#x3002; &#x7B2C;&#x4E8C;&#x4E2A;&#x8C03;&#x7528;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x53EA;&#x662F;&#x4E0D;&#x5E26;&#x62EC;&#x53F7;&#x3002; &#x7B2C;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x8FD0;&#x7B97;&#x7B26;&#x91CD;&#x8F7D;(&#x5982;&#x7B2C;50&#x9875;&#x7B2C;3.7&#x8282;&#x201C;&#x8FD0;&#x7B97;&#x7B26;&#x91CD;&#x8F7D;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;)&#x3002; <code>&lt;&lt;</code>&#x64CD;&#x4F5C;&#x7B26;&#x5728;&#x5E55;&#x540E;&#x8C03;&#x7528;<code>add()</code>&#x65B9;&#x6CD5;&#x3002;&#x60A8;&#x662F;&#x5426;&#x559C;&#x6B22;&#x4E00;&#x79CD;&#x8BED;&#x6CD5;&#x800C;&#x4E0D;&#x559C;&#x6B22;&#x5176;&#x4ED6;&#x8BED;&#x6CD5;&#xFF0C;&#x8FD9;&#x662F;&#x4E2A;&#x4EBA;&#x559C;&#x597D;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5728;&#x6BCF;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Groovy&#x90FD;&#x8BD5;&#x56FE;&#x4F7F;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x5C3D;&#x53EF;&#x80FD;&#x5177;&#x6709;&#x8868;&#x73B0;&#x529B;&#x548C;&#x6613;&#x4E8E;&#x9605;&#x8BFB;&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x7136;&#x4FDD;&#x7559;&#x4E00;&#x4E9B;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x8BED;&#x8A00;(&#x5982;Groovy)&#x7684;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x5B83;&#x4F7F;&#x521B;&#x5EFA;&#x7279;&#x5B9A;&#x4E8E;&#x9886;&#x57DF;&#x7684;&#x8BED;&#x8A00;<code>(DSLs).&#x2217;</code>&#x53D8;&#x5F97;&#x5F88;&#x5BB9;&#x6613;&#x3002;&#x7279;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x53EF;&#x9009;&#x5706;&#x62EC;&#x53F7;(&#x7B2C;3.3&#x8282;&#xFF0C;&#x540E;&#x9762;&#x4E00;&#x9875;&#x662F;&#x53EF;&#x9009;&#x5706;&#x62EC;&#x53F7;)&#x548C;&#x53EF;&#x9009;&#x5206;&#x53F7;(&#x7B2C;3.2&#x8282;&#xFF0C;&#x524D;&#x9762;&#x4E00;&#x9875;&#x662F;&#x53EF;&#x9009;&#x5206;&#x53F7;)&#xFF0C;&#x4E3A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x4E86;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7F16;&#x7A0B;&#x53D8;&#x5F97;&#x4E0D;&#x90A3;&#x4E48;&#x50CF;&#x7F16;&#x7A0B;&#x3002;DSL&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x201C;&#x53EF;&#x6267;&#x884C;&#x4F2A;&#x4EE3;&#x7801;&#x201D;&#x3002;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x770B;&#x4F5C;&#x662F;&#x4E00;&#x79CD;&#x5141;&#x8BB8;&#x975E;&#x7A0B;&#x5E8F;&#x5458;&#x505A;&#x7B80;&#x5355;&#x7F16;&#x7A0B;&#x4EFB;&#x52A1;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> shoppingList = []
<span class="hljs-keyword">def</span> add = shoppingList.&amp;add
<span class="hljs-keyword">def</span> remove = shoppingList.&amp;remove
add <span class="hljs-string">&quot;Milk&quot;</span>
add <span class="hljs-string">&quot;Bread&quot;</span>
add <span class="hljs-string">&quot;Beer&quot;</span>
remove <span class="hljs-string">&quot;Beer&quot;</span>
add <span class="hljs-string">&quot;Apple Juice&quot;</span>
print shoppingList
</code></pre>
<p>&#x9664;&#x4E86;&#x7701;&#x7565;&#x5706;&#x62EC;&#x53F7;&#x548C;&#x5206;&#x53F7;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;&#x65B9;&#x6CD5;&#x6307;&#x9488;(&#x7B2C;10.7&#x8282;&#xFF0C;&#x5728;&#x7B2C;193&#x9875;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6307;&#x9488;)&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x7B80;&#x5316;&#x8BED;&#x6CD5;&#x3002;&#x5F88;&#x5FEB;&#xFF0C;&#x60A8;&#x5C31;&#x6709;&#x4E86;&#x4E00;&#x4E9B;&#x4E0E;&#x7F16;&#x5199;&#x6E90;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x6DFB;&#x52A0;&#x201C;&#x725B;&#x5976;&#x201D;&#x3001;&#x5220;&#x9664;&#x201C;&#x5564;&#x9152;&#x201D;&#x548C;&#x6253;&#x5370;&#x8D2D;&#x7269;&#x6E05;&#x5355;&#x90FD;&#x611F;&#x89C9;&#x975E;&#x5E38;&#x81EA;&#x7136;&#xFF0C;&#x5373;&#x4F7F;&#x5BF9;&#x4E8E;&#x975E;&#x7A0B;&#x5E8F;&#x5458;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;&#x4E0B;&#x4E00;&#x9875;&#x7EE7;&#x7EED;&#x3002;</p>
<hr>
<p> (DSLs).&#x2217; :  <a href="http://en.wikipedia.org/wiki/Domain-specific_programming_language" target="_blank">http://en.wikipedia.org/wiki/Domain-specific_programming_language</a>
:::</p>
<p>::: alert-info
<strong>&#x5077;&#x5077;&#x8D70;&#x5411;DSL(&#x7EED;)</strong></p>
<p>&#x5C06;&#x6B64;&#x4E0E;Java&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF1A;&#x201C;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x5728;&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x672B;&#x5C3E;&#x90FD;&#x5305;&#x62EC;&#x5206;&#x53F7;&#x3002;&#x5206;&#x53F7;&#x3002; &#x5C31;&#x50CF;&#x201C; 3:00&#x201D;&#x4E2D;&#x5C0F;&#x65F6;&#x548C;&#x5206;&#x949F;&#x4E4B;&#x95F4;&#x7684;&#x5185;&#x5BB9;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x5728;&#x9017;&#x53F7;&#x9876;&#x90E8;&#x52A0;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E24;&#x4E2A;&#x70B9;&#x3002; &#x60A8;&#x627E;&#x5230;&#x4E86;&#x5B83;&#xFF0C;&#x5B83;&#x4F4D;&#x4E8E;&#x952E;&#x76D8;&#x4E0A;&#x7684;L&#x952E;&#x65C1;&#x8FB9;&#x3002; &#x597D;&#xFF0C;&#x73B0;&#x5728;&#x8BA9;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;
&#x516C;&#x5171;&#x9759;&#x6001;void main&#xFF08;String [] args&#xFF09;....&#x201D;</p>
<p>DSL&#x7684;&#x6700;&#x597D;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#x4EEC;&#x4E0D;&#x4EC5;&#x4E3A;&#x521D;&#x5B66;&#x8005;&#x548C;&#x975E;&#x7A0B;&#x5E8F;&#x5458;&#x5E26;&#x6765;&#x597D;&#x5904;-&#x7B80;&#x5316;&#x6E90;&#x4EE3;&#x7801;&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x76F8;&#x5173;&#x4EBA;&#x5458;&#x800C;&#x8A00;&#x90FD;&#x662F;&#x8F7B;&#x677E;&#x7684;&#x80DC;&#x5229;&#x3002;
:::</p>
<p>&#x6211;&#x8BA8;&#x538C;&#x4E89;&#x8BBA;&#x82B1;&#x62EC;&#x53F7;&#x5E94;&#x8BE5;&#x653E;&#x5728;&#x54EA;&#x91CC;&#x2014;&#x5982;&#x679C;&#x5BF9;Kernighan&#x548C;Ritchie&#x8DB3;&#x591F;&#x597D;<sup><a href="#fn_31" id="reffn_31">31</a></sup>&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#x4E5F;&#x8DB3;&#x591F;&#x597D;&#x3002; &#x5C31;&#x6211;&#x800C;&#x8A00;&#xFF0C;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x4E4B;&#x6218;<sup><a href="#fn_32" id="reffn_32">32</a></sup>&#x7684;&#x80DC;&#x5229;&#x8005;&#x5DF2;&#x7ECF;&#x51B3;&#x5B9A;&#x4E86;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;emac&#x2014;&#x6211;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x884C;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002;(&#x867D;&#x7136;&#x6709;&#x4EBA;&#x5728;&#x6211;&#x80CC;&#x540E;&#x8BF4;&#x6211;&#x662F;&#x65E7;&#x6076;&#x4E60;&#x7684;&#x53D7;&#x5BB3;&#x8005;&#xFF0C;&#x4F46;&#x6211;&#x4E0D;&#x4F1A;&#x7528;&#x56DE;&#x5E94;&#x6765;&#x7F8E;&#x5316;&#x90A3;&#x4E9B;&#x6076;&#x6BD2;&#x7684;&#x8C23;&#x8A00;&#x3002;)</p>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x5F53;&#x6D89;&#x53CA;&#x5230;&#x53EF;&#x9009;&#x5206;&#x53F7;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#x5462;?&#x6211;&#x4E2A;&#x4EBA;&#x4E0D;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#xFF0C;&#x5766;&#x767D;&#x5730;&#x8BF4;&#xFF0C;&#x6211;&#x4E5F;&#x4E0D;&#x60F3;&#x5FF5;&#x5B83;&#x4EEC;&#x3002;&#x6211;&#x8BA4;&#x4E3A;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x4EEC;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x89C6;&#x89C9;&#x4E0A;&#x7684;&#x6742;&#x4E71;-&#x4E00;&#x4E2A;&#x6B8B;&#x7559;&#x7684;&#x5C3E;&#x5DF4;&#xFF0C;&#x5B83;&#x53CD;&#x6620;&#x4E86;Groovy&#x7684;&#x8FC7;&#x53BB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x51B3;&#x5B9A;&#x4E86;&#x5B83;&#x7684;&#x672A;&#x6765;&#x3002;&#x4E00;&#x65E6;&#x60A8;&#x88AB;DSL&#x7684;bug&#x6240;&#x56F0;&#x6270;(&#x8BF7;&#x53C2;&#x9605;&#x524D;&#x4E00;&#x9875;&#x7684;&#x4FA7;&#x680F;)&#xFF0C;&#x5C31;&#x6709;&#x673A;&#x4F1A;&#x53BB;&#x6389;&#x65E0;&#x6CD5;&#x53D1;&#x97F3;&#x7684;&#x7B26;&#x53F7;&#xFF0C;&#x8F6C;&#x800C;&#x4F7F;&#x7528;&#x66F4;&#x50CF;&#x82F1;&#x8BED;&#x7684;&#x7F16;&#x7A0B;&#x98CE;&#x683C;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x559C;&#x7684;&#x6539;&#x53D8;&#x3002;(&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x603B;&#x662F;&#x613F;&#x610F;&#x4F60;&#x8BF7;&#x6211;&#x559D;&#x676F;&#x5564;&#x9152;&#xFF0C;&#x8BD5;&#x7740;&#x8BA9;&#x6211;&#x660E;&#x767D;&#x6211;&#x7684;&#x9519;&#x8BEF;&#x3002;&#x4E8B;&#x5148;&#x8B66;&#x544A;&#x4E00;&#x4E0B;-&#x53EF;&#x80FD;&#x8981;&#x559D;&#x4E0A;&#x51E0;&#x54C1;&#x8131;&#x624D;&#x80FD;&#x8BF4;&#x670D;&#x6211;&#x2026;&#x2026;)</p>
<h3 id="3_3_Optional_Parentheses"><a name="3_3_Optional_Parentheses" class="anchor-navigation-ex-anchor" href="#3_3_Optional_Parentheses"><i class="fa fa-link" aria-hidden="true"></i></a>3.3 &#x53EF;&#x9009;&#x7684;&#x62EC;&#x53F7; </h3>
<pre><code class="lang-groovy">println(<span class="hljs-string">&quot;Hello World!&quot;</span>)
println <span class="hljs-string">&quot;Hello World!&quot;</span>
===&gt; <span class="hljs-string">&quot;Hello World!&quot;</span>
</code></pre>
<p>&#x5728;Groovy&#x4E2D;&#xFF0C;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x5468;&#x56F4;&#x7684;&#x62EC;&#x53F7;&#x662F;&#x53EF;&#x9009;&#x7684;&#x3002;&#x8FD9;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;println&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4ECD;&#x7136;&#x4F7F;&#x7528;&#x5706;&#x62EC;&#x53F7;&#x3002;&#x4F8B;&#x5982;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> s = <span class="hljs-string">&quot;Hello&quot;</span>
println s.toUpperCase()
===&gt; HELLO
</code></pre>
<p>&#x65E0;&#x53C2;&#x6570;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x5706;&#x62EC;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x5426;&#x5219;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x65E0;&#x6CD5;&#x533A;&#x5206;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x548C;&#x7B2C;4.2&#x8282;(&#x7B2C;72&#x9875;&#x7684;getter&#x548C;setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;)&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x7B80;&#x77ED;<code>getter/setter</code>&#x8C03;&#x7528;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#x3002;&#x5728;&#x4F7F;&#x7528;Groovy&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x5F53;&#x60A8;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x770B;&#x5230;<code>person.name</code>&#x65F6;&#xFF0C;&#x60A8;&#x5C06;&#x77E5;&#x9053;&#x5B83;&#x662F;&#x8C03;&#x7528;<code>person.getName()</code>&#x7684;Groovy&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002;</p>
<p><strong>&#x5982;&#x4F55;&#x4F7F;&#x65E0;&#x53C2;&#x6570;&#x65B9;&#x6CD5;&#x62EC;&#x53F7;&#x53EF;&#x9009;</strong>
&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x6574;&#x4E2A;&#x201C;&#x65E0;&#x53C2;&#x6570;&#x62EC;&#x53F7;&#x201D;&#x8981;&#x6C42;&#x786E;&#x5B9E;&#x8BA9;&#x60A8;&#x5F7B;&#x591C;&#x96BE;&#x7720;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x51E0;&#x79CD;&#x5DE7;&#x5999;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x3002; &#xFF08;&#x4E0D;&#xFF0C;&#x6211;&#x4E0D;&#x5EFA;&#x8BAE;&#x201C;&#x5207;&#x6362;&#x5230;Ruby&#x201D;&#x3002;&#xFF09;</p>
<p>&#x7B2C;&#x4E00;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x770B;&#x8D77;&#x6765;&#x50CF;getter&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x6839;&#x672C;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x7684;getter&#x3002;&#x6211;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x9A84;&#x50B2;&#x7684;&#x4EBA;&#x2014;&#x2014;&#x6211;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x5728;&#x6211;&#x7684;Pizza&#x7C7B;&#x4E0A;&#x7F16;&#x5199;getDeliver()&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x7A0D;&#x540E;&#x8C03;&#x7528;Pizza .deliver&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x8FDD;&#x53CD;&#x4E86;&#x795E;&#x5723;&#x7684;&#x201C;getter/setter&#x201D;&#x5951;&#x7EA6;&#xFF0C;&#x8FD9;&#x662F;&#x6240;&#x6709;&#x65B0;&#x624B;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x90FD;&#x5FC5;&#x987B;&#x7B7E;&#x7F72;&#x7684;&#x5951;&#x7EA6;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4E0D;&#x5076;&#x5C14;&#x8FDD;&#x53CD;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD8;&#x8981;&#x5236;&#x5B9A;&#x89C4;&#x5219;&#x5462;?</p>
<p>&#x53E6;&#x4E00;&#x4E2A;&#x7ED5;&#x8FC7;&#x8FD9;&#x4E9B;&#x8BA8;&#x538C;&#x7684;&#x7A7A;&#x62EC;&#x53F7;&#x7684;&#x9009;&#x9879;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6307;&#x9488;&#xFF0C;&#x5982;&#x7B2C;10.7&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5728;&#x7B2C;193&#x9875;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6307;&#x9488;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> pizza = <span class="hljs-keyword">new</span> Pizza()
<span class="hljs-keyword">def</span> deliver = pizza.&amp;deliver()
deliver
</code></pre>
<p><strong>&#x4F55;&#x65F6;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#xFF0C;&#x4F55;&#x65F6;&#x7701;&#x7565;&#x62EC;&#x53F7;</strong>
&#x65E2;&#x7136;&#x60A8;&#x5DF2;&#x7ECF;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x53F7;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x5C06;&#x9762;&#x4E34;&#x4F55;&#x65F6;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x7684;&#x96BE;&#x9898;&#x3002;</p>
<p>&#x6211;&#x7ED9;&#x4F60;&#x7684;&#x5EFA;&#x8BAE;&#x548C;&#x6700;&#x9AD8;&#x6CD5;&#x9662;&#x6CD5;&#x5B98;&#x6CE2;&#x7279;&#xB7;&#x65AF;&#x56FE;&#x5C14;&#x7279;&#x7684;&#x5EFA;&#x8BAE;&#x662F;&#x4E00;&#x6837;&#x7684;:&#x5F53;&#x4F60;&#x770B;&#x5230;&#x5B83;&#x7684;&#x65F6;&#x5019;&#x4F60;&#x5C31;&#x4F1A;&#x77E5;&#x9053;&#x4E86;&#x3002;<code>println &quot;Hello&quot;</code>&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x662F;&#x6BD4;<code>System.out.println(&quot;Hello&quot;)</code>&#x66F4;&#x597D;&#x5417;?&#x6211;&#x4E0D;&#x80FD;&#x544A;&#x8BC9;&#x4F60;&#x4E3A;&#x4EC0;&#x4E48;&#x2014;&#x2014;&#x5B83;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x3002;</p>
<p>&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x6211;&#x603B;&#x662F;&#x907F;&#x514D;&#x62EC;&#x53F7;&#x3002;&#x6211;&#x53EF;&#x80FD;&#x7528;&#x7684;&#x6BD4;&#x4E0D;&#x7528;&#x7684;&#x591A;&#x3002;&#x5982;&#x679C;&#x6211;&#x6B63;&#x5728;&#x7F16;&#x5199;DSL(&#x5982;&#x7B2C;43&#x9875;&#x8FB9;&#x680F;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;)&#xFF0C;&#x6211;&#x503E;&#x5411;&#x4E8E;&#x4F7F;&#x7528;&#x66F4;&#x5C11;&#x7684;&#x62EC;&#x53F7;&#x3002;&#x5982;&#x679C;&#x6211;&#x6B63;&#x5728;&#x7F16;&#x5199;&#x66F4;&#x4F20;&#x7EDF;&#x7684;Java/Groovy&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x5C06;&#x66F4;&#x7ECF;&#x5E38;&#x5730;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;&#x4F46;&#x662F;&#x5728;&#x4E00;&#x5929;&#x7ED3;&#x675F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x8270;&#x96BE;&#x800C;&#x5FEB;&#x901F;&#x7684;&#x51B3;&#x7B56;&#x8FC7;&#x7A0B;&#xFF0C;&#x9664;&#x4E86;&#x201C;&#x5728;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x53BB;&#x6389;&#x62EC;&#x53F7;&#x4F3C;&#x4E4E;&#x662F;&#x6B63;&#x786E;&#x7684;&#x505A;&#x6CD5;&#x3002;&#x201D;</p>
<h3 id="3_4_Optional_Return_Statements"><a name="3_4_Optional_Return_Statements" class="anchor-navigation-ex-anchor" href="#3_4_Optional_Return_Statements"><i class="fa fa-link" aria-hidden="true"></i></a>3.4 &#x53EF;&#x9009;&#x7684;&#x8FD4;&#x56DE;&#x8BED;&#x53E5; </h3>
<pre><code class="lang-groovy">String getFullName(){
  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;${firstName} ${lastName}&quot;</span>
}

<span class="hljs-comment">//equivalent code</span>
String getFullName(){
  <span class="hljs-string">&quot;${firstName} ${lastName}&quot;</span>
}
</code></pre>
<p>Groovy&#x4E2D;&#x65B9;&#x6CD5;&#x7684;&#x6700;&#x540E;&#x4E00;&#x884C;&#x662F;&#x4E00;&#x4E2A;&#x9690;&#x5F0F;&#x8FD4;&#x56DE;&#x8BED;&#x53E5;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x663E;&#x5F0F;&#x5730;&#x4F7F;&#x7528;return&#x8BED;&#x53E5;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x5173;&#x95ED;&#x5B83;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;return&#x8BED;&#x53E5;&#x662F;&#x53EF;&#x9009;&#x7684;&#x5462;?&#x56E0;&#x4E3A;&#x827E;&#x5C14;&#xB7;&#x6208;&#x5C14;&#x8BF4;&#x6240;&#x6709;&#x90A3;&#x4E9B;&#x591A;&#x4F59;&#x7684;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x6253;&#x5B57;&#x662F;&#x5168;&#x7403;&#x8B66;&#x544A;&#x7684;&#x7B2C;623&#x4E2A;&#x4E3B;&#x8981;&#x539F;&#x56E0;&#x3002;&#x201C;&#x62EF;&#x6551;&#x6309;&#x952E;&#xFF0C;&#x62EF;&#x6551;&#x5730;&#x7403;&#x201D;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x6211;&#x5F53;&#x573A;&#x60F3;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x6717;&#x6717;&#x4E0A;&#x53E3;&#x7684;&#x53E3;&#x53F7;&#x3002;(&#x4E8B;&#x5B9E;&#x4E0A;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x540C;&#x610F;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4F60;&#x4F1A;&#x5728;&#x300A;&#x96BE;&#x4EE5;&#x5FFD;&#x89C6;&#x7684;&#x771F;&#x76F8;&#x300B;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x4E1C;&#x897F;&#x5417;?)</p>
<p>&#x5C31;&#x50CF;&#x672C;&#x7AE0;&#x4E2D;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x53EF;&#x9009;&#x5185;&#x5BB9;&#x4E00;&#x6837;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x7701;&#x7565;return&#x8BED;&#x53E5;&#x662F;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x89C6;&#x89C9;&#x566A;&#x97F3;&#x3002;&#x5728;&#x6211;&#x770B;&#x6765;&#xFF0C;&#x521B;&#x5EFA;<code>add(x,y){x + y}</code>&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x7B80;&#x6D01;&#x548C;&#x53EF;&#x8BFB;&#x6027;&#x4E4B;&#x95F4;&#x53D6;&#x5F97;&#x4E86;&#x6070;&#x5F53;&#x7684;&#x5E73;&#x8861;&#x3002;&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;&#x5B83;&#x592A;&#x7B80;&#x6D01;&#xFF0C;&#x90A3;&#x5C31;&#x4E0D;&#x8981;&#x7528;&#x5B83;&#x3002;&#x771F;&#x7684;&#x3002;&#x6CA1;&#x5173;&#x7CFB;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6211;&#x9700;&#x8981;&#x8FC7;&#x65E9;&#x5730;&#x9000;&#x51FA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;return&#x8BED;&#x53E5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x975E;&#x5E38;&#x76F8;&#x4FE1;&#x5FEB;&#x901F;&#x5931;&#x8D25;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x6211;&#x7684;withdraw()&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F1A;&#x5C3D;&#x5FEB;&#x8FD4;&#x56DE;&#x201C;&#x8D44;&#x91D1;&#x4E0D;&#x8DB3;&#x2014;&#x2014;&#x7A0D;&#x540E;&#x518D;&#x8BD5;&#x201D;&#x3002;&#x5982;&#x679C;&#x6211;&#x5728;&#x65B9;&#x6CD5;&#x7684;&#x65E9;&#x671F;&#x4F7F;&#x7528;return&#xFF0C;&#x6211;&#x53EF;&#x80FD;&#x4E5F;&#x4F1A;&#x5728;&#x6700;&#x540E;&#x4E00;&#x884C;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x5B9E;&#x73B0;&#x89C6;&#x89C9;&#x5BF9;&#x79F0;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;return&#x5E76;&#x6CA1;&#x6709;&#x4E3A;&#x5FEB;&#x901F;&#x7684;&#x5355;&#x884C;&#x65B9;&#x6CD5;(&#x5982;&#x524D;&#x4E00;&#x6BB5;&#x4E2D;&#x7684;add&#x65B9;&#x6CD5;)&#x589E;&#x52A0;&#x591A;&#x5C11;&#x6E05;&#x6670;&#x5EA6;&#x3002;Groovy&#x5141;&#x8BB8;&#x6211;&#x6709;&#x76EE;&#x7684;&#x5730;&#x7F16;&#x7A0B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8BA9;&#x6211;&#x5C48;&#x670D;&#x4E8E;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x540C;&#x884C;&#x538B;&#x529B;&#x3002;&#x5F53;&#x6211;&#x51C6;&#x5907;&#x597D;&#x65F6;&#xFF0C;&#x6211;&#x5C06;&#x4F7F;&#x7528;return&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x5668;&#x8BA9;&#x6211;&#x8FD9;&#x4E48;&#x505A;&#x3002;</p>
<h3 id="3_5_Optional_Datatype_Declaration__Duck_Typing_"><a name="3_5_Optional_Datatype_Declaration__Duck_Typing_" class="anchor-navigation-ex-anchor" href="#3_5_Optional_Datatype_Declaration__Duck_Typing_"><i class="fa fa-link" aria-hidden="true"></i></a>3.5 &#x53EF;&#x9009;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;(&#x9E2D;&#x5B50;&#x7C7B;&#x578B;) </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">//In scripts:</span>
w = <span class="hljs-string">&quot;Hello&quot;</span>
String x = <span class="hljs-string">&quot;Hello&quot;</span>
println w.<span class="hljs-keyword">class</span>
===&gt; java.lang.String
println w.<span class="hljs-keyword">class</span> == x.<span class="hljs-keyword">class</span>
===&gt; <span class="hljs-literal">true</span>
<span class="hljs-comment">//In compiled classes:</span>
<span class="hljs-keyword">def</span> y = <span class="hljs-string">&quot;Hello&quot;</span>
String z = <span class="hljs-string">&quot;Hello&quot;</span>
println y.<span class="hljs-keyword">class</span>
===&gt; java.lang.String
println y.<span class="hljs-keyword">class</span> == z.<span class="hljs-keyword">class</span>
===&gt; <span class="hljs-literal">true</span>
</code></pre>
<p>Groovy&#x4E0D;&#x4F1A;&#x5F3A;&#x5236;&#x60A8;&#x663E;&#x5F0F;&#x5730;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x3002;<code>def name = &quot;Jane&quot;</code>&#x7B49;&#x4EF7;&#x4E8E;<code>String name = &quot;Jane&quot;</code>&#x2014;&#x2014;&#x4E24;&#x8005;&#x90FD;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x5173;&#x952E;&#x5B57;<code>def</code>&#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x201C;&#x6211;&#x4E0D;&#x592A;&#x5173;&#x5FC3;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x60A8;&#x4E5F;&#x4E0D;&#x5E94;&#x8BE5;&#x592A;&#x5173;&#x5FC3;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x811A;&#x672C;&#x548C;Groovy Shell&#x4E2D;(&#x4E0E;&#x7F16;&#x8BD1;&#x7C7B;&#x76F8;&#x53CD;)&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x66F4;&#x52A0;&#x968F;&#x610F;&#xFF0C;&#x5B8C;&#x5168;&#x4E0D;&#x4F7F;&#x7528;<code>def</code>&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5728;<code>Groovy Shell</code>&#x4E2D;&#xFF0C;&#x5E94;&#x8BE5;&#x53BB;&#x6389;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;&#x3002;(&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;30&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;)</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;Java&#x662F;&#x4E00;&#x79CD;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5F53;&#x4F60;&#x58F0;&#x660E;&#x6BCF;&#x4E2A;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x7ED9;&#x5B83;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;:</p>
<pre><code class="lang-groovy">Duck mallard = <span class="hljs-keyword">new</span> Mallard();
</code></pre>
<p>&#x5728;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x60A8;&#x4E0D;&#x80FD;&#x5206;&#x8FA8;Duck&#x662F;&#x7C7B;&#x8FD8;&#x662F;&#x63A5;&#x53E3;&#x3002;(&#x8003;&#x8651; <code>List List = new ArrayList()</code> &#x548C; <code>ArrayList List = new ArrayList()</code>&#x3002;)&#x9E2D;&#x5B50;&#x53EF;&#x80FD;&#x662F;&#x91CE;&#x9E2D;&#x7684;&#x7236;&#x7C7B;&#x3002;&#x4E5F;&#x8BB8;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5B9A;&#x4E49;&#x9E2D;&#x5B50;&#x884C;&#x4E3A;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x5982;&#x679C;&#x7F16;&#x8BD1;&#x5668;&#x5141;&#x8BB8;&#x60A8;&#x5C06;&#x7EFF;&#x5934;&#x9E2D;&#x586B;&#x5145;&#x5230;&#x9E2D;&#x5B50;&#x5F62;&#x72B6;&#x7684;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x7EFF;&#x5934;&#x9E2D;&#x5FC5;&#x987B;&#x63D0;&#x4F9B;&#x4E0E;&#x9E2D;&#x5B50;&#x76F8;&#x540C;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x65E0;&#x8BBA;&#x7EFF;&#x5934;&#x9E2D;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x60A8;&#x90FD;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x8BF4;(&#x81F3;&#x5C11;&#x53EF;&#x4EE5;&#x8BF4;)&#x7EFF;&#x5934;&#x9E2D;&#x662F;Duck&#x7C7B;&#x578B;&#x7684;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x79F0;&#x4E3A;&#x591A;&#x6001;&#x6027;-&#x5E0C;&#x814A;&#x8BED;&#x4E3A;&#x201C;&#x8BB8;&#x591A;&#x5F62;&#x72B6;&#x201D;&#x3002;&#x591A;&#x6001;&#x6027;&#x662F;&#x8FD0;&#x884C;&#x6D41;&#x884C;&#x7684;&#x4F9D;&#x8D56;&#x9879;&#x6CE8;&#x5165;&#xFF08;DI&#xFF09;&#x6846;&#x67B6;&#xFF08;&#x4F8B;&#x5982;Spring&#xFF0C;HiveMind&#x548C;Google Guice&#xFF09;&#x7684;&#x52A8;&#x529B;&#x3002; &#x8FD9;&#x4E9B;DI&#x5F15;&#x64CE;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4FDD;&#x6301;&#x5176;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x677E;&#x6563;&#x8026;&#x5408;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x5728;&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x4E2D;&#x5BF9;&#x5BF9;MySQL JDBC&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x5F15;&#x7528;&#x8FDB;&#x884C;&#x786C;&#x7F16;&#x7801;&#xFF0C;&#x5219;&#x5982;&#x679C;&#x60A8;&#x4EE5;&#x540E;&#x51B3;&#x5B9A;&#x5207;&#x6362;&#x5230;PostgreSQL&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6267;&#x884C;&#x5E7F;&#x6CDB;&#x7684;&#x641C;&#x7D22;&#x548C;&#x66FF;&#x6362;&#x4EFB;&#x52A1;&#x3002; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;<code>java.sql.Driver</code>&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x5730;&#x5BF9;Driver&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;Spring&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6CE8;&#x5165;&#x9002;&#x5F53;&#x7684;JDBC&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x5B9E;&#x73B0;&#x3002;</p>
<p>Groovy&#x7528;Java&#x7F16;&#x5199;&#xFF0C;&#x56E0;&#x6B64;&#x901A;&#x8FC7;&#x6269;&#x5C55;&#xFF0C;&#x6240;&#x6709;&#x53D8;&#x91CF;&#x90FD;&#x5177;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002; Groovy&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x60A8;&#x4E0D;&#x5FC5;&#x5728;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x4E4B;&#x524D;&#x5C31;&#x660E;&#x786E;&#x58F0;&#x660E;&#x5B83;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002; &#x5728;&#x5FEB;&#x6377;&#x811A;&#x672C;&#x4E2D;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EA;&#x9700;&#x7F16;&#x5199;<code>w =&#x201C; Hello&#x201D;</code>&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;w&#x786E;&#x5B9E;&#x662F;java.lang.String&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x662F;&#x5417;&#xFF1F; &#x4F7F;&#x7528;groovyc&#x7F16;&#x8BD1;Groovy&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x800C;&#x4E0D;&#x663E;&#x5F0F;&#x58F0;&#x660E;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4F7F;&#x7528;<code>def</code>&#x5173;&#x952E;&#x5B57;&#x3002;</p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x5F88;&#x91CD;&#x8981;&#xFF1F; &#x8FD9;&#x4E0D;&#x4EC5;&#x662F;&#x4E3A;&#x60A8;&#x8282;&#x7701;&#x4E86;&#x4E00;&#x4E9B;&#x5B9D;&#x8D35;&#x7684;&#x6309;&#x952E;&#x3002; &#x8FD9;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C06;Groovy&#x4ECE;&#x4E00;&#x79CD;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x8A00;&#x8F6C;&#x79FB;&#x5230;&#x4E86;&#x4E00;&#x79CD;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x8A00;&#x3002; &#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x7684;&#x5BF9;&#x8C61;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x4E0D;&#x5FC5;&#x6EE1;&#x8DB3;&#x63A5;&#x53E3;&#x7684;&#x201C;&#x5408;&#x540C;&#x201D;&#x8981;&#x6C42;&#xFF1B; &#x4ED6;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6B63;&#x786E;&#x54CD;&#x5E94;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5373;&#x53EF;&#x3002; &#xFF08;&#x6709;&#x5173;&#x6B64;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;185&#x9875;&#x7684;&#x7B2C;10.3&#x8282;&#x201C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x7684;&#x5B58;&#x5728;&#x201D;&#x548C;&#x7B2C;190&#x9875;&#x7684;&#x7B2C;10.5&#x8282;&#x201C;&#x68C0;&#x67E5;&#x65B9;&#x6CD5;&#x7684;&#x5B58;&#x5728;&#x201D;&#x3002;&#xFF09;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Duck()
</code></pre>
<p>&#x51E0;&#x672C;&#x7545;&#x9500;Python&#x4E66;&#x7C4D;&#x7684;&#x4F5C;&#x8005;Alex Martelli&#x521B;&#x9020;&#x4E86;duck typing<sup><a href="#fn_35" id="reffn_35">35</a></sup> &#x8FD9;&#x4E2A;&#x77ED;&#x8BED;&#x6765;&#x63CF;&#x8FF0;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x3002;&#x53EA;&#x8981;&#x53D8;&#x91CF;&#x50CF;&#x9E2D;&#x5B50;&#x4E00;&#x6837;&#x201C;&#x8D70;&#x8DEF;&#x201D;&#x548C;&#x50CF;&#x9E2D;&#x5B50;&#x4E00;&#x6837;&#x201C;&#x560E;&#x560E;&#x53EB;&#x201D;&#xFF0C;&#x5B83;&#x5C31;&#x4E0D;&#x5FC5;&#x88AB;&#x6B63;&#x5F0F;&#x58F0;&#x660E;&#x4E3A;Duck&#x7C7B;&#x578B;&#x2014;&#x2014;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x54CD;&#x5E94;&#x90A3;&#x4E9B;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002;</p>
<h3 id="3_6_Optional_Exception_Handling"><a name="3_6_Optional_Exception_Handling" class="anchor-navigation-ex-anchor" href="#3_6_Optional_Exception_Handling"><i class="fa fa-link" aria-hidden="true"></i></a>3.6 &#x53EF;&#x9009;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">//in Groovy:</span>
<span class="hljs-keyword">def</span> reader = <span class="hljs-keyword">new</span> FileReader(<span class="hljs-string">&quot;/foo.txt&quot;</span>)

<span class="hljs-comment">//in Java:</span>
<span class="hljs-keyword">try</span>{
  Reader reader = <span class="hljs-keyword">new</span> FileReader(<span class="hljs-string">&quot;/foo.txt&quot;</span>)
} <span class="hljs-keyword">catch</span>(FileNotFoundException e){
  e.printStackTrace()
}
</code></pre>
<p>&#x5728;Java&#x4E2D;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5F02;&#x5E38;:&#x68C0;&#x67E5;&#x7684;&#x548C;&#x672A;&#x68C0;&#x67E5;&#x7684;&#x3002;&#x5DF2;&#x68C0;&#x67E5;&#x5F02;&#x5E38;&#x6269;&#x5C55;<code>java.lang.Exception</code>&#x3002;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C01;&#x88C5;&#x53EF;&#x80FD;&#x5728;<code>try/catch</code>&#x5757;&#x4E2D;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F20;&#x5165;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;FileReader&#x6784;&#x9020;&#x51FD;&#x6570;&#x5C06;&#x629B;&#x51FA;FileNotFoundException&#x3002;&#x672A;&#x68C0;&#x67E5;&#x5F02;&#x5E38;&#x6269;&#x5C55;<code>java.lang.Error</code>&#x6216;<code>java.lang.RuntimeException</code>&#x3002; &#x65B9;&#x6CD5;&#x53EF;&#x80FD;&#x4F1A;&#x5F15;&#x53D1;NullPointerException&#xFF0C;ClassCastException&#x548C;IndexOutOfBoundsException&#x4E4B;&#x7C7B;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x4F46;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x60A8;&#x5C06;&#x5B83;&#x4EEC;&#x5305;&#x88C5;&#x5728;<code>try/catch</code>&#x5757;&#x4E2D;&#x3002; &#x9488;&#x5BF9;<code>java.lang.Error</code>&#x7684;Javadoc&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x6355;&#x83B7;&#x6B64;&#x7C7B;&#x5F02;&#x5E38;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x662F;&#x4E0D;&#x5E94;&#x8BE5;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x5C3D;&#x7BA1;Java&#x5141;&#x8BB8;&#x5728;&#x5DF2;&#x68C0;&#x67E5;&#x548C;&#x672A;&#x68C0;&#x67E5;&#x7684;&#x5F02;&#x5E38;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x5FAE;&#x5999;&#x7684;&#x533A;&#x5206;&#x662F;&#x5F88;&#x4E0D;&#x9519;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x4F46;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x65E0;&#x6CD5;&#x81EA;&#x884C;&#x786E;&#x5B9A;&#x4E25;&#x91CD;&#x6027;&#x7EA7;&#x522B;&#x3002; &#x5982;&#x679C;FileReader&#x6784;&#x9020;&#x51FD;&#x6570;&#x5F15;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x5DF2;&#x68C0;&#x67E5;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x5E76;&#x4E14;&#x60A8;&#x8BA4;&#x4E3A;&#x8BE5;&#x5F02;&#x5E38;&#x4E0D;&#x591F;&#x91CD;&#x8981;&#xFF0C;&#x5219;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x5C0A;&#x91CD;&#x60A8;&#x7684;&#x610F;&#x89C1;&#x5E76;&#x62D2;&#x7EDD;&#x7F16;&#x8BD1;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<pre><code class="lang-bash">$ javac TestFile.java
TestFile.java:6: unreported exception java.io.FileNotFoundException;
must be caught or declared to be thrown
Reader reader = new FileReader(<span class="hljs-string">&quot;/foo.txt&quot;</span>);
1 error
</code></pre>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x53EA;&#x662F;&#x5728;&#x4E0A;&#x4E00;&#x884C;&#x4E2D;&#x663E;&#x5F0F;&#x521B;&#x5EFA;&#x4E86;&#x6587;&#x4EF6;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x4E0A;&#x4E00;&#x6B21;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x5931;&#x8D25;&#x662F;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#xFF1F; &#x662F;&#x5426;&#x6709;95&#xFF05;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x53D1;&#x751F;&#xFF1F;5&#xFF05;&#xFF1F;0.0005&#xFF05;&#xFF1F; &#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;SunSetException&#xFF08;&#x6BCF;&#x5929;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x60C5;&#xFF09;&#x8FD8;&#x662F;SunJustExplodedException&#xFF1F; &#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x662F;&#x60A8;&#x671F;&#x671B;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x60C5;&#x8FD8;&#x662F;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#x4E8B;&#x60C5;&#xFF08;&#x201C;&#x6C38;&#x8FDC;&#x4E0D;&#x5E94;&#x8BE5;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x201D;&#xFF09;&#xFF1F;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x4E00;&#x76F4;&#x5728;&#x5199;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x73B0;&#x5728;&#x53EA;&#x60F3;&#x8BFB;&#x56DE;&#x5185;&#x5BB9;&#x600E;&#x4E48;&#x529E;&#xFF1F; FileNotFoundException&#x5728;&#x8FD9;&#x91CC;&#x662F;&#x5426;&#x6709;&#x610F;&#x4E49;&#xFF1F; &#x5982;&#x679C;&#x60A8;&#x8BD5;&#x56FE;&#x83B7;&#x53D6;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#x59CB;&#x7EC8;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x53E5;&#x67C4;&#xFF0C;&#x4F8B;&#x5982;<code>/etc/hosts</code>&#x6216;<code>c:\windows</code>&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x5373;&#x4F7F;&#x7F16;&#x8BD1;&#x5668;&#x5177;&#x6709;&#x6700;&#x4F73;&#x610F;&#x56FE;&#xFF0C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5355;&#x884C;&#x547D;&#x4EE4;&#x73B0;&#x5728;&#x4E5F;&#x9700;&#x8981;&#x516D;&#x884C;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x66F4;&#x9634;&#x9669;&#x7684;&#x662F;&#xFF0C;&#x60A8;&#x8BA4;&#x4E3A;catch&#x5757;&#x73B0;&#x5728;&#x5305;&#x542B;&#x4EC0;&#x4E48;?&#x5982;&#x679C;&#x60A8;&#x56DE;&#x7B54;&#x201C;&#x4EC0;&#x4E48;&#x90FD;&#x6CA1;&#x6709;&#x201D;&#x3001;&#x201C;&#x6211;&#x7684;IDE&#x751F;&#x6210;&#x4E86;&#x4EC0;&#x4E48;&#x201D;&#x6216;&#x201C;&#x5173;&#x95ED;&#x90A3;&#x4E2A;&#x611A;&#x8822;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x6700;&#x4F4E;&#x9650;&#x5EA6;&#x201D;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x662F;&#x6B63;&#x786E;&#x7684;&#x3002;</p>
<p>&#x683C;&#x4F26;&#xB7;&#x8303;&#x5FB7;&#x5821;&#xFF08;Glenn Vanderburg&#xFF09;&#x8BF4;&#xFF1A;&#x201C;&#x9519;&#x8BEF;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4F1A;&#x628A;&#x5929;&#x5802;&#x548C;&#x5730;&#x7403;&#x8F6C;&#x79FB;&#x5230;&#x9519;&#x8BEF;&#x7684;&#x5730;&#x65B9;&#x3002;&#x201D;&#x4F46;&#x662F;&#xFF0C;&#x826F;&#x6027;&#x758F;&#x5FFD;&#x5462;&#xFF1F;&#x53EA;&#x63A5;&#x53D7;&#x60A8;&#x7684;IDE&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#xFF08;&#x8FD9;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x5E26;&#x6709;todo&#x6807;&#x7B7E;&#x7684;&#x7A7A;&#x5757;&#xFF09;&#xFF1F;</p>
<p>&#x5982;&#x679C;&#x6211;&#x8E22;&#x5230;&#x4F60;&#x6700;&#x559C;&#x6B22;&#x7684;&#x5723;&#x725B;&#x7684;&#x5C0F;&#x817F;&#xFF0C;&#x6211;&#x9053;&#x6B49;&#x3002;&#x6211;&#x5F88;&#x6B23;&#x8D4F;&#x68C0;&#x67E5;&#x5F02;&#x5E38;&#x7684;&#x610F;&#x56FE;&#xFF0C; &#x4F46;&#x662F;&#x4E00;&#x60F3;&#x5230;&#x73B0;&#x5728;&#x6709;&#x591A;&#x5C11;&#x7A7A;&#x7684;catch&#x5757;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x8FD0;&#x884C;&#xFF0C;&#x6709;&#x591A;&#x5C11;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5728;&#x5E38;&#x89C4;&#x5B9E;&#x8DF5;&#x4E2D;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x6211;&#x5C31;&#x4E0D;&#x5BD2;&#x800C;&#x6817;&#xFF0C; &#x4EE5;&#x53CA;&#x6709;&#x591A;&#x5C11;&#x5F02;&#x5E38;&#x88AB;&#x5403;&#x6389;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x88AB;&#x91CD;&#x65B0;&#x629B;&#x51FA;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x8BA9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4FDD;&#x6301;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x8003;&#x8651;&#x6709;&#x591A;&#x5C11;&#x4EE3;&#x7801;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x53EF;&#x6015;&#x7684;(&#x4F46;&#x672A;&#x9009;&#x4E2D;)NullPointerException&#x3002;&#x6211;&#x7ECF;&#x5E38;&#x5F97;&#x5230;null&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x5176;&#x5F52;&#x7C7B;&#x4E3A;&#x201C;&#x4E0D;&#x5E94;&#x8BE5;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x201D;&#x3002;&#x201C;&#x663E;&#x7136;&#xFF0C;&#x5728;&#x5DF2;&#x68C0;&#x67E5;&#x548C;&#x672A;&#x68C0;&#x67E5;&#x5F02;&#x5E38;&#x7684;&#x610F;&#x56FE;&#x548C;&#x73B0;&#x5B9E;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x5DEE;&#x8DDD;&#x3002;</p>
<p>Groovy&#x901A;&#x8FC7;&#x5C06;&#x6240;&#x6709;&#x5DF2;&#x68C0;&#x67E5;&#x7684;&#x5F02;&#x5E38;&#x8F6C;&#x6362;&#x4E3A;&#x672A;&#x68C0;&#x67E5;&#x7684;&#x5F02;&#x5E38;&#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x4E00;&#x5C0F;&#x6B65;&#x5C06;&#x8FD4;&#x56DE;&#x5F02;&#x5E38;&#x4E25;&#x91CD;&#x7A0B;&#x5EA6;&#x7684;&#x5224;&#x65AD;&#x7ED9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002;&#x5982;&#x679C;&#x60A8;&#x8FD0;&#x884C;&#x7684;web&#x670D;&#x52A1;&#x7ECF;&#x5E38;&#x4ECE;&#x6700;&#x7EC8;&#x7528;&#x6237;&#x83B7;&#x5F97;&#x683C;&#x5F0F;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x4F1A;&#x9009;&#x62E9;&#x663E;&#x5F0F;&#x5730;&#x6355;&#x83B7;NullPointerException&#xFF0C;&#x5373;&#x4F7F;Java&#x7F16;&#x8BD1;&#x5668;&#x4E0D;&#x9700;&#x8981;&#x5B83;&#x3002; &#x5982;&#x679C;&#x60A8;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x7684;&#x6587;&#x4EF6;(&#x4F8B;&#x5982;: <code>WEB-INF/web.xml</code>)&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4E0D;&#x6355;&#x83B7;FileNotFoundException&#x3002; &#x591A;&#x4E8F;&#x4E86;Groovy&#xFF0C;&#x201C;&#x4E0D;&#x5E94;&#x8BE5;&#x53D1;&#x751F;&#x7684;&#x5F02;&#x5E38;&#x6761;&#x4EF6;&#x201D;&#x7684;&#x5B9A;&#x4E49;&#x73B0;&#x5728;&#x5B8C;&#x5168;&#x56DE;&#x5230;&#x4E86;&#x60A8;&#x7684;&#x63A7;&#x5236;&#x4E4B;&#x4E2D;&#x3002;&#x5C31;&#x50CF;&#x4F7F;&#x7528;&#x53EF;&#x9009;&#x7684;&#x9017;&#x53F7;&#x548C;&#x62EC;&#x53F7;&#x4E00;&#x6837;&#xFF0C;&#x60A8;&#x7684;&#x7F16;&#x7A0B;&#x4E5F;&#x662F;&#x6709;&#x76EE;&#x7684;&#x7684;&#x3002;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x662F;&#x56E0;&#x4E3A;&#x60A8;&#x5E0C;&#x671B;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x5E0C;&#x671B;&#x60A8;&#x8FD9;&#x6837;&#x505A;&#x3002;</p>
<h3 id="3_7_Operator_Overloading"><a name="3_7_Operator_Overloading" class="anchor-navigation-ex-anchor" href="#3_7_Operator_Overloading"><i class="fa fa-link" aria-hidden="true"></i></a>3.7 &#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()
===&gt; Sat Sep <span class="hljs-number">01</span> <span class="hljs-number">13</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20</span> MDT <span class="hljs-number">2007</span>

d.next()
===&gt; Sun Sep <span class="hljs-number">02</span> <span class="hljs-number">13</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20</span> MDT <span class="hljs-number">2007</span>

(<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).each{ println d++ }
===&gt;
Sat Sep <span class="hljs-number">01</span> <span class="hljs-number">13</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20</span> MDT <span class="hljs-number">2007</span>
Sun Sep <span class="hljs-number">02</span> <span class="hljs-number">13</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20</span> MDT <span class="hljs-number">2007</span>
Mon Sep <span class="hljs-number">03</span> <span class="hljs-number">13</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20</span> MDT <span class="hljs-number">2007</span>
</code></pre>
<p>&#x5728;&#x79BB;&#x5F00;Java&#x8BED;&#x8A00;&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x5728;Groovy&#x4E2D;&#x4ECD;&#x7136;&#x5F88;&#x6D3B;&#x8DC3;&#x3002;&#x6B63;&#x5982;&#x60A8;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;<code>++</code>&#x64CD;&#x4F5C;&#x7B26;&#x5728;&#x5E55;&#x540E;&#x8C03;&#x7528;<code>next()</code>&#x65B9;&#x6CD5;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x5217;&#x8868;&#x663E;&#x793A;&#x4E86;&#x64CD;&#x4F5C;&#x7B26;&#x548C;&#x76F8;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;:
| &#x64CD;&#x4F5C;&#x7B26;    | &#x65B9;&#x6CD5;    |
| :-- | :-- |
|a == b or a != b     | a.equals(b)    |
| a + b  | a.plus(b) |
| a - b  | a.minus(b) |
| a * b  | a.multiply(b) |
| a / b  | a.div(b) |
| a % b  | a.mod(b) |
| a++ or ++a  | a.next() |
| a- - or - -a  | a.previous() |
| a &amp; b  | a.and(b) |
| a | b  | a.or(b) |
| a[b]  | a.getAt(b) |
| a[b] = c  | a.putAt(b,c) |
| a &lt;&lt; b  | a.leftShift(b) |
| a &gt;&gt; b  | a.rightShift(b) |
| a &lt; b or a &gt; b or a &lt;= b or a &gt;= b  | a.compareTo(b) |</p>
<p>&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;&#x7CD6;&#x51FA;&#x73B0;&#x5728;GDK<sup><a href="#fn_37" id="reffn_37">37</a></sup> (JDK&#x7684;Groovy&#x589E;&#x5F3A;)&#x4E2D;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x7B2C;58&#x9875;&#x7684;&#x7B2C;3.14&#x8282;&#x201C;&#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x201D;&#x6F14;&#x793A;&#x4E86;&#x6DFB;&#x52A0;&#x5230;<code>java.util.List</code>&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x65B9;&#x4FBF;&#x64CD;&#x4F5C;&#x7B26;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;Java&#x65B9;&#x6CD5;(<code>List.add(&quot;foo&quot;)</code>)&#x6216;&#x65B0;&#x7684;Groovy&#x65B9;&#x6CD5;(<code>List &lt;&lt; &quot;foo&quot;</code>)&#x5411;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x9879;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#x4E2D;&#x3002; &#x5728;Groovy&#x4E2D; <code>order.leftShift(item)</code> &#x53D8;&#x6210;  <code>order &lt;&lt; item</code> .</p>
<p>&#x662F;&#x5426;&#x4F7F;&#x7528;&#x8FD0;&#x7B97;&#x7B26;&#x91CD;&#x8F7D;&#x53D6;&#x51B3;&#x4E8E;&#x60A8;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x5FC5;&#x987B;&#x627F;&#x8BA4;&#xFF0C;<code>date + 7</code>&#x7684;&#x611F;&#x89C9;&#x6BD4;<code>date.roll(Calendar.DATE,7)</code>&#x66F4;&#x52A0;&#x81EA;&#x7136;&#x3002;</p>
<h3 id="3_8_Safe_Dereferencing____"><a name="3_8_Safe_Dereferencing____" class="anchor-navigation-ex-anchor" href="#3_8_Safe_Dereferencing____"><i class="fa fa-link" aria-hidden="true"></i></a>3.8 &#x5B89;&#x5168;&#x89E3;&#x9664;&#x5F15;&#x7528;(?) </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> s = <span class="hljs-string">&quot;Jane&quot;</span>
s.size()
===&gt; <span class="hljs-number">5</span>
s = <span class="hljs-literal">null</span>
s.size()
<span class="hljs-string">Caught:</span> java.lang.<span class="hljs-string">NullPointerException:</span> Cannot invoke method size()
        on <span class="hljs-literal">null</span> object at CommandLine.run(CommandLine.<span class="hljs-string">groovy:</span><span class="hljs-number">2</span>)
<span class="hljs-comment">//notice that we can call size()</span>
<span class="hljs-comment">//without throwing a NullPointerException</span>
<span class="hljs-comment">//thanks to the safe dereferencing ? operator</span>
s?.size()
===&gt; null
</code></pre>
<p>Null&#x5F15;&#x7528;&#x53EF;&#x80FD;&#x4F1A;&#x610F;&#x5916;&#x51FA;&#x73B0;&#x3002; &#x7531;&#x4E8E;&#x5B83;&#x4EEC;&#x65E2;&#x5E38;&#x89C1;&#x53C8;&#x6602;&#x8D35;&#xFF08;&#x5728;Java&#x4E2D;&#x5F15;&#x53D1;&#x5F02;&#x5E38;&#x4F1A;&#x4E2D;&#x6B62;&#x64CD;&#x4F5C;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x8BB8;&#x591A;Java&#x7A0B;&#x5E8F;&#x5458;&#x4E60;&#x60EF;&#x4E8E;&#x56F4;&#x7ED5;&#x6F5C;&#x5728;&#x7684;&#x7A7A;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x9632;&#x5FA1;&#x6027;&#x7F16;&#x7A0B;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">if</span>(s != <span class="hljs-literal">null</span>){
  s.doSomething();
}
</code></pre>
<p>&#x5982;&#x679C;&#x63A5;&#x6536;&#x5230;Null&#x5F15;&#x7528;&#x5E76;&#x4E0D;&#x50CF;&#x7F16;&#x8BD1;&#x5668;&#x5E0C;&#x671B;&#x7684;&#x90A3;&#x6837;&#x707E;&#x96BE;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x5C06;&#x5F88;&#x7E41;&#x7410;&#xFF08;&#x4E14;&#x5197;&#x957F;&#xFF09;&#x3002; &#x5982;&#x679C;&#x60A8;&#x60F3;&#x5FFD;&#x7565;NullPointerException&#x5E76;&#x4EE5;&#x9759;&#x9ED8;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;Groovy&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002; &#x5728;&#x4EFB;&#x4F55;&#x53EF;&#x80FD;&#x4E3A;&#x7A7A;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x7684;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x95EE;&#x53F7;&#xFF0C;Groovy&#x4F1A;&#x5728;&#x540E;&#x53F0;&#x4E3A;&#x60A8;&#x5C06;&#x8C03;&#x7528;&#x5305;&#x88C5;&#x5728;<code>try/catch</code>&#x5757;&#x4E2D;&#x3002;</p>
<pre><code class="lang-groovy">s?.doSomething()
</code></pre>
<p>&#x6B64;&#x5B89;&#x5168;&#x89E3;&#x9664;&#x5F15;&#x7528;&#x53EF;&#x4EE5;&#x94FE;&#x63A5;&#x5230;&#x4EFB;&#x4F55;&#x6DF1;&#x5EA6;&#x3002; &#x5047;&#x8BBE;&#x60A8;&#x6709;&#x4E00;&#x4E2A;Person&#x7C7B;&#xFF0C;&#x5B83;&#x6709;Address&#x7C7B;&#x548C;PhoneNumber&#x7C7B;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x4E00;&#x76F4;&#x8FFD;&#x6EAF;&#x5230;&#x7535;&#x8BDD;&#x53F7;&#x7801;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x4E3A;&#x6BCF;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x6F5C;&#x5728;NullPointerException&#x6355;&#x83B7;&#x4FE1;&#x606F;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//in Java:</span>
<span class="hljs-keyword">if</span>(person != <span class="hljs-literal">null</span> &amp;&amp; person.getAddress() != <span class="hljs-literal">null</span>
          &amp;&amp; person.getAddress().getPhoneNumber() != <span class="hljs-literal">null</span> ){
  System.out.println(person.getAddress().getPhoneNumber());
}
<span class="hljs-keyword">else</span>{
  System.out.println(<span class="hljs-string">&quot;&quot;</span>);
}

<span class="hljs-comment">//in Groovy:</span>
println person?.address?.phoneNumber
</code></pre>
<h3 id="3_9_Autoboxing"><a name="3_9_Autoboxing" class="anchor-navigation-ex-anchor" href="#3_9_Autoboxing"><i class="fa fa-link" aria-hidden="true"></i></a>3.9 &#x81EA;&#x52A8;&#x88C5;&#x7BB1; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> i = <span class="hljs-number">2</span>
println i.<span class="hljs-keyword">class</span>
===&gt; java.lang.Integer

<span class="hljs-keyword">def</span> d = <span class="hljs-number">2.2</span>
println d.<span class="hljs-keyword">class</span>
===&gt; java.math.BigDecimal
</code></pre>
<p>&#x81EA;&#x52A8;&#x88C5;&#x7BB1;&#x6709;&#x52A9;&#x4E8E;&#x514B;&#x670D;Java&#x8BED;&#x8A00;&#x7684;&#x7279;&#x6B8A;&#x6027;&#xFF1A;Java&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x3002; Java&#x63D0;&#x4F9B;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF08;int&#xFF0C;float&#xFF0C;double&#xFF09;&#x4EE5;&#x53CA;&#x5BF9;&#x8C61;&#xFF08;Integer&#xFF0C;Float&#xFF0C;Double&#xFF09;&#x3002; &#x5728;1995&#x5E74;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x7406;&#x7684;&#x8BA9;&#x6B65;&#x3002; &#x4F7F;&#x7528;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x63D0;&#x9AD8;&#x901F;&#x5EA6;&#xFF1B; &#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#x662F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x3002; &#x5728;&#x53D1;&#x5E03;Java 5&#x65F6;&#xFF0C;Sun&#x6DFB;&#x52A0;&#x4E86;&#x81EA;&#x52A8;&#x88C5;&#x7BB1;(&#x900F;&#x660E;&#x5730;&#x5C06;&#x539F;&#x8BED;&#x63D0;&#x5347;&#x4E3A;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x5BF9;&#x8C61;&#x4E2D;)&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x6D88;&#x9664;&#x8FD9;&#x79CD;&#x5386;&#x53F2;&#x4E0A;&#x7684;&#x5947;&#x602A;&#x73B0;&#x8C61;&#x3002;Sun&#x5E76;&#x6CA1;&#x6709;&#x6D88;&#x9664;&#x539F;&#x59CB;/&#x5BF9;&#x8C61;&#x7684;&#x5212;&#x5206;;&#x5B83;&#x53EA;&#x662F;&#x8BA9;&#x5B83;&#x4E0D;&#x90A3;&#x4E48;&#x5BB9;&#x6613;&#x663E;&#x73B0;&#x3002;</p>
<p>Groovy&#x4F7F;Java 5&#x81EA;&#x52A8;&#x88C5;&#x7BB1;&#x53C8;&#x8FC8;&#x51FA;&#x4E86;&#x4E00;&#x6B65;-&#x5B83;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x81EA;&#x52A8;&#x88C5;&#x7BB1;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x6709;&#x8DA3;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x4F8B;&#x5982;&#x5728;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x770B;&#x6765;&#x50CF;&#x539F;&#x59CB;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-number">2.</span><span class="hljs-class"><span class="hljs-keyword">class</span>
===&gt; <span class="hljs-title">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">Integer</span>

2.<span class="hljs-title">toFloat</span>()
===&gt; 2.0

3.<span class="hljs-title">times</span>{</span>println <span class="hljs-string">&quot;Hi&quot;</span>}
Hi
Hi
Hi
</code></pre>
<p>&#x5373;&#x4F7F;&#x663E;&#x5F0F;&#x5730;&#x5C06;&#x53D8;&#x91CF;&#x8F6C;&#x6362;&#x4E3A;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#xFF0C;&#x4ECD;&#x7136;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x4E00;&#x5207;&#x90FD;&#x662F;&#x5BF9;&#x8C61;&#x3002;&#x4E00;&#x5207;&#x3002;&#x5C31;Groovy&#x800C;&#x8A00;&#xFF0C;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#x5DF2;&#x7ECF;&#x4E0D;&#x5B58;&#x5728;&#x4E86;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">float</span> f = (<span class="hljs-keyword">float</span>) <span class="hljs-number">2.2</span>F
f.<span class="hljs-keyword">class</span>
===&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">Float</span>
</span></code></pre>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x4E00;&#x4E2A;Java&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x8BE5;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x7684;&#x662F;&#x539F;&#x59CB;&#x7C7B;&#x578B;&#x800C;&#x4E0D;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x60C5;&#x51B5;&#x53C8;&#x4F1A;&#x5982;&#x4F55;&#x5462;?&#x65E0;&#x9700;&#x62C5;&#x5FC3;&#x2014;groovy&#x6839;&#x636E;&#x9700;&#x8981;&#x89E3;&#x7BB1;(unboxes)&#x8FD9;&#x4E9B;&#x503C;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x66F4;&#x7CBE;&#x786E;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>as</code>&#x5173;&#x952E;&#x5B57;:</p>
<pre><code class="lang-groovy">javaClass.javaMethod(totalCost <span class="hljs-keyword">as</span> <span class="hljs-keyword">double</span>)
</code></pre>
<p>&#x5982;&#x679C;&#x663E;&#x5F0F;&#x5730;&#x5C06;&#x6570;&#x5B57;&#x8F6C;&#x6362;&#x4E3A;&#x6D6E;&#x70B9;&#x6570;&#x6216;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x5B83;&#x5C06;&#x81EA;&#x52A8;&#x88C5;&#x7BB1;&#x4E3A;&#x6D6E;&#x70B9;&#x6570;&#x6216;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570;&#x3002;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x5B83;&#x4F1A;&#x81EA;&#x52A8;&#x88C5;&#x7BB1;&#x4E3A;BigDecimal&#x3002;&#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;?&#x5B83;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x907F;&#x514D;Java&#x4E2D;&#x53EF;&#x6015;&#x7684;&#x201C;&#x6D6E;&#x70B9;&#x7B97;&#x672F;&#x201D;&#x95EE;&#x9898;:</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//In Java:</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PiggyBank</span>{</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args){
  <span class="hljs-keyword">double</span> sum = <span class="hljs-number">0.0</span>d;
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++){
    sum += <span class="hljs-number">0.1</span>d;
  }
  System.out.println(sum);
  }
}

$ java PiggyBank
===&gt; <span class="hljs-number">0.9999999999999999</span>
</code></pre>
<p>&#x5047;&#x8BBE;&#x4F60;&#x8FDE;&#x7EED;&#x5341;&#x5929;&#x628A;&#x4E00;&#x679A;10&#x7F8E;&#x5206;&#x7684;&#x786C;&#x5E01;&#x653E;&#x5728;&#x4F60;&#x7684;&#x50A8;&#x84C4;&#x7F50;&#x91CC;&#x3002;&#x6839;&#x636E;Java&#x7684;&#x8BF4;&#x6CD5;&#xFF0C;&#x4F60;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x662F;&#x4E00;&#x7F8E;&#x5143;&#xFF0C;&#x8FD8;&#x662F;&#x4E00;&#x79CD;&#x6E10;&#x8FDB;&#x5730;&#x63A5;&#x8FD1;&#x4E00;&#x7F8E;&#x5143;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5374;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x5F97;&#x5230;&#x5B83;?</p>
<p>&#x7EA6;&#x4E66;&#x4E9A;&#x2022;&#x5E03;&#x6D1B;&#x8D6B;(Joshua Bloch)&#x5728;&#x4ED6;&#x7684;&#x5F00;&#x521B;&#x6027;&#x8457;&#x4F5C;&#x300A;&#x6709;&#x6548;&#x7684;Java&#x300B;(Effective Java)&#x4E2D;&#x6709;&#x6574;&#x6574;&#x4E00;&#x8282;&#x4E13;&#x95E8;&#x8BA8;&#x8BBA;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#x3002;&#x5728;149&#x9875;&#xFF0C;&#x9879;&#x76EE;31&#x7684;&#x6807;&#x9898;&#x8BF4;&#x660E;&#x4E86;&#x4E00;&#x5207;:&#x201C;&#x5982;&#x679C;&#x9700;&#x8981;&#x786E;&#x5207;&#x7684;&#x7B54;&#x6848;&#xFF0C;&#x907F;&#x514D;&#x6D6E;&#x70B9;&#x6570;&#x548C;&#x53CC;&#x7CBE;&#x5EA6;&#x6570;&#x3002;Groovy&#x5982;&#x4F55;&#x5904;&#x7406;&#x76F8;&#x540C;&#x7684;&#x95EE;&#x9898;?</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//In Groovy:</span>
<span class="hljs-keyword">def</span> sum = <span class="hljs-number">0</span>
<span class="hljs-number">10.</span>times{ sum += <span class="hljs-number">0.1</span>}
println sum
===&gt; <span class="hljs-number">1.0</span>
</code></pre>
<p>&#x7528;&#x4E8E;<code>java.math</code>&#x7684;Javadoc&#x3002;BigDecimal&#x6307;&#x51FA;&#xFF0C;&#x5B83;&#x6700;&#x9002;&#x5408;&#x7528;&#x4E8E;&#x201C;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x3001;&#x4EFB;&#x610F;&#x7CBE;&#x5EA6;&#x5E26;&#x7B26;&#x53F7;&#x7684;&#x5C0F;&#x6570;&#x201D;&#x3002;BigDecimal&#x7C7B;&#x8BA9;&#x7528;&#x6237;&#x5B8C;&#x5168;&#x63A7;&#x5236;&#x820D;&#x5165;&#x884C;&#x4E3A;&#x3002;&#x201C;&#x6700;&#x5C0F;&#x610F;&#x5916;&#x539F;&#x5219;&#x8868;&#x660E;<code>1.1 + 1.1&#x5E94;&#x8BE5;&#x8FD4;&#x56DE;2.2</code>,<code>10 * 0.1&#x5E94;&#x8BE5;&#x7B49;&#x4E8E;1.0</code>&#x3002;BigDecimal(&#x548C;Groovy)&#x63D0;&#x4F9B;&#x4E86;&#x60A8;&#x671F;&#x671B;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="3_10_Groovy_Truth"><a name="3_10_Groovy_Truth" class="anchor-navigation-ex-anchor" href="#3_10_Groovy_Truth"><i class="fa fa-link" aria-hidden="true"></i></a>3.10 Groovy&#x7684;True </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">//true</span>
<span class="hljs-keyword">if</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">// any non-zero value is true</span>
<span class="hljs-keyword">if</span>(<span class="hljs-number">-1</span>)
<span class="hljs-keyword">if</span>(!<span class="hljs-literal">null</span>) <span class="hljs-comment">// any non-null value is true</span>
<span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;John&quot;</span>) <span class="hljs-comment">// any non-empty string is true</span>

Map family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
<span class="hljs-keyword">if</span>(family) <span class="hljs-comment">// true since the map is populated</span>

String[] sa = <span class="hljs-keyword">new</span> String[<span class="hljs-number">1</span>]
<span class="hljs-keyword">if</span>(sa) <span class="hljs-comment">// true since the array length is greater than 0</span>

StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer()
sb.append(<span class="hljs-string">&quot;Hi&quot;</span>)
<span class="hljs-keyword">if</span>(sb) <span class="hljs-comment">// true since the StringBuffer is populated</span>

<span class="hljs-comment">//false</span>
<span class="hljs-keyword">if</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// zero is false</span>
<span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// null is false</span>
<span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;&quot;</span>) <span class="hljs-comment">// empty strings are false</span>

Map family = [:]
<span class="hljs-keyword">if</span>(family) <span class="hljs-comment">// false since the map is empty</span>

String[] sa = <span class="hljs-keyword">new</span> String[<span class="hljs-number">0</span>]
<span class="hljs-keyword">if</span>(sa) <span class="hljs-comment">// false since the array is zero length</span>

StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer()
<span class="hljs-keyword">if</span>(sb) <span class="hljs-comment">// false since the StringBuffer is empty</span>
</code></pre>
<p>&quot;Groovy truth&quot;&#x662F;Groovy&#x8BED;&#x8A00;&#x4E2D;&#x8BC4;&#x4F30;&#x4E3A;true&#x7684;&#x7B80;&#x5199;&#x3002; &#x5728;Java&#x4E2D;&#xFF0C;&#x552F;&#x4E00;&#x8BC4;&#x4F30;&#x4E3A;true&#x7684;&#x4E1C;&#x897F;&#x5C31;&#x662F;true&#x3002; &#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x5F88;&#x591A;&#x65E0;&#x5173;&#x7684;&#x8F93;&#x5165;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x5C1D;&#x8BD5;&#x5F15;&#x5165;Java&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//in Java:</span>
<span class="hljs-keyword">if</span>(args != <span class="hljs-literal">null</span> &amp;&amp; args.length &gt; <span class="hljs-number">0</span>){
  File dir = <span class="hljs-keyword">new</span> File(args[<span class="hljs-number">0</span>]);
} <span class="hljs-keyword">else</span>{
  System.out.println(<span class="hljs-string">&quot;Usage: ListDir /some/dir/name&quot;</span> );
}
</code></pre>
<p>&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x53EA;&#x9700;&#x7F16;&#x5199;<code>File dir = new File(args [0])</code>&#x5E76;&#x5E0C;&#x671B;&#x53D6;&#x5F97;&#x6700;&#x4F73;&#x6548;&#x679C;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x7684;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x7684;&#x53C2;&#x6570;&#x6570;&#x91CF;&#x4E0D;&#x6B63;&#x786E;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x952E;&#x5165;<code>java ListDir</code>&#x800C;&#x4E0D;&#x662F;<code>java ListDir /tmp</code>&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x60A8;&#x5E0C;&#x671B;&#x4ED6;&#x4EEC;&#x770B;&#x5230;&#x54EA;&#x4E2A;&#x9519;&#x8BEF;&#xFF1F;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//default message:</span>
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">&quot;main&quot;</span> java.lang.<span class="hljs-string">ArrayIndexOutOfBoundsException:</span> <span class="hljs-number">0</span>
at ListDir.main(ListDir.<span class="hljs-string">java:</span><span class="hljs-number">6</span>)
<span class="hljs-comment">//your custom error message:</span>
<span class="hljs-string">Usage:</span> ListDir <span class="hljs-regexp">/some/</span>dir/name
</code></pre>
<p>&#x591A;&#x4E8F;&#x4E86;<code>Groovy truth</code>&#xFF0C;&#x540C;&#x6837;&#x7684;&#x9519;&#x8BEF;&#x6355;&#x83B7;&#x4EE3;&#x7801;&#x5757;&#x53EF;&#x4EE5;&#x88AB;&#x7F29;&#x77ED;&#x4E3A;:</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//in Groovy:</span>
<span class="hljs-keyword">if</span>(args){
  dir = <span class="hljs-keyword">new</span> File(args[<span class="hljs-number">0</span>])
}
<span class="hljs-keyword">else</span>{
  println <span class="hljs-string">&quot;Usage: ListDir /some/dir/name&quot;</span>
}
</code></pre>
<p><code>0&#x3001;NULL&#x548C;&quot;&quot;(&#x7A7A;&#x5B57;&#x7B26;&#x4E32;)</code>&#x7684;&#x503C;&#x90FD;&#x4E3A;false&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5728;&#x5904;&#x7406;&#x6765;&#x81EA;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#x65F6;&#xFF0C;&#x7B80;&#x5355;&#x7684;if(args)&#x6355;&#x83B7;&#x4E86;&#x6240;&#x6709;&#x6700;&#x53EF;&#x80FD;&#x8981;&#x907F;&#x514D;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<h3 id="3_11_Embedded_Quotes"><a name="3_11_Embedded_Quotes" class="anchor-navigation-ex-anchor" href="#3_11_Embedded_Quotes"><i class="fa fa-link" aria-hidden="true"></i></a>3.11 &#x5D4C;&#x5165;&#x5F15;&#x53F7; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> s1 = <span class="hljs-string">&apos;My name is &quot;Jane&quot;&apos;</span>
<span class="hljs-keyword">def</span> s2 = <span class="hljs-string">&quot;My name is &apos;Jane&apos;&quot;</span>
<span class="hljs-keyword">def</span> s3 = <span class="hljs-string">&quot;My name is \&quot;Jane\&quot;&quot;</span>
</code></pre>
<p>Groovy&#x5411;Java&#x5B57;&#x7B26;&#x4E32;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x4E0D;&#x9519;&#x7684;&#x65B0;&#x6280;&#x5DE7;&#x3002;&#x5728;Java&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x5355;&#x5F15;&#x53F7;&#x7528;&#x4E8E;&#x8868;&#x793A;&#x4E00;&#x4E2A;char&#x57FA;&#x5143;&#x3002;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5355;&#x5F15;&#x53F7;&#x6765;&#x5305;&#x56F4;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5355;&#x5F15;&#x53F7;&#x6765;&#x4FDD;&#x5B58;&#x5305;&#x542B;&#x53CC;&#x5F15;&#x53F7;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x8F6C;&#x4E49;&#x5B83;&#x4EEC;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5305;&#x542B;&#x5D4C;&#x5165;&#x5355;&#x5F15;&#x53F7;&#x7684;&#x53CC;&#x5F15;&#x53F7;&#x5B57;&#x7B26;&#x4E32;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;&#x4F7F;&#x7528;&#x9000;&#x683C;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&#x5728;&#x4E24;&#x79CD;&#x8BED;&#x8A00;&#x4E2D;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;</p>
<h3 id="3_12_Heredocs__Triple_Quotes_"><a name="3_12_Heredocs__Triple_Quotes_" class="anchor-navigation-ex-anchor" href="#3_12_Heredocs__Triple_Quotes_"><i class="fa fa-link" aria-hidden="true"></i></a>3.12 heredoc(&#x4E09;&#x91CD;&#x5F15;&#x53F7;) </h3>
<pre><code class="lang-groovy">String s = <span class="hljs-string">&quot;&quot;&quot;This is a
multi-line String.
&quot;You don&apos;t need to escape internal quotes&quot; , he said.
&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> ss = <span class="hljs-string">&apos;&apos;&apos;This
That, The Other&apos;&apos;&apos;</span>

<span class="hljs-keyword">def</span> xml = <span class="hljs-string">&quot;&quot;&quot;
&lt;book id=&quot;987&quot;&gt;
  &lt;title&gt;Groovy Recipes&lt;/title&gt;
  &lt;author&gt;Scott Davis&lt;/author&gt;
&lt;/book&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> html = <span class="hljs-string">&quot;&quot;&quot;&lt;body onload=&quot;init()&quot;&gt;...&lt;/body&gt;&quot;&quot;&quot;</span>
</code></pre>
<p>Heredocs <sup><a href="#fn_312" id="reffn_312">312</a></sup>&#x652F;&#x6301;&#x591A;&#x79CD;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#xFF0C;&#x4ECE;Python&#x5230;Perl&#x5230;Ruby&#x3002; Heredoc&#x5141;&#x8BB8;&#x60A8;&#x5C06;&#x591A;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x5B58;&#x50A8;&#x5728;&#x5355;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x3002; Groovy&#x4F7F;&#x7528;&#x4E09;&#x5F15;&#x53F7;&#xFF08;&#x4E09;&#x4E2A;&#x5355;&#x5F15;&#x53F7;&#x6216;&#x4E09;&#x4E2A;&#x53CC;&#x5F15;&#x53F7;&#xFF09;&#x6765;&#x5B9A;&#x4E49;Heredocs&#x3002;</p>
<p>&#x5373;&#x4F7F;&#x60A8;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x5355;&#x884C;&#x7684;&#xFF0C;heredocs&#x4ECD;&#x7136;&#x975E;&#x5E38;&#x6709;&#x4EF7;&#x503C;&#x3002; &#x5C06;XML&#xFF0C;HTML&#x6216;JSON&#x7247;&#x6BB5;&#x653E;&#x5165;&#x53D8;&#x91CF;&#x4E2D;&#x662F;&#x8FDB;&#x884C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x7684;&#x597D;&#x65B9;&#x6CD5;&#x3002; &#x4E0D;&#x5FC5;&#x8F6C;&#x4E49;&#x5185;&#x90E8;&#x5F15;&#x53F7;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x5C06;&#x8F93;&#x51FA;&#x590D;&#x5236;&#x5230;&#x53D8;&#x91CF;&#x4E2D;&#x5E76;&#x7ACB;&#x5373;&#x5F00;&#x59CB;&#x9488;&#x5BF9;&#x8BE5;&#x53D8;&#x91CF;&#x7F16;&#x5199;&#x65AD;&#x8A00;&#x3002;</p>
<p>&#x6709;&#x5173;heredocs&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;239&#x9875;&#x7B2C;12.4&#x8282;&#xFF0C;&#x8BBE;&#x7F6E;Atom&#x63D0;&#x8981;&#x3002;</p>
<h3 id="3_13_GStrings"><a name="3_13_GStrings" class="anchor-navigation-ex-anchor" href="#3_13_GStrings"><i class="fa fa-link" aria-hidden="true"></i></a>3.13 Groovy&#x7684;String </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> name = <span class="hljs-string">&quot;John&quot;</span>
println <span class="hljs-string">&quot;Hello ${name}. Today is ${new Date()}&quot;</span>
===&gt; Hello John. Today is Fri Dec <span class="hljs-number">28</span> <span class="hljs-number">15</span>:<span class="hljs-number">16</span>:<span class="hljs-number">32</span> MDT <span class="hljs-number">2007</span>
</code></pre>
<p>&#x5BF9;&#x4E8E;&#x4EFB;&#x4F55;&#x4F7F;&#x7528;Ant&#x6784;&#x5EFA;&#x6587;&#x4EF6;&#x6216;Java&#x670D;&#x52A1;&#x5668;&#x9875;&#x9762;(jsp)&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x5D4C;&#x5165;&#x7684;&#x7F8E;&#x5143;&#x7B26;&#x53F7;&#x548C;&#x5927;&#x62EC;&#x53F7;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x719F;&#x6089;&#x7684;&#x573A;&#x666F;&#x3002;&#x5B83;&#x4F7F;&#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#x6BD4;&#x4F20;&#x7EDF;Java&#x5BB9;&#x6613;&#x5F97;&#x591A;: <code>&quot;Hello &quot; + name + &quot;.&quot;</code>&#x3002; Groovy&#x4EE5;GString(&#x5F53;&#x7136;&#x662F;&#x201C;Groovy&#x5B57;&#x7B26;&#x4E32;&#x201D;&#x7684;&#x7F29;&#x5199;)&#x7684;&#x5F62;&#x5F0F;&#x5C06;&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;&#x5F15;&#x5165;&#x5230;&#x8BED;&#x8A00;&#x4E2D;&#x3002;&#x4EFB;&#x4F55;&#x5305;&#x542B;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x90FD;&#x662F;GString:</p>
<pre><code class="lang-groovy">println &quot;Hello John&quot;.class
===&gt; class java.lang.String

println &quot;Hello ${name}&quot;.class
===&gt; class org.codehaus.groovy.runtime.GStringImpl
</code></pre>
<p>&#x6DF7;&#x5408;GString&#x548C;heredocs(&#x4E0A;&#x4E00;&#x9875;&#x7684;&#x7B2C;3.12&#x8282;&#xFF0C;heredocs(&#x4E09;&#x91CD;&#x5F15;&#x53F7;))&#x6784;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x7279;&#x522B;&#x5F3A;&#x5927;&#x7684;&#x7EC4;&#x5408;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> name = <span class="hljs-string">&quot;John&quot;</span>
<span class="hljs-keyword">def</span> date = <span class="hljs-keyword">new</span> Date()
<span class="hljs-keyword">def</span> amount = <span class="hljs-number">987.65</span>
<span class="hljs-keyword">def</span> template = <span class="hljs-string">&quot;&quot;&quot;
Dear ${name},
  This is a friendly notice that ${amount} was
  deposited in your checking account on ${date}.
&quot;&quot;&quot;</span>
</code></pre>
<h3 id="3_14_List_Shortcuts"><a name="3_14_List_Shortcuts" class="anchor-navigation-ex-anchor" href="#3_14_List_Shortcuts"><i class="fa fa-link" aria-hidden="true"></i></a>3.14 &#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
println languages.<span class="hljs-keyword">class</span>
===&gt; java.util.ArrayList
</code></pre>
<p>Groovy&#x4E3A;&#x521B;&#x5EFA;ArrayLists&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x7B80;&#x6D01;&#x7684;&#x8BED;&#x6CD5;&#x3002;</p>
<p>&#x5C06;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x503C;&#x5217;&#x8868;&#x653E;&#x5728;&#x7B49;&#x53F7;&#x53F3;&#x8FB9;&#x7684;&#x65B9;&#x62EC;&#x53F7;&#x4E2D;&#xFF0C;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x3002;(Maps&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x7C7B;&#x4F3C;&#x7684;&#x7B80;&#x5355;&#x6784;&#x9020;&#x2014;&#x53C2;&#x89C1;&#x7B2C;62&#x9875;3.15&#x8282;&#xFF0C;Map&#x5FEB;&#x6377;&#x65B9;&#x5F0F;)&#x3002;</p>
<p>&#x867D;&#x7136;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x65B9;&#x62EC;&#x53F7;&#x5C06;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;ArrayList&#xFF0C;&#x4F46;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x884C;&#x5C3E;&#x52A0;&#x4E0A;as&#x5B50;&#x53E5;&#xFF0C;&#x4EE5;&#x8F6C;&#x6362;&#x6210;&#x5176;&#x4ED6;&#x5404;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>] <span class="hljs-keyword">as</span> String[]
<span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>] <span class="hljs-keyword">as</span> Set
</code></pre>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x5217;&#x8868;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> empty = []
println empty.size()
===&gt; <span class="hljs-number">0</span>
</code></pre>
<p>&#x8981;&#x521B;&#x5EFA;&#x7A7A;&#x5217;&#x8868;&#xFF0C;&#x53EA;&#x9700;&#x4F7F;&#x7528;&#x7A7A;&#x96C6;&#x7B26;&#x53F7;&#x3002;</p>
<p><strong>&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages &lt;&lt; <span class="hljs-string">&quot;Jython&quot;</span>
===&gt; [Java, Groovy, JRuby, Jython]
</code></pre>
<p>&#x5411;&#x5217;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x9879;&#x5F88;&#x5BB9;&#x6613;&#x3002;Groovy&#x5C06;<code>&lt;&lt;</code>&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x5230;<code>leftShift()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x5B8C;&#x6210;&#x6B64;&#x4EFB;&#x52A1;&#x3002;(&#x6709;&#x5173;&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;50&#x9875;&#x7B2C;3.7&#x8282;&#xFF0C;&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x3002;)</p>
<p><strong>&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
println languages[<span class="hljs-number">1</span>]
println languages.getAt(<span class="hljs-number">1</span>)
==&gt; Groovy
</code></pre>
<p>&#x5373;&#x4F7F;&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#x662F;&#x5217;&#x8868;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x7C7B;&#x4F3C;&#x6570;&#x7EC4;&#x7684;&#x8C03;&#x7528;&#x3002; Groovy&#x6A21;&#x7CCA;&#x4E86;&#x5217;&#x8868;&#x548C;&#x6570;&#x7EC4;&#x4E4B;&#x95F4;&#x7684;&#x8BED;&#x6CD5;&#x533A;&#x522B;&#xFF0C;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6700;&#x559C;&#x6B22;&#x7684;&#x6837;&#x5F0F;&#x3002;</p>
<p><strong>Iterating(&#x8FED;&#x4EE3;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]

<span class="hljs-comment">//&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x201C;it&#x201D;&#x53D8;&#x91CF;:</span>
languages.each{println it}
===&gt;
Java
Groovy
JRuby

<span class="hljs-comment">//&#x4F7F;&#x7528;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x6307;&#x5B9A;&#x53D8;&#x91CF;:</span>
languages.each{ lang -&gt;
  println lang
}
===&gt;
Java
Groovy
JRuby
</code></pre>
<p>&#x904D;&#x5386;&#x5217;&#x8868;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x6D3B;&#x52A8;&#xFF0C;&#x56E0;&#x6B64;Groovy&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x8FED;&#x4EE3;&#x5668;&#x53D8;&#x91CF;&#x7684;&#x9ED8;&#x8BA4;&#x540D;&#x79F0;<code>it</code>&#x3002;&#x5728;&#x7B2C;&#x4E8C;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x663E;&#x5F0F;&#x5730;&#x5C06;&#x53D8;&#x91CF;&#x547D;&#x540D;&#x4E3A;<code>lang</code>&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6240;&#x6709;&#x4F20;&#x7EDF;&#x7684;Java&#x65B9;&#x6CD5;&#x6765;&#x904D;&#x5386;&#x5217;&#x8868;&#x3002;&#x5982;&#x679C;&#x4F60;&#x559C;&#x6B22;Java 5 &#x7684; <code>for..in</code>&#x8BED;&#x6CD5;&#x6216; <code>java.util.Iterator</code>&#x8FED;&#x4EE3;&#x5668;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x8BF7;&#x8BB0;&#x4F4F;Groovy&#x589E;&#x5F3A;&#x4E86;Java;&#x5B83;&#x4E0D;&#x4F1A;&#x53D6;&#x4EE3;&#x5B83;&#x3002;</p>
<p><strong>&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.eachWithIndex{lang, i -&gt;
  println <span class="hljs-string">&quot;${i}: ${lang}&quot;</span>
}
===&gt;
<span class="hljs-number">0</span>: Java
<span class="hljs-number">1</span>: Groovy
<span class="hljs-number">2</span>: JRuby
</code></pre>
<p>&quot;eachWithIndex()&quot;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x5F53;&#x524D;&#x5143;&#x7D20;&#x548C;&#x8BA1;&#x6570;&#x5668;&#x53D8;&#x91CF;&#x3002;</p>
<p><strong>Sort(&#x6392;&#x5E8F;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.sort()
===&gt; [Groovy, JRuby, Java]
println languages
===&gt; [Groovy, JRuby, Java]
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x5BF9;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6C38;&#x4E45;&#x6027;&#x7684;&#x66F4;&#x6539;&#x3002;<code>sort()</code>&#x4FEE;&#x6539;&#x539F;&#x59CB;&#x5217;&#x8868;&#x7684;&#x5185;&#x90E8;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x3002;</p>
<p><strong>Reverse(&#x53CD;&#x8F6C;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.reverse()
===&gt; [JRuby, Groovy, Java]
println languages
===&gt; [Java, Groovy, JRuby]
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x53CD;&#x8F6C;&#x5217;&#x8868;&#x3002;&#x6CE8;&#x610F;<code>reverse()</code>&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x5217;&#x8868;&#x7684;&#x539F;&#x59CB;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x3002;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#x3002;</p>
<p><strong>Pop(&#x5F39;&#x51FA;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.pop()
===&gt; <span class="hljs-string">&quot;JRuby&quot;</span>
println languages
===&gt; [Java, Groovy]
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x5F39;&#x51FA;&#x5185;&#x5BB9;&#x3002; pop&#x65B9;&#x6CD5;&#x4F7F;&#x7528;LIFO&#xFF0C;&#x8868;&#x793A;&#x540E;&#x8FDB;&#x5148;&#x51FA;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x662F;&#x6C38;&#x4E45;&#x66F4;&#x6539;&#x3002; <code>pop()</code>&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x6700;&#x540E;&#x4E00;&#x9879;&#x3002;</p>
<p><strong>Concatenating(&#x7EA7;&#x8054;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
<span class="hljs-keyword">def</span> others = [<span class="hljs-string">&quot;Jython&quot;</span>, <span class="hljs-string">&quot;JavaScript&quot;</span>]
languages += others
===&gt; [Java, Groovy, JRuby, Jython, JavaScript]
languages -= others
===&gt; [Java, Groovy, JRuby]
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x5C06;&#x4E24;&#x4E2A;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x518D;&#x51CF;&#x53BB;&#x5B83;&#x4EEC;&#x3002;</p>
<p><strong>Join(&#x8FDE;&#x63A5;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
groovy&gt; languages.join()
===&gt; JavaGroovyJRuby
groovy&gt; languages.join(<span class="hljs-string">&quot;,&quot;</span>)
===&gt; Java,Groovy,JRuby
</code></pre>
<p>&#x4FBF;&#x6377;&#x65B9;&#x6CD5;<code>join()</code>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;List&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x3002; &#x5982;&#x679C;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;<code>join()</code>&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5C06;&#x7531;&#x5B57;&#x7B26;&#x4E32;&#x5206;&#x9694;&#x3002;</p>
<p><strong>Find All(&#x627E;&#x5230;&#x6240;&#x6709;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.findAll{ it.startsWith(<span class="hljs-string">&quot;G&quot;</span>) }
===&gt; [Groovy]
</code></pre>
<p><code>findAll()</code>&#x5141;&#x8BB8;&#x67E5;&#x8BE2;&#x5217;&#x8868;&#x3002;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4E0E;&#x60A8;&#x7684;&#x6761;&#x4EF6;&#x5339;&#x914D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;</p>
<p><strong>Max, Min, Sum(&#x6700;&#x5927;,&#x6700;&#x5C0F;,&#x603B;&#x548C;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> scores = [<span class="hljs-number">80</span>, <span class="hljs-number">90</span>, <span class="hljs-number">70</span>]
println scores.max()
===&gt; <span class="hljs-number">90</span>
println scores.min()
===&gt; <span class="hljs-number">70</span>
println scores.sum()
===&gt; <span class="hljs-number">240</span>
</code></pre>
<p><code>max()</code>&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x503C;&#x3002; <code>min()</code>&#x8FD4;&#x56DE;&#x6700;&#x5C0F;&#x503C;&#x3002; <code>sum()</code>&#x6C47;&#x603B;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;</p>
<p><strong>Collect(&#x6536;&#x96C6;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
languages.collect{ it += <span class="hljs-string">&quot; is cool&quot;</span>}
===&gt; [Java is cool, Groovy is cool, JRuby is cool]
</code></pre>
<p>&#x5982;&#x679C;&#x8981;&#x4FEE;&#x6539;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>collect()</code>&#x65B9;&#x6CD5;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;<code>collect()</code>&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x539F;&#x59CB;&#x5217;&#x8868;&#x3002; &#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5217;&#x8868;&#x3002;</p>
<p><strong>Flatten(&#x5C55;&#x5E73;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
<span class="hljs-keyword">def</span> others = [<span class="hljs-string">&quot;Jython&quot;</span>, <span class="hljs-string">&quot;JavaScript&quot;</span>]
languages &lt;&lt; others
===&gt; [Java, Groovy, JRuby, [Jython, JavaScript]]
languages = languages.flatten()
===&gt; [Java, Groovy, JRuby, Jython, JavaScript]
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x5177;&#x6709;&#x591A;&#x7EF4;&#x5217;&#x8868;&#xFF0C;&#x5219;<code>flatten()</code>&#x8FD4;&#x56DE;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;<code>flatten()</code>&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x539F;&#x59CB;&#x5217;&#x8868;&#x3002; &#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5217;&#x8868;&#x3002;</p>
<p><strong><code>Spread Operator (*)</code> (&#x70B9;&#x5DEE;&#x7B97;&#x5B50;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> params = []
params &lt;&lt; <span class="hljs-string">&quot;jdbc:mysql://localhost:3306/bookstore_dev?autoreconnect=true&quot;</span>
params &lt;&lt; <span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>
params &lt;&lt; <span class="hljs-string">&quot;username&quot;</span>
params &lt;&lt; <span class="hljs-string">&quot;password&quot;</span>
<span class="hljs-keyword">def</span> sql = groovy.sql.Sql.newInstance(*params)
</code></pre>
<p>&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;spread&#x8FD0;&#x7B97;&#x7B26;&#x5C06;List&#x7684;&#x5143;&#x7D20;&#x5C55;&#x5F00;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;newInstance&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x56DB;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x3002; <code>*params</code>&#x63A5;&#x53D7;List&#x5E76;&#x5C06;&#x5143;&#x7D20;&#x6563;&#x5E03;&#x5230;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x7684;&#x6BCF;&#x4E2A;&#x63D2;&#x69FD;&#x4E2D;&#x3002;</p>
<p><code>spread-dot(&#x6269;&#x5C55;&#x70B9;)</code>&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5411;&#x76F8;&#x53CD;&#x3002; &#x5B83;&#x5141;&#x8BB8;&#x60A8;&#x7B80;&#x6D01;&#x5730;&#x904D;&#x5386;&#x5217;&#x8868;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E0A;&#x8C03;&#x7528;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> languages = [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>, <span class="hljs-string">&quot;JRuby&quot;</span>]
println languages*.toUpperCase()
===&gt; [JAVA, GROOVY, JRUBY]
</code></pre>
<h3 id="3_15_Map_Shortcuts"><a name="3_15_Map_Shortcuts" class="anchor-navigation-ex-anchor" href="#3_15_Map_Shortcuts"><i class="fa fa-link" aria-hidden="true"></i></a>3.15 &#x6620;&#x5C04;&#x5FEB;&#x6377;&#x65B9;&#x5F0F; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
println family.getClass()
===&gt; java.util.LinkedHashMap
</code></pre>
<p>Groovy&#x4E3A;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x63D0;&#x4F9B;&#x4E86;&#x7B80;&#x6D01;&#x7684;&#x8BED;&#x6CD5;&#x3002;&#x60A8;&#x53EA;&#x9700;&#x5728;&#x7B49;&#x53F7;&#x53F3;&#x8FB9;&#x7684;&#x65B9;&#x62EC;&#x53F7;&#x4E2D;&#x653E;&#x5165;<code>&#x9017;&#x53F7;&#x9650;&#x5236;&#x7684;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x5217;&#x8868;</code>&#xFF0C;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x3002;&#x5217;&#x8868;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x7684;&#x7B80;&#x5355;&#x6784;&#x9020;&#x2014;&#x53C2;&#x89C1;&#x7B2C;3.14&#x8282;&#xFF0C;&#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x7B2C;58&#x9875;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x6620;&#x5C04;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> empty = [:]
println empty.size()
===&gt; <span class="hljs-number">0</span>
</code></pre>
<p>&#x8981;&#x521B;&#x5EFA;&#x7A7A;&#x6620;&#x5C04;&#xFF0C;&#x53EA;&#x9700;&#x4F7F;&#x7528;&#x5E26;&#x5192;&#x53F7;&#x7684;&#x7A7A;&#x96C6;&#x8868;&#x793A;&#x6CD5;&#x3002;</p>
<p><strong>&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5143;&#x7D20;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
family.get(<span class="hljs-string">&quot;dad&quot;</span>)
family.dad
===&gt; John
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;Java <code>get()</code>&#x65B9;&#x6CD5;&#x4ECE;Map&#x4E2D;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002; &#x4F46;&#x662F;&#xFF0C;Groovy&#x7F29;&#x77ED;&#x4E86;&#x6B64;&#x8BED;&#x6CD5;&#xFF0C;&#x4F7F;&#x5176;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;&#x60A8;&#x5728;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x8BE5;&#x952E;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x60F3;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;&#x6570;&#x7EC4;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;family [&apos;dad&apos;]&#x662F;&#x4ECE;Map&#x4E2D;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x3002;</p>
<p>::: alert-info
<strong>&#x9677;&#x9631;&#xFF1A;<code>.class</code>&#x4E3A;&#x4EC0;&#x4E48;&#x5728;&#x9664;Map&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x7C7B;&#x4E0A;&#x90FD;&#x80FD;&#x5DE5;&#x4F5C;&#xFF1F;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
println family.<span class="hljs-keyword">class</span>
===&gt; <span class="hljs-literal">null</span>
println family.getClass()
===&gt; java.util.LinkedHashMap
</code></pre>
<p>&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x70B9;&#x8868;&#x793A;&#x6CD5;&#x5C06;&#x5143;&#x7D20;&#x4ECE;Map&#x4E2D;&#x53D6;&#x51FA;&#xFF0C;&#x56E0;&#x6B64;&#x8C03;&#x7528;<code>map.class</code>&#x8FD4;&#x56DE;null&#x800C;&#x4E0D;&#x662F;&#x7C7B;&#x7C7B;&#x578B;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#xFF1F; &#x56E0;&#x4E3A;&#x60A8;&#x7684;Map&#x4E0D;&#x5305;&#x542B;&#x540D;&#x4E3A;class&#x7684;&#x5143;&#x7D20;&#x3002; &#x5BF9;&#x4E8E;Map&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x7684;&#x957F;Java&#x5F62;&#x5F0F;:<code>map.getClass()</code>&#x3002; &#x5F53;&#x7136;&#xFF0C;<code>getClass()</code>&#x53EF;&#x5728;&#x6240;&#x6709;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;100&#xFF05;&#x7684;&#x65F6;&#x95F4;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x5219;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x6700;&#x5B89;&#x5168;&#x7684;&#x8C03;&#x7528;&#x5F62;&#x5F0F;&#x3002;</p>
<p>&#x9700;&#x8981;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;73&#x9875;&#x4E0A;&#x7684;&#x4FA7;&#x680F;&#x3002;
:::</p>
<p><strong>&#x6DFB;&#x52A0;&#x5143;&#x7D20;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
family.put(<span class="hljs-string">&quot;kid&quot;</span>, <span class="hljs-string">&quot;Timmy&quot;</span>)
family.kid2 = <span class="hljs-string">&quot;Susie&quot;</span>
===&gt; {dad=John, mom=Jane, kid=Timmy, kid2=Susie}
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;Java <code>put()</code>&#x65B9;&#x6CD5;&#x5C06;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x5230;Map&#x4E2D;&#x3002; Groovy&#x5C06;&#x5176;&#x7F29;&#x77ED;&#x4E3A;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x7684;&#x76F8;&#x540C;&#x7684;&#x70B9;&#x53F7;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;&#x6570;&#x7EC4;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;<code>family[&#x2019;kid2&#x2019;] = &quot;Susie&quot;</code>&#x4E5F;&#x662F;&#x6709;&#x6548;&#x7684;&#x3002;</p>
<p><strong>Iterating(&#x8FED;&#x4EE3;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]

<span class="hljs-comment">//using the default &apos;it&apos; variable:</span>
family.each{println it}
===&gt;
dad=John
mom=Jane

<span class="hljs-comment">//getting the key and value from &apos;it&apos;</span>
family.each{println <span class="hljs-string">&quot;${it.value} is the ${it.key}&quot;</span> }
===&gt;
John is the dad
Jane is the mom

<span class="hljs-comment">//using named variables for the key and value</span>
family.each{k,v -&gt;
  println <span class="hljs-string">&quot;${v} is the ${k}&quot;</span>
}
===&gt;
John is the dad
Jane is the mom
</code></pre>
<p>&#x904D;&#x5386;&#x6620;&#x5C04;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x89C1;&#x7684;&#x6D3B;&#x52A8;&#xFF0C;&#x56E0;&#x6B64;Groovy&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x65B9;&#x4FBF;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x8FED;&#x4EE3;&#x5668;&#x53D8;&#x91CF;&#x7684;&#x9ED8;&#x8BA4;&#x540D;&#x79F0;it&#x3002;&#x4E0B;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x5C06;&#x4F7F;&#x7528;<code>it.key</code> &#x548C; <code>it.value</code>&#x83B7;&#x53D6;<code>&#x540D;&#x79F0;/&#x503C;&#x5BF9;</code>&#x7684;&#x5355;&#x72EC;&#x90E8;&#x5206;&#x3002;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x663E;&#x5F0F;&#x5730;&#x5206;&#x522B;&#x547D;&#x540D;&#x952E;&#x548C;&#x503C;&#x53D8;&#x91CF;<code>k&#x548C;v</code>&#x3002;</p>
<p><strong>Concatenating(&#x8FDE;&#x63A5;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
<span class="hljs-keyword">def</span> kids = [<span class="hljs-string">kid:</span><span class="hljs-string">&quot;Timmy&quot;</span>, <span class="hljs-string">kid2:</span><span class="hljs-string">&quot;Susie&quot;</span>]
family += kids
===&gt; {dad=John, kid=Timmy, kid2=Susie, mom=Jane}

kids.each{k,v-&gt;
  family.remove(<span class="hljs-string">&quot;${k}&quot;</span>)
}
===&gt; {dad=John, mom=Jane}
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x5C06;&#x4E24;&#x4E2A;Map&#x6DFB;&#x52A0;&#x5728;&#x4E00;&#x8D77;&#x3002; Groovy&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;Map&#x4E2D;&#x51CF;&#x53BB;&#x4E00;&#x4E2A;Map&#x7684;&#x6377;&#x5F84;&#xFF0C;&#x4F46;&#x662F;&#x8BED;&#x6CD5;&#x592A;&#x77ED;&#x4E86;&#xFF0C;&#x81F3;&#x591A;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x5C0F;&#x7684;&#x758F;&#x5FFD;&#x3002;</p>
<p><strong>Finding Keys(&#x67E5;&#x627E;&#x952E;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
family.keySet()
===&gt; [dad, mom]
family.containsKey(<span class="hljs-string">&quot;dad&quot;</span>)
===&gt; <span class="hljs-literal">true</span>
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;Java&#x7684;<code>keySet()</code>&#x4E2D;&#x76F8;&#x540C;&#x7684;&#x7B56;&#x7565;&#x6765;&#x67E5;&#x627E;&#x6620;&#x5C04;&#x7684;&#x952E;&#xFF0C;&#x8BE5;&#x7B56;&#x7565;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x952E;&#x7684;&#x5217;&#x8868;&#xFF0C;<code>containsKey()</code>&#x8BA9;&#x60A8;&#x77E5;&#x9053;&#x952E;&#x662F;&#x5426;&#x5B58;&#x5728;&#x3002;</p>
<p><strong>Finding Values(&#x67E5;&#x627E;&#x503C;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> family = [<span class="hljs-string">dad:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">mom:</span><span class="hljs-string">&quot;Jane&quot;</span>]
family.values()
===&gt; [John, Jane]
family.containsValue(<span class="hljs-string">&quot;John&quot;</span>)
===&gt; <span class="hljs-literal">true</span>
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0E;Java&#x7684;<code>values()</code>&#x4E2D;&#x76F8;&#x540C;&#x7684;&#x7B56;&#x7565;&#x6765;&#x67E5;&#x627E;Groovy&#x4E2D;&#x7684;Map&#x503C;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x503C;&#x7684;&#x5217;&#x8868;&#xFF0C;<code>containsValue()</code>&#x8BA9;&#x60A8;&#x77E5;&#x9053;&#x67D0;&#x4E2A;&#x503C;&#x662F;&#x5426;&#x5B58;&#x5728;&#x3002;</p>
<h3 id="3_16_Ranges"><a name="3_16_Ranges" class="anchor-navigation-ex-anchor" href="#3_16_Ranges"><i class="fa fa-link" aria-hidden="true"></i></a>3.16 &#x8303;&#x56F4; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> r = <span class="hljs-number">1.</span><span class="hljs-number">.3</span>
println r.<span class="hljs-keyword">class</span>
===&gt; groovy.lang.IntRange
r.each{println it}
===&gt;
<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
r.each{ println <span class="hljs-string">&quot;Hi&quot;</span> }
===&gt;
Hi
Hi
Hi
(<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).each{println <span class="hljs-string">&quot;Bye&quot;</span>}
===&gt;
Bye
Bye
Bye
</code></pre>
<p>Groovy&#x4E3A;&#x8303;&#x56F4;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x672C;&#x673A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x5730;&#x521B;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x7B80;&#x5355;&#x8D77;&#x89C1;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x6240;&#x6709;&#x793A;&#x4F8B;&#x90FD;&#x4F7F;&#x7528;&#x6574;&#x6570;&#x3002;&#x4F46;&#x8303;&#x56F4;&#x8981;&#x7075;&#x6D3B;&#x5F97;&#x591A;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x5B9E;&#x73B0;<code>Comparable</code>&#x63A5;&#x53E3;&#x5E76;&#x5177;&#x6709;<code>next()</code>&#x548C;<code>previous()</code>&#x65B9;&#x6CD5;&#x7684;&#x4EFB;&#x4F55;&#x7C7B;&#x3002;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x65E5;&#x671F;&#x8303;&#x56F4;&#x7684;&#x5FEB;&#x901F;&#x793A;&#x4F8B;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> today = <span class="hljs-keyword">new</span> Date()
===&gt; Sat Dec <span class="hljs-number">29</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2007</span>
<span class="hljs-keyword">def</span> nextWeek = today + <span class="hljs-number">7</span>
===&gt; Sat Jan <span class="hljs-number">05</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
(today..nextWeek).each{println it}
===&gt;
Sat Dec <span class="hljs-number">29</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2007</span>
Sun Dec <span class="hljs-number">30</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2007</span>
Mon Dec <span class="hljs-number">31</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2007</span>
Tue Jan <span class="hljs-number">01</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
Wed Jan <span class="hljs-number">02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
Thu Jan <span class="hljs-number">03</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
Fri Jan <span class="hljs-number">04</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
Sat Jan <span class="hljs-number">05</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">28</span> MST <span class="hljs-number">2008</span>
</code></pre>
<p><strong>Size, From, To(&#x5927;&#x5C0F;&#xFF0C;&#x4ECE;&#xFF0C;&#x5230;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> r = <span class="hljs-number">1.</span><span class="hljs-number">.3</span>
r.size()
===&gt; <span class="hljs-number">3</span>
r.from
===&gt; <span class="hljs-number">1</span>
r.to
===&gt; <span class="hljs-number">3</span>
</code></pre>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BE2;&#x95EE;&#x8303;&#x56F4;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x8D77;&#x70B9;&#x548C;&#x7EC8;&#x70B9;</p>
<p><strong>For(for&#x5FAA;&#x73AF;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.3</span>){ println <span class="hljs-string">&quot;Attempt ${i}&quot;</span> }
===&gt;
Attempt <span class="hljs-number">1</span>
Attempt <span class="hljs-number">2</span>
Attempt <span class="hljs-number">3</span>
(<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).each{ println <span class="hljs-string">&quot;Attempt ${it}&quot;</span> }
===&gt;
Attempt <span class="hljs-number">1</span>
Attempt <span class="hljs-number">2</span>
Attempt <span class="hljs-number">3</span>
</code></pre>
<p>&#x8303;&#x56F4;&#x901A;&#x5E38;&#x7528;&#x4E8E;for&#x5FAA;&#x73AF;&#xFF0C;&#x5C3D;&#x7BA1;&#x76F4;&#x63A5;&#x5728;&#x8303;&#x56F4;&#x4E0A;&#x8C03;&#x7528;<code>each</code>&#x66F4;&#x4E3A;&#x7B80;&#x6D01;&#x3002;</p>
<p><strong>Contains(&#x5305;&#x542B;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> r = <span class="hljs-number">1.</span><span class="hljs-number">.3</span>
r.contains(<span class="hljs-number">1</span>) &amp;&amp; r.contains(<span class="hljs-number">3</span>)
===&gt; <span class="hljs-literal">true</span>
r.contains(<span class="hljs-number">2</span>)
===&gt; <span class="hljs-literal">true</span>
r.contains(<span class="hljs-number">12</span>)
===&gt; <span class="hljs-literal">false</span>
</code></pre>
<p>&#x8303;&#x56F4;&#x53EF;&#x4EE5;&#x544A;&#x8BC9;&#x60A8;&#x4EFB;&#x610F;&#x503C;&#x662F;&#x5426;&#x843D;&#x5728;&#x8BE5;&#x8303;&#x56F4;&#x5185;&#x3002; &#x8D77;&#x70B9;&#x548C;&#x7EC8;&#x70B9;&#x90FD;&#x5305;&#x62EC;&#x5728;&#x8303;&#x56F4;&#x5185;&#x3002;</p>
<p><strong>Reverse(&#x53CD;&#x8F6C;)</strong></p>
<pre><code class="lang-groovy">r.reverse()
===&gt; [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x5411;&#x540E;&#x904D;&#x5386;Range&#xFF0C;&#x5219;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;<code>reverse()</code>&#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="3_17_Closures_and_Blocks"><a name="3_17_Closures_and_Blocks" class="anchor-navigation-ex-anchor" href="#3_17_Closures_and_Blocks"><i class="fa fa-link" aria-hidden="true"></i></a>3.17 &#x95ED;&#x5305;&#x548C;&#x5757; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> hi = { println <span class="hljs-string">&quot;Hi&quot;</span>}
hi()
===&gt; Hi
</code></pre>
<p><code>groovy.lang.Closure</code>&#x6700;&#x7B80;&#x5355;&#x7684;&#x5F62;&#x5F0F;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#xFF0C;&#x547D;&#x540D;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x3002; &#x5B83;&#x662F;&#x6CA1;&#x6709;&#x5468;&#x56F4;&#x7C7B;&#x7684;&#x884C;&#x4E3A;&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x95ED;&#x5305;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x5168;&#x964C;&#x751F;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x6211;&#x4EEC;&#x5728;Java&#x4E2D;&#x6709;&#x4EE3;&#x7801;&#x5757;(if&#x3001;for&#x3001;while&#x3001;try&#x3001;catch&#x7B49;)&#xFF0C;&#x53EA;&#x662F;&#x6CA1;&#x6709;&#x547D;&#x540D;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x3002;Groovy&#x589E;&#x52A0;&#x4E86;&#x8FD9;&#x79CD;&#x5FAE;&#x5C0F;&#x7684;&#x8BED;&#x4E49;&#x5DEE;&#x5F02;&#xFF0C;&#x5E76;&#x5728;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x5229;&#x7528;&#x4E86;&#x5B83;&#x3002;(&#x6709;&#x5173;&#x95ED;&#x5305;&#x7684;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;219&#x9875;11.8&#x8282;&#x201C;&#x7406;&#x89E3;&#x63A7;&#x5236;&#x5668;&#x548C;&#x89C6;&#x56FE;&#x201D;&#x3002;)</p>
<p>&#x5982;&#x679C;&#x60A8;&#x4E0D;&#x8BA4;&#x4E3A;&#x8FD9;&#x662F;&#x4E25;&#x683C;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5B66;&#x672F;&#x610F;&#x4E49;<sup><a href="#fn_317" id="reffn_317">317</a></sup>&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x5F88;&#x8C26;&#x865A;&#x5730;&#x8868;&#x793A;&#x6B49;&#x610F;&#x3002; &#x6211;&#x8FD8;&#x5C06;&#x6709;&#x610F;&#x8BC6;&#x5730;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x8BF8;&#x5982;&#x201C; lambda&#x6837;&#x5F0F;&#x7684;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x201D;&#x4E4B;&#x7C7B;&#x7684;&#x77ED;&#x8BED;<sup><a href="#fn_318" id="reffn_318">318</a></sup>&#x3002;&#x6211;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x8BA8;&#x538C;-&#x4E8B;&#x60C5;&#x7684;&#x7B80;&#x5355;&#x4E8B;&#x5B9E;&#x662F;&#x5B9E;&#x73B0;&#x7C7B;&#x540D;&#x4E3A;Closure&#x3002;</p>
<p><strong>&#x63A5;&#x53D7;&#x53C2;&#x6570;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> hello = { println <span class="hljs-string">&quot;Hi ${it}&quot;</span> }
hello(<span class="hljs-string">&quot;John&quot;</span>)
hello <span class="hljs-string">&quot;John&quot;</span>
===&gt; Hi John
</code></pre>
<p>&#x719F;&#x6089;&#x7684;&#x533F;&#x540D;it&#x53C2;&#x6570;&#x5728;&#x7B2C;3.14&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x8FC7;&#xFF0C;&#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x5728;&#x7B2C;58&#x9875;&#xFF0C;&#x7B2C;3.15&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x8FC7;&#x6620;&#x5C04;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x5728;&#x7B2C;62&#x9875;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x95ED;&#x5305;&#x65F6;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x62EC;&#x53F7;&#xFF0C;&#x5C31;&#x50CF;&#x5728;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x65F6;&#x4E00;&#x6837;&#x3002;(&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x89C1;&#x7B2C;44&#x9875;3.3&#x8282;&#xFF0C;&#x53EF;&#x9009;&#x62EC;&#x53F7;&#x3002;)</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x66F4;&#x9AD8;&#x7EA7;&#x7684;&#x95ED;&#x5305;&#x5B9E;&#x4F8B;&#x3002;&#x6CE8;&#x610F;&#x5982;&#x4F55;&#x5728;each&#x548C;convertToCelsius&#x95ED;&#x5305;&#x4E2D;&#x4F7F;&#x7528;it&#x53C2;&#x6570;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> convertToCelsius = {
  <span class="hljs-keyword">return</span> (<span class="hljs-number">5.0</span>/<span class="hljs-number">9.0</span>) * (it.toFloat() - <span class="hljs-number">32.0</span>)
}
[<span class="hljs-number">0</span>, <span class="hljs-number">32</span>, <span class="hljs-number">70</span>, <span class="hljs-number">100</span>].each{
  println <span class="hljs-string">&quot;${it} degrees fahrenheit in celsius: ${convertToCelsius(it)}&quot;</span>
}

===&gt;
<span class="hljs-number">0</span> degrees fahrenheit <span class="hljs-keyword">in</span> <span class="hljs-string">celsius:</span> <span class="hljs-number">-17.7777777792</span>
<span class="hljs-number">32</span> degrees fahrenheit <span class="hljs-keyword">in</span> <span class="hljs-string">celsius:</span> <span class="hljs-number">0.0</span>
<span class="hljs-number">70</span> degrees fahrenheit <span class="hljs-keyword">in</span> <span class="hljs-string">celsius:</span> <span class="hljs-number">21.1111111128</span>
<span class="hljs-number">100</span> degrees fahrenheit <span class="hljs-keyword">in</span> <span class="hljs-string">celsius:</span> <span class="hljs-number">37.7777777808</span>
</code></pre>
<p><strong>&#x547D;&#x540D;&#x53C2;&#x6570;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> calculateTax = { taxRate, amount -&gt;
  <span class="hljs-keyword">return</span> amount + (taxRate * amount)
}
println <span class="hljs-string">&quot;Total cost: ${calculateTax(0.055, 100)}&quot;</span>
===&gt; Total <span class="hljs-string">cost:</span> <span class="hljs-number">105.500</span>
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x533F;&#x540D;it&#x53C2;&#x6570;&#x5728;&#x7F16;&#x5199;&#x5FEB;&#x901F;&#x7684;&#x4E34;&#x65F6;&#x811A;&#x672C;&#x65F6;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x4ECE;&#x957F;&#x8FDC;&#x6765;&#x770B;&#xFF0C;&#x547D;&#x540D;&#x53C2;&#x6570;&#x5C06;&#x6709;&#x52A9;&#x4E8E;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x548C;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x3002;&#x5982;&#x679C;&#x60A8;&#x7684;&#x95ED;&#x5305;&#x9700;&#x8981;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x9664;&#x4E86;&#x4E3A;&#x5B83;&#x4EEC;&#x547D;&#x540D;&#x4E4B;&#x5916;&#x522B;&#x65E0;&#x9009;&#x62E9;&#x3002;</p>
<p><strong>Currying Parameters(&#x56FA;&#x5316;&#x53C2;&#x6570;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> calculateTax = { taxRate, amount -&gt;
  <span class="hljs-keyword">return</span> amount + (taxRate * amount)
}

<span class="hljs-keyword">def</span> tax = calculateTax.curry(<span class="hljs-number">0.1</span>)
[<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>].each{
  println <span class="hljs-string">&quot;Total cost: ${tax(it)}&quot;</span>
}
===&gt;
Total <span class="hljs-string">cost:</span> <span class="hljs-number">11.0</span>
Total <span class="hljs-string">cost:</span> <span class="hljs-number">22.0</span>
Total <span class="hljs-string">cost:</span> <span class="hljs-number">33.0</span>
</code></pre>
<p>&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x95ED;&#x5305;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;curry&#x65B9;&#x6CD5;&#x5C06;&#x503C;&#x9884;&#x52A0;&#x8F7D;&#x5230;&#x53C2;&#x6570;&#x4E2D;&#x3002;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x4E3A;taxRate&#x786C;&#x7F16;&#x7801;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C;&#x5C06;&#x663E;&#x8457;&#x964D;&#x4F4E;&#x95ED;&#x5305;&#x7684;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x95ED;&#x5305;&#x65F6;&#x90FD;&#x5FC5;&#x987B;&#x4F20;&#x9012;&#x76F8;&#x540C;&#x7684;&#x7A0E;&#x7387;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x91CD;&#x590D;&#x548C;&#x5197;&#x957F;&#x3002;&#x63D0;&#x9AD8;&#x7A0E;&#x7387;&#x6B63;&#x597D;&#x8FBE;&#x5230;&#x4E86;&#x6070;&#x5F53;&#x7684;&#x5E73;&#x8861;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x3002; &#x7B2C;&#x4E00;&#x4E2A;curry&#x8C03;&#x7528;&#x5C06;&#x586B;&#x5145;&#x6700;&#x5DE6;&#x4FA7;&#x7684;&#x53C2;&#x6570;&#x3002; &#x6BCF;&#x4E2A;&#x540E;&#x7EED;&#x8C03;&#x7528;&#x5C06;&#x586B;&#x5145;&#x53F3;&#x4FA7;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<h2 id="4_Java_and_Groovy_Integration"><a name="4_Java_and_Groovy_Integration" class="anchor-navigation-ex-anchor" href="#4_Java_and_Groovy_Integration"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;4&#x7AE0; Java&#x548C;Groovy&#x96C6;&#x6210; </h2>
<p>Groovy&#x6700;&#x5927;&#x7684;&#x5356;&#x70B9;&#x4E4B;&#x4E00;&#x662F;&#x5B83;&#x4E0E;Java&#x7684;&#x65E0;&#x7F1D;&#x96C6;&#x6210;&#x3002;&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4EE5;&#x5404;&#x79CD;&#x65B9;&#x5F0F;&#x63A2;&#x8BA8;&#x8FD9;&#x79CD;&#x96C6;&#x6210;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;&#x666E;&#x901A;&#x7684;&#x65E7;Groovy&#x5BF9;&#x8C61;(POGOs)&#x4F5C;&#x4E3A;&#x666E;&#x901A;&#x65E7;Java&#x5BF9;&#x8C61;(pojo)&#x7684;&#x5B8C;&#x5168;&#x66FF;&#x4EE3;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4ECE;Java&#x8C03;&#x7528;Groovy&#x4EE3;&#x7801;&#xFF0C;&#x4ECE;Groovy&#x8C03;&#x7528;Java&#x4EE3;&#x7801;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A2;&#x7D22;&#x5982;&#x4F55;&#x4F7F;&#x7528;Ant&#x6765;&#x7F16;&#x8BD1;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5305;&#x62EC;Groovy&#x548C;Java&#x7C7B;&#x7684;&#x5065;&#x5EB7;&#x7EC4;&#x5408;&#x3002;</p>
<h3 id="4_1_GroovyBeans__aka_POGOs_"><a name="4_1_GroovyBeans__aka_POGOs_" class="anchor-navigation-ex-anchor" href="#4_1_GroovyBeans__aka_POGOs_"><i class="fa fa-link" aria-hidden="true"></i></a>4.1 Groovy&#x7684;&#x5BF9;&#x8C61; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">package</span> org.davisworld.bookstore
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
  String author
  Integer pages
}
</code></pre>
<p>&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;16&#x9875;&#x7684;1.1&#x8282;Groovy&#x4E2D;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;POGO&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#x3002; Groovy&#x5C06;JavaBeans&#x5F52;&#x7ED3;&#x4E3A;&#x7EAF;&#x7CB9;&#x7684;&#x672C;&#x8D28;&#x3002;</p>
<p><strong>Packaging(&#x6253;&#x5305;)</strong>
&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x4F1A;&#x6CE8;&#x610F;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x662F;&#x5305;&#x88C5;&#x3002; &#x60A8;&#x53EF;&#x80FD;&#x6C38;&#x8FDC;&#x4E0D;&#x9700;&#x8981;&#x6253;&#x5305;Groovy&#x811A;&#x672C;&#xFF0C;&#x4F46;&#x662F;Groovy&#x7C7B;&#x7684;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#x4E0E;Java&#x7C7B;&#x7684;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002; &#xFF08;&#x6709;&#x5173;&#x7F16;&#x5199;Groovy&#x811A;&#x672C;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;86&#x9875;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7684;&#x7B2C;5&#x7AE0;&#xFF0C;Groovy&#x3002;&#xFF09;&#x5728;Java&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x770B;&#x6765;&#xFF0C;&#x552F;&#x4E00;&#x770B;&#x8D77;&#x6765;&#x5947;&#x602A;&#x7684;&#x662F;&#x7F3A;&#x5C11;&#x5206;&#x53F7;&#x3002; &#xFF08;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;42&#x9875;&#x7684;3.2&#x8282;&#xFF0C;&#x53EF;&#x9009;&#x5206;&#x53F7;&#x4E2D;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x5C06;&#x5176;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x3002;&#xFF09;</p>
<p><strong>Public Classes, Private Attributes, Public Methods</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">// in Groovy:</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
  String toString(){
    <span class="hljs-keyword">return</span> title
  }
}
<span class="hljs-comment">// in Java:</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  <span class="hljs-keyword">private</span> String title;
  <span class="hljs-keyword">public</span> String toString(){
    <span class="hljs-keyword">return</span> title;
  }
}
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x672A;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#xFF08;&#x516C;&#x5171;&#xFF0C;&#x79C1;&#x6709;&#x6216;&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#xFF09;&#xFF0C;&#x5219;Groovy&#x4E2D;&#x7684;&#x7C7B;&#x9690;&#x5F0F;&#x662F;<code>&#x516C;&#x5171;&#x7684;</code>&#x3002; &#x5728;Java&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x53E6;&#x884C;&#x8BF4;&#x660E;&#xFF0C;&#x5219;&#x7C7B;&#x662F;<code>&#x5305;&#x79C1;&#x6709;&#x7684;</code>&#x3002; &#x5982;&#x679C;&#x60A8;&#x5728;&#x4E24;&#x79CD;&#x8BED;&#x8A00;&#x4E4B;&#x95F4;&#x6765;&#x56DE;&#x79FB;&#x52A8;&#x65F6;&#x4E0D;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x4E25;&#x91CD;&#x7684;&#x201C;&#x9677;&#x9631;&#x201D;&#x3002; &#xFF08;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;&#xFF09;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x4E0D;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x5219;Groovy&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x5C06;&#x9690;&#x5F0F;<code>&#x79C1;&#x6709;</code>&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x5185;&#x7701;&#x6765;&#x8BC1;&#x660E;&#x8FD9;&#x4E00;&#x70B9;&#xFF1A;</p>
<pre><code class="lang-groovy">println Book.getDeclaredField(<span class="hljs-string">&quot;title&quot;</span>)
===&gt; <span class="hljs-keyword">private</span> java.lang.String Book.title
</code></pre>
<p>Groovy&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;<code>&#x516C;&#x5171;&#x7684;</code>&#x3002; &#x8FD9;&#x662F;&#x8BC1;&#x660E;&#xFF1A;</p>
<pre><code class="lang-groovy">println Book.getDeclaredMethod(<span class="hljs-string">&quot;toString&quot;</span>)
===&gt; <span class="hljs-keyword">public</span> java.lang.String Book.toString()
</code></pre>
<p>&#x90A3;&#x4E48;&#xFF0C;Groovy&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5BF9;&#x5305;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x6709;&#x4EC0;&#x4E48;&#x53CD;&#x5BF9;&#x610F;&#x89C1;&#x5462;?&#x6CA1;&#x4EC0;&#x4E48;,&#x771F;&#x7684;&#x3002;&#x4ED6;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#x662F;&#x9ED8;&#x8BA4;&#x5141;&#x8BB8;&#x7C7B;&#x505A;&#x6B63;&#x786E;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x800C;&#x5305;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x662F;&#x4E00;&#x4E2A;&#x4E0D;&#x5E78;&#x7684;&#x9644;&#x5E26;&#x635F;&#x5BB3;&#x3002;</p>
<p>&#x82B1;&#x4E00;&#x5206;&#x949F;&#x60F3;&#x60F3;&#x4F60;&#x6700;&#x8FD1;&#x4ECE;&#x4E8B;&#x7684;&#x4E3B;&#x8981;Java&#x9879;&#x76EE;&#x3002;&#x60A8;&#x6709;&#x591A;&#x5C11;&#x5E26;&#x6709;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x516C;&#x5171;POJOs? &#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x5904;&#x5B89;&#x5168;&#x5730;&#x4F7F;&#x7528;&#x201C; 80/20&#x89C4;&#x5219;&#x201D;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x6309;&#x4E86;&#x60A8;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5219;&#x6700;&#x7EC8;&#x53EF;&#x80FD;&#x4F1A;&#x8FBE;&#x5230;90&#xFF05;&#x6216;&#x66F4;&#x9AD8;&#x3002;&#x5E26;&#x6709;&#x79C1;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x516C;&#x5171;&#x7C7B;&#x662F;&#x7F16;&#x5199;&#x7684;&#x7EDD;&#x5927;&#x591A;&#x6570;Java&#x4EE3;&#x7801;&#xFF0C;Groovy&#x7684;&#x667A;&#x80FD;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x53CD;&#x6620;&#x4E86;&#x8FD9;&#x4E00;&#x4E1A;&#x52A1;&#x73B0;&#x5B9E;&#x3002;</p>
<p>::: alert-info
<strong>Gotcha: No Package-Private Visibility(&#x9677;&#x9631;&#xFF1A;&#x6CA1;&#x6709;&#x5305;&#x79C1;&#x6709;&#x53EF;&#x89C1;&#x6027;)</strong></p>
<p>&#x5728;Java&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x4FDD;&#x7559;&#x5728;&#x7C7B;&#xFF0C;&#x5C5E;&#x6027;&#x6216;&#x65B9;&#x6CD5;&#x4E4B;&#x5916;&#xFF0C;&#x5219;&#x610F;&#x5473;&#x7740;&#x540C;&#x4E00;&#x5305;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x7C7B;&#x6216;&#x53E6;&#x4E00;&#x4E2A;&#x5305;&#x4E2D;&#x7684;&#x76F4;&#x63A5;&#x5B50;&#x7C7B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5B83;&#x4EEC;&#x3002; &#x8FD9;&#x79F0;&#x4E3A;&#x5305;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x3002;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x6CA1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x7C7B;&#x88AB;&#x89C6;&#x4E3A;&#x516C;&#x5171;&#x7C7B;&#x3002; &#x6CA1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x5C5E;&#x6027;&#x88AB;&#x89C6;&#x4E3A;&#x79C1;&#x6709;&#x3002; &#x6CA1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x516C;&#x5171;&#x7684;&#x3002; &#x5C3D;&#x7BA1;&#x53EF;&#x4EE5;&#x8BF4;&#x8FD9;&#x79CD;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x5BF9;&#x4E8E;&#x4E3B;&#x6D41;&#x7528;&#x6CD5;&#x66F4;&#x4E3A;&#x6709;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EE3;&#x8868;&#x4E86;Java&#x8BED;&#x4E49;&#x4E0D;&#x540C;&#x4E8E;Groovy&#x8BED;&#x4E49;&#x7684;&#x5C11;&#x6570;&#x60C5;&#x51B5;&#x4E4B;&#x4E00;&#x3002;</p>
<p>&#x5728;Groovy&#x4E2D;&#xFF0C;&#x65E0;&#x6CD5;&#x4E3A;&#x7C7B;&#xFF0C;&#x5C5E;&#x6027;&#x6216;&#x65B9;&#x6CD5;&#x5305;&#x63D0;&#x4F9B;<code>&#x5305;&#x79C1;&#x6709;</code>&#x7684;&#x53EF;&#x89C1;&#x6027;&#x3002; &#x5728;Groovy&#x4E2D;&#x58F0;&#x660E;&#x516C;&#x5171;&#xFF0C;&#x79C1;&#x6709;&#x548C;&#x53D7;&#x4FDD;&#x62A4;&#x5143;&#x7D20;&#x7684;&#x65B9;&#x5F0F;&#x4E0E;&#x5728;Java&#x4E2D;&#x58F0;&#x660E;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</p>
<hr>
<p>&#x2217;. <a href="http://java.sun.com/docs/books/tutorial/java/javaOO/accesscontrol.html" target="_blank">http://java.sun.com/docs/books/tutorial/java/javaOO/accesscontrol.html</a>
:::</p>
<h3 id="4_2_Autogenerated_Getters_and_Setters"><a name="4_2_Autogenerated_Getters_and_Setters" class="anchor-navigation-ex-anchor" href="#4_2_Autogenerated_Getters_and_Setters"><i class="fa fa-link" aria-hidden="true"></i></a>4.2 &#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;Getter&#x548C;Setter </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
}

Book book = <span class="hljs-keyword">new</span> Book()
book.setTitle(<span class="hljs-string">&quot;Groovy Recipes&quot;</span>)
println book.getTitle()
===&gt; Groovy Recipes
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x6CA1;&#x6709;&#x5982;&#x6B64;&#x660E;&#x663E;&#x7684;public&#x548C;private&#x4FEE;&#x9970;&#x7B26;&#x4F1A;&#x7A0D;&#x5FAE;&#x51CF;&#x5C11;&#x7C7B;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x771F;&#x6B63;&#x81EA;&#x52A8;&#x4EA7;&#x751F;getter&#x548C;setter&#x7684;&#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x533A;&#x522B;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;POGO&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x96C6;&#x3002;</p>
<p>&#x518D;&#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#x60A8;&#x7684;&#x4E0A;&#x4E00;&#x4E2A;Java&#x9879;&#x76EE;&#x3002;&#x4F60;&#x662F;&#x7CBE;&#x5FC3;&#x624B;&#x5DE5;&#x5236;&#x4F5C;&#x4E86;&#x6BCF;&#x4E2A;getter&#x548C;setter&#xFF0C;&#x8FD8;&#x662F;&#x8BA9;IDE&#x751F;&#x6210;&#x4E86;&#x4EE3;&#x7801;?</p>
<p>&#x5982;&#x679C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x662F;&#x6B7B;&#x8BB0;&#x786C;&#x80CC;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8BA9;Groovy&#x7F16;&#x8BD1;&#x5668;&#x4EE3;&#x66FF;&#x60A8;&#x7684;IDE&#x6765;&#x4E3A;&#x60A8;&#x751F;&#x6210;&#x5B83;&#xFF0C;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x5730;&#x51CF;&#x5C11;&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x89C6;&#x89C9;&#x6DF7;&#x4E71;&#x3002;&#x800C;&#x4E14;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x78B0;&#x5DE7;&#x8986;&#x76D6;&#x4E86;&#x9ED8;&#x8BA4;&#x503C;</p>
<p>getter&#x6216;setter&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x770B;&#x770B;&#x4F60;&#x7684;&#x773C;&#x775B;&#x662F;&#x5982;&#x4F55;&#x88AB;&#x89C4;&#x5219;&#x7684;&#x4F8B;&#x5916;&#x5438;&#x5F15;&#x7684;:</p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
  String author
  Integer pages
  String getTitle(){
    <span class="hljs-keyword">return</span> title.toUpperCase()
  }
}
</code></pre>
<p><strong>Getter and Setter Shortcut Syntax(Getter&#x548C;Setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
}
Book book = <span class="hljs-keyword">new</span> Book()
book.title = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
<span class="hljs-comment">//book.setTitle(&quot;Groovy Recipes&quot;)</span>
println book.title
<span class="hljs-comment">//println book.getTitle()</span>
===&gt; Groovy Recipes
</code></pre>
<p>Groovy&#x51CF;&#x5C11;&#x89C6;&#x89C9;&#x6DF7;&#x4E71;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x5904;&#x7406;&#x7C7B;&#x5C5E;&#x6027;&#x65F6;&#x5141;&#x8BB8;&#x7684;&#x8BED;&#x6CD5;&#x6377;&#x5F84;&#x3002;<code>book.title</code>&#x5728;&#x5E55;&#x540E;&#x8C03;&#x7528;<code>book.getTitle()</code>&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x4F7F;&#x5B83;&#x611F;&#x89C9;&#x66F4;&#x81EA;&#x7136;&#x7684;&#x5C1D;&#x8BD5;&#x2014;&#x2014;&#x4F3C;&#x4E4E;&#x662F;&#x76F4;&#x63A5;&#x5904;&#x7406;&#x56FE;&#x4E66;&#x7684;&#x6807;&#x9898;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8C03;&#x7528;&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x7684;Book&#x7C7B;&#x7684;<code>getTitle()</code>&#x65B9;&#x6CD5;&#x3002;(&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;)</p>
<p>&#x9057;&#x7559;&#x7684;Java&#x7684;<code>getter</code>&#x548C;<code>setter</code>&#x8BED;&#x6CD5;&#x5728;Groovy&#x4E2D;&#x4ECD;&#x7136;&#x662F;&#x5B8C;&#x5168;&#x6709;&#x6548;&#x7684;&#x3002;</p>
<p><strong>Suppressing Getter/Setter Generation(&#x6291;&#x5236;&#x751F;&#x6210;Getter/Setter)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book2</span>{</span>
  <span class="hljs-keyword">private</span> String title
}

println Book2.getDeclaredField(<span class="hljs-string">&quot;title&quot;</span>)
===&gt; <span class="hljs-keyword">private</span> java.lang.String Book2.title
println Book2.methods.each{println it}; <span class="hljs-string">&quot;DONE&quot;</span>
<span class="hljs-comment">// neither getTitle() nor setTitle() should appear in the list</span>
</code></pre>
<p>&#x5728;Groovy&#x4E2D;&#x663E;&#x5F0F;&#x5730;&#x5C06;&#x5B57;&#x6BB5;&#x6807;&#x8BB0;&#x4E3A;private&#x4F1A;&#x6291;&#x5236;&#x76F8;&#x5E94;&#x7684;getter&#x548C;setter&#x65B9;&#x6CD5;&#x7684;&#x521B;&#x5EFA;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x5B57;&#x6BB5;&#x5BF9;Java&#x7C7B;&#x771F;&#x6B63;&#x9690;&#x85CF;&#x8D77;&#x6765;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5C0F;&#x5DE5;&#x5177;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>
<p>::: alert-info
<strong>Groovy&#x8BED;&#x6CD5;&#x5FEB;&#x6377;&#x952E;</strong></p>
<p>&#x5982;&#x7B2C;4.2&#x8282;&#x201C;Getter&#x548C;Setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#x201D;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x524D;&#x4E00;&#x9875;&#xFF0C;<code>book.getTitle()</code>&#x53EF;&#x4EE5;&#x7F29;&#x5199;<code>&#x4E3A;book.title</code>&#x3002;&#x867D;&#x7136;&#x8FD9;&#x4E2A;<code>getter/setter</code>&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x662F;Groovy&#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8BED;&#x8A00;&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x5B83;&#x88AB;&#x9009;&#x62E9;&#x6027;&#x5730;&#x8986;&#x76D6;&#xFF0C;&#x4EE5;&#x8868;&#x793A;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x7684;&#x610F;&#x601D;&#x3002;</p>
<p>&#x5728;&#x7B2C;3.15&#x8282;&#xFF0C;Map&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;62&#x9875;&#xFF0C;&#x4E00;&#x4E2A;&#x50CF;&#x4E66;&#x4E00;&#x6837;&#x7684;&#x8C03;&#x7528;&#x3002;hashmap&#x4E0A;&#x7684;<code>book.title</code>&#x662F;<code>book.get(&quot;title&quot;)</code>&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002;&#x5728;&#x7B2C;7&#x7AE0;&#x89E3;&#x6790;XML&#x4E2D;&#xFF0C;&#x5728;&#x7B2C;116&#x9875;&#xFF0C;&#x540C;&#x6837;&#x7684;&#x8C03;&#x7528;&#x662F;&#x89E3;&#x6790;XML&#x7247;&#x6BB5;&#x7684;&#x4E00;&#x79CD;&#x5FEB;&#x901F;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;<code>&lt;book&gt;&lt;title&gt;Groovy Recipes&lt;/title&gt;&lt;/book&gt;</code>&#x3002;&#x5728;&#x7B2C;10.8&#x8282;&#x4E2D;&#xFF0C;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;(invokeMethod)&#xFF0C;&#x5728;&#x7B2C;193&#x9875;&#xFF0C;&#x60A8;&#x5C06;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x63A5;&#x53D7;&#x8BE5;&#x8C03;&#x7528;&#x5E76;&#x4F7F;&#x7528;&#x5B83;&#x505A;&#x51E0;&#x4E4E;&#x4EFB;&#x4F55;&#x60A8;&#x60F3;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x6211;&#x4E0D;&#x8BA4;&#x4E3A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x9677;&#x9631;;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6211;&#x8BA4;&#x4E3A;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x8BED;&#x8A00;&#x7279;&#x6027;&#x3002;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x9884;&#x6599;&#x5230;&#xFF0C;&#x5B83;&#x4F1A;&#x8BA9;&#x4F60;&#x731D;&#x4E0D;&#x53CA;&#x9632;&#x3002;
:::</p>
<p>&#x4F46;&#x662F;&#x5176;&#x4ED6;Groovy&#x7C7B;&#x7684;&#x53EF;&#x89C1;&#x6027;&#x53C8;&#x5982;&#x4F55;&#x5462;?&#x597D;&#x5427;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x975E;&#x5E38;&#x6E05;&#x695A;&#xFF0C;&#x5B57;&#x6BB5;&#x4ECD;&#x7136;&#x662F;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x5C3D;&#x7BA1;&#x7F3A;&#x4E4F;getter&#x548C;setter&#x65B9;&#x6CD5;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> b2 = <span class="hljs-keyword">new</span> Book2()
b2.title = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
println b2.title
===&gt; Groovy Recipes
</code></pre>
<p>Groovy&#x5728;&#x9690;&#x79C1;&#x65B9;&#x9762;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x2014;&#x2014;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x5B83;&#x5FFD;&#x7565;&#x4E86;&#x79C1;&#x6709;&#x4FEE;&#x9970;&#x7B26;&#x3002;(&#x662F;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x76F8;&#x5F53;&#x5927;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;80&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;)</p>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x4FDD;&#x62A4;&#x79C1;&#x6709;&#x5B57;&#x6BB5;&#x4E0D;&#x53D7;Groovy&#x4E2D;&#x610F;&#x5916;&#x4FEE;&#x6539;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E00;&#x5BF9;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x4E8B;&#x7684;<code>getter</code>&#x548C;<code>setter</code>&#x3002;&#x5C06;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6807;&#x8BB0;&#x4E3A;&#x79C1;&#x6709;&#x5C06;&#x9632;&#x6B62;&#x5B83;&#x4EEC;&#x6270;&#x4E71;&#x516C;&#x5171;API&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book3</span>{</span>
  <span class="hljs-keyword">private</span> String title
  <span class="hljs-keyword">private</span> String getTitle(){}
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> setTitle(title){}
}

<span class="hljs-keyword">def</span> b3 = <span class="hljs-keyword">new</span> Book3()
b3.title = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
println b3.title
===&gt; <span class="hljs-literal">null</span>
</code></pre>
<h3 id="4_3_getProperty_and_setProperty"><a name="4_3_getProperty_and_setProperty" class="anchor-navigation-ex-anchor" href="#4_3_getProperty_and_setProperty"><i class="fa fa-link" aria-hidden="true"></i></a>4.3 getProperty&#x548C;setProperty </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
}

Book book = <span class="hljs-keyword">new</span> Book()
book.setProperty(<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;Groovy Recipes&quot;</span>)
<span class="hljs-comment">//book.title = &quot;Groovy Recipes&quot;</span>
<span class="hljs-comment">//book.setTitle(&quot;Groovy Recipes&quot;)</span>

println book.getProperty(<span class="hljs-string">&quot;title&quot;</span>)
<span class="hljs-comment">//println book.title</span>
<span class="hljs-comment">//println book.getTitle()</span>
===&gt; Groovy Recipes
</code></pre>
<p>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5C55;&#x793A;&#x4E86;&#x5728;POGO&#x4E0A;&#x8BBE;&#x7F6E;&#x548C;&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x7684;&#x7B2C;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;--<code>book.getProperty()</code>&#x548C;<code>book.setProperty()</code>&#x3002;&#x5728;&#x4F20;&#x7EDF;Java&#x4E2D;&#xFF0C;&#x8C03;&#x7528;<code>book.getTitle()</code>&#x662F;&#x7B2C;&#x4E8C;&#x5929;&#x6027;&#x3002;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;4.2&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;Getter&#x548C;Setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#xFF0C;&#x5728;&#x7B2C;72&#x9875;&#xFF0C;Groovy&#x5141;&#x8BB8;&#x60A8;&#x5C06;<code>book.getTitle()</code>&#x7F29;&#x77ED;&#x4E3A;<code>book.title</code>&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x66F4;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#x5462;?</p>
<p>Groovy&#x501F;&#x9274;&#x4E86;<code>java.lang.System</code>&#x7684;&#x6280;&#x5DE7;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x8BBF;&#x95EE;&#x7C7B;&#x5C5E;&#x6027;&#x7684;&#x901A;&#x7528;&#x65B9;&#x6CD5;&#x3002; &#x5982;&#x7B2C;5.8&#x8282;&#x201C;&#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;&#x201D;&#xFF08;&#x7B2C;92&#x9875;&#xFF09;&#x4E2D;&#x6240;&#x8FF0;&#xFF0C;&#x60A8;&#x65E0;&#x6CD5;&#x8FDB;&#x884C;&#x8BF8;&#x5982;<code>System.getJavaVersion()</code>&#x4E4B;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002; &#x60A8;&#x5FC5;&#x987B;&#x4EE5;&#x66F4;&#x901A;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;-<code>System.getPropery(&quot; java.version&quot;)</code>&#x3002; &#x8981;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x9002;&#x5F53;&#x5173;&#x7CFB;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x8F93;&#x5165;<code>System.getProperties()</code>&#x3002; &#x73B0;&#x5728;&#xFF0C;&#x901A;&#x8FC7;<code>groovy.lang.GroovyObject</code>&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x901A;&#x7528;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x662F;&#x7684;&#xFF0C;&#x60A8;&#x603B;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>java.lang.reflect</code>&#x5305;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x662F;Groovy&#x4F7F;&#x8BE5;&#x8BED;&#x6CD5;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x3002; &#x4E00;&#x65E6;&#x60A8;&#x5F00;&#x59CB;&#x66F4;&#x5E38;&#x89C4;&#x5730;&#x5904;&#x7406;&#x5143;&#x7F16;&#x7A0B;&#xFF0C;&#x4E0E;&#x7C7B;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5C06;&#x4E0E;<code>book.getTitle()</code>&#x6216;<code>book.title</code>&#x4E00;&#x6837;&#x81EA;&#x7136;&#x3002; &#x6709;&#x5173;&#x6B64;&#x5185;&#x5BB9;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;10.2&#x8282;&#xFF0C;&#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x7B2C;183&#x9875;&#x3002;</p>
<p><strong>Property Access with GStrings(&#x4F7F;&#x7528;GStrings&#x8FDB;&#x884C;&#x5C5E;&#x6027;&#x8BBF;&#x95EE;)</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
}
<span class="hljs-keyword">def</span> b = <span class="hljs-keyword">new</span> Book()
<span class="hljs-keyword">def</span> prop = <span class="hljs-string">&quot;title&quot;</span>
<span class="hljs-keyword">def</span> value = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
b.<span class="hljs-string">&quot;${prop}&quot;</span> = value
println b.<span class="hljs-string">&quot;${prop}&quot;</span>
===&gt; Groovy Recipes
</code></pre>
<p>&#x4E0E;<code>getProperty</code>&#x548C;<code>setProperty</code>&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x66F4;&#x201C;&#x51FA;&#x8272;&#x201D;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x5B57;&#x6BB5;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x5B57;&#x6BB5;&#x7684;&#x540D;&#x79F0;&#x4F20;&#x9012;&#x7ED9;GString&#x4EE5;&#x83B7;&#x5F97;&#x6700;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;(&#x6709;&#x5173;GStrings&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;3.13&#x8282;&#xFF0C;GStrings&#xFF0C;&#x7B2C;57&#x9875;&#x3002;)</p>
<h3 id="4_4_Making_Attributes_Read-Only"><a name="4_4_Making_Attributes_Read-Only" class="anchor-navigation-ex-anchor" href="#4_4_Making_Attributes_Read-Only"><i class="fa fa-link" aria-hidden="true"></i></a>4.4 &#x4F7F;&#x5C5E;&#x6027;&#x53EA;&#x8BFB; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  <span class="hljs-keyword">final</span> String title

  Book(title){
    <span class="hljs-keyword">this</span>.title = title
  }
}

Book book = <span class="hljs-keyword">new</span> Book()
book.title = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
<span class="hljs-comment">//===&gt;</span>
<span class="hljs-comment">//ERROR groovy.lang.ReadOnlyPropertyException:</span>
<span class="hljs-comment">//Cannot set readonly property: title for class: Book</span>

Book book2 = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">&quot;GIS for Web Developers&quot;</span>)
println book2.title
<span class="hljs-comment">//===&gt;</span>
<span class="hljs-comment">//GIS for Web Developers</span>
</code></pre>
<p>&#x6700;&#x7EC8;&#x4FEE;&#x9970;&#x7B26;&#x5728;Groovy&#x548C;Java&#x4E2D;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002; &#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EA;&#x80FD;&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x65F6;&#x624D;&#x80FD;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5C1D;&#x8BD5;&#x5728;&#x4E8B;&#x5B9E;&#x4E4B;&#x540E;&#x4FEE;&#x6539;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x4F1A;&#x5F15;&#x53D1;<code>groovy.lang.ReadOnlyPropertyException</code>&#x3002;</p>
<h3 id="4_5_Constructor_Shortcut_Syntax"><a name="4_5_Constructor_Shortcut_Syntax" class="anchor-navigation-ex-anchor" href="#4_5_Constructor_Shortcut_Syntax"><i class="fa fa-link" aria-hidden="true"></i></a>4.5 &#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x8BED;&#x6CD5; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
  String author
  Integer pages
}

Book book1 = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">title:</span><span class="hljs-string">&quot;Groovy Recipes&quot;</span>, <span class="hljs-string">author:</span><span class="hljs-string">&quot;Scott Davis&quot;</span>, <span class="hljs-string">pages:</span><span class="hljs-number">250</span>)
Book book2 = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">pages:</span><span class="hljs-number">230</span>, <span class="hljs-string">author:</span><span class="hljs-string">&quot;Scott Davis&quot;</span>,
<span class="hljs-symbol">                      title:</span><span class="hljs-string">&quot;GIS for Web Developers&quot;</span>)
Book book3 = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">title:</span><span class="hljs-string">&quot;Google Maps API&quot;</span>)
Book book4 = <span class="hljs-keyword">new</span> Book()
</code></pre>
<p>Groovy&#x4E3A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x63D0;&#x4F9B;&#x4E86;&#x4FBF;&#x5229;&#xFF0C;&#x8FD9;&#x662F;&#x60A8;&#x5728;Java&#x4E2D;&#x4ECE;&#x672A;&#x89C1;&#x8FC7;&#x7684;&#x3002; &#x901A;&#x8FC7;&#x652F;&#x6301;&#x547D;&#x540D;&#x53C2;&#x6570;&#x548C;&#x53D8;&#x957F;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x81EA;&#x5DF1;&#x8BA4;&#x4E3A;&#x5408;&#x9002;&#x7684;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x3002; book1&#x548C;book2&#x6F14;&#x793A;&#x4E86;&#x7531;&#x4E8E;&#x5DF2;&#x547D;&#x540D;&#x53D8;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x6309;&#x4EFB;&#x4F55;&#x987A;&#x5E8F;&#x63D0;&#x4F9B;&#x5B83;&#x4EEC;&#x3002; book3&#x6F14;&#x793A;&#x4E86;&#x7B49;&#x5F0F;&#x7684;vararg&#x90E8;&#x5206;&#xFF1A;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x53EA;&#x9700;&#x8F93;&#x5165;&#x6807;&#x9898;&#x5373;&#x53EF;&#x3002; book4&#x6F14;&#x793A;&#x4E86;Groovy&#x4FBF;&#x6377;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x90FD;&#x4E0D;&#x4F1A;&#x5E72;&#x6270;&#x9ED8;&#x8BA4;&#x7684;Java&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x7684;&#x7279;&#x522B;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x7EAF;Java&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x6784;&#x9020;&#x51FD;&#x6570;&#x884C;&#x4E3A;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6DFB;&#x52A0;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x65E2;&#x9002;&#x7528;&#x4E8E;Groovy&#x4E5F;&#x9002;&#x7528;&#x4E8E;Java&#x7C7B;&#x3002;&#x6709;&#x5173;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x5B9E;&#x9645;&#x6F14;&#x793A;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;4.9&#x8282;&#xFF0C;&#x4ECE;Groovy&#x8C03;&#x7528;Java&#xFF0C;&#x89C1;&#x7B2C;81&#x9875;&#x3002;</p>
<h3 id="4_6_Optional_Parameters_Default_Values"><a name="4_6_Optional_Parameters_Default_Values" class="anchor-navigation-ex-anchor" href="#4_6_Optional_Parameters_Default_Values"><i class="fa fa-link" aria-hidden="true"></i></a>4.6 &#x53EF;&#x9009;&#x53C2;&#x6570;/&#x9ED8;&#x8BA4;&#x503C; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payment</span>{</span>
BigDecimal amount
  String type
  <span class="hljs-keyword">public</span> Payment(BigDecimal amount, String type=<span class="hljs-string">&quot;cash&quot;</span>){
    <span class="hljs-keyword">this</span>.amount = amount
    <span class="hljs-keyword">this</span>.type = type
  }

  String toString(){
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;${amount} ${type}&quot;</span>
  }
}

<span class="hljs-keyword">def</span> pmt1 = <span class="hljs-keyword">new</span> Payment(<span class="hljs-number">10.50</span>, <span class="hljs-string">&quot;cash&quot;</span>)
println pmt1
<span class="hljs-comment">//===&gt; 10.50 cash</span>

<span class="hljs-keyword">def</span> pmt2 = <span class="hljs-keyword">new</span> Payment(<span class="hljs-number">12.75</span>)
println pmt2
<span class="hljs-comment">//===&gt; 12.75 cash</span>

<span class="hljs-keyword">def</span> pmt3 = <span class="hljs-keyword">new</span> Payment(<span class="hljs-number">15.99</span>, <span class="hljs-string">&quot;credit&quot;</span>)
println pmt3
<span class="hljs-comment">//===&gt; 15.99 credit</span>
</code></pre>
<p>&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x9664;&#x975E;&#x663E;&#x5F0F;&#x63D0;&#x4F9B;&#x53E6;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5426;&#x5219;&#x8F93;&#x5165;&#x9ED8;&#x8BA4;&#x503C;&#x201C;cash&#x201D;&#x3002;&#x8FD9;&#x7B80;&#x5316;&#x4E86;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x60A8;&#x7EF4;&#x62A4;&#x4E24;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x91CD;&#x8F7D;&#x6784;&#x9020;&#x51FD;&#x6570;&#x2014;&#x4E00;&#x4E2A;&#x53EA;&#x63A5;&#x53D7;&#x6570;&#x91CF;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x6570;&#x91CF;&#x548C;&#x7C7B;&#x578B;&#x3002;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x7684;&#x771F;&#x6B63;&#x597D;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x8BF7;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x7B80;&#x5316;&#x7535;&#x5F71;&#x7968;&#x8D2D;&#x4E70;&#x7684;&#x65B9;&#x6CD5;:</p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ticket</span>{</span>
  <span class="hljs-keyword">static</span> String buy(Integer quantity=<span class="hljs-number">1</span>, String ticketType=<span class="hljs-string">&quot;adult&quot;</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;${quantity} x ${ticketType}&quot;</span>
  }
}

println Ticket.buy()
println Ticket.buy()
println Ticket.buy(<span class="hljs-number">2</span>)
println Ticket.buy(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;child&quot;</span>)
===&gt;
<span class="hljs-number">1</span> x adult
<span class="hljs-number">1</span> x adult
<span class="hljs-number">2</span> x adult
<span class="hljs-number">4</span> x child
</code></pre>
<p>&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5355;&#x4E00;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x4E86;&#x6781;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5728;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8C03;&#x7528;&#x5B83;&#xFF0C;&#x5B83;&#x5C06;&#x5BF9;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x4E0B;&#x4E00;&#x4E2A;&#x6700;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x573A;&#x666F;(&#x7406;&#x8BBA;&#x4E0A;)&#x662F;&#x4E24;&#x4E2A;&#x4EBA;&#x7EA6;&#x4F1A;&#x2014;&#x2014;&#x4EE3;&#x7801;&#x5141;&#x8BB8;&#x60A8;&#x8986;&#x76D6;&#x6570;&#x91CF;&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x7136;&#x9ED8;&#x8BA4;&#x7968;&#x8BC1;&#x7C7B;&#x578B;&#x4E3A;&#x201C;adult&#x201D;&#x3002;</p>
<p>&#x5728;&#x652F;&#x4ED8;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x91D1;&#x989D;&#x6CA1;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x60A8;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x5B83;&#x6BCF;&#x6B21;&#x60A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4ED8;&#x6B3E;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;&#x201C;cash&#x201D;&#x3002;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x603B;&#x662F;&#x5728;&#x6240;&#x6709;&#x5FC5;&#x9700;&#x53C2;&#x6570;&#x4E4B;&#x540E;&#x3002;&#x53EF;&#x9009;&#x53C2;&#x6570;&#x4E5F;&#x5E94;&#x8BE5;&#x6309;&#x91CD;&#x8981;&#x7A0B;&#x5EA6;&#x6392;&#x5E8F;&#x2014;&#x2014;&#x6700;&#x53EF;&#x80FD;&#x66F4;&#x6539;&#x7684;&#x53C2;&#x6570;&#x5E94;&#x8BE5;&#x5728;&#x5217;&#x8868;&#x7684;&#x6700;&#x524D;&#x9762;&#xFF0C;&#x5176;&#x6B21;&#x662F;&#x6700;&#x53EF;&#x80FD;&#x66F4;&#x6539;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x6700;&#x4E0D;&#x53EF;&#x80FD;&#x88AB;&#x8986;&#x76D6;&#x7684;&#x53C2;&#x6570;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">static</span> String buy(Integer quantity=<span class="hljs-number">1</span>, String ticketType=<span class="hljs-string">&quot;adult&quot;</span>,BigDecimal discount=<span class="hljs-number">0.0</span>)
<span class="hljs-comment">//won&apos;t compile</span>
Ticket.buy(<span class="hljs-number">0.15</span>)
<span class="hljs-comment">//will compile</span>
Ticket.buy(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;adult&quot;</span>, <span class="hljs-number">0.15</span>)
</code></pre>
<p>&#x8003;&#x8651;&#x5230;&#x65B0;buy()&#x65B9;&#x6CD5;&#x4E2D;&#x53C2;&#x6570;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x60A8;&#x4E0D;&#x53EF;&#x80FD;&#x5728;&#x4E0D;&#x6307;&#x5B9A;&#x6240;&#x6709;&#x4E09;&#x4E2A;&#x503C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8BF7;&#x6C42;&#x4E00;&#x5F20;&#x6210;&#x4EBA;&#x7968;&#x7684;15%&#x6298;&#x6263;&#x3002;optionals&#x5217;&#x8868;&#x4E2D;&#x7684;&#x7EA7;&#x8054;&#x91CD;&#x8981;&#x6027;&#x987A;&#x5E8F;&#x8868;&#x660E;&#xFF0C;&#x53EF;&#x4EE5;&#x5B89;&#x5168;&#x5730;&#x5FFD;&#x7565;&#x53F3;&#x8FB9;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x5DE6;&#x8FB9;&#x7684;&#x53C2;&#x6570;&#x3002;</p>
<h3 id="4_7_Private_Methods"><a name="4_7_Private_Methods" class="anchor-navigation-ex-anchor" href="#4_7_Private_Methods"><i class="fa fa-link" aria-hidden="true"></i></a>4.7 &#x79C1;&#x6709;&#x65B9;&#x6CD5; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>{</span>
  String title
  <span class="hljs-keyword">private</span> String getTitle(){
    <span class="hljs-keyword">return</span> title
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> setTitle(String title){
    <span class="hljs-keyword">this</span>.title = title
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> poke(){
    println <span class="hljs-string">&quot;Ouch!&quot;</span>
  }
}

Book book = <span class="hljs-keyword">new</span> Book()

<span class="hljs-comment">// &#x6CE8;&#x610F;&#xFF0C;Groovy&#x5B8C;&#x5168;&#x5FFD;&#x7565;&#x4E86;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;</span>
book.title = <span class="hljs-string">&quot;Groovy Recipes&quot;</span>
println book.title
===&gt; Groovy Recipes
book.poke()
===&gt; Ouch!
</code></pre>
<p>&#x7B80;&#x5355;&#x5730;&#x8BF4;&#xFF0C;Groovy&#x4E0D;&#x5173;&#x5FC3;&#x65B9;&#x6CD5;&#x7684;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x50CF;&#x8C03;&#x7528;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x8F7B;&#x677E;&#x5730;&#x8C03;&#x7528;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x3002;(&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;)</p>
<p>&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x5728;&#x516C;&#x5171;&#x754C;&#x9762;&#x4E2D;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5F53;&#x60A8;&#x8C03;&#x7528;<code>Book.methods.each {println it}</code>&#x65F6;&#xFF0C;<code>poke()</code>&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x3002; &#x60A8;&#x77E5;&#x9053;<code>poke()</code>&#x53EF;&#x7528;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x524D;&#x9762;&#x6709;&#x6E90;&#x4EE3;&#x7801;&#x3002;</p>
<p>Java&#x5C0A;&#x91CD;private&#x4FEE;&#x9970;&#x7B26;&#x3002; &#x5728;Java&#x4E2D;&#x5B9E;&#x4F8B;&#x5316;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x5E38;&#x89C4;&#x65B9;&#x5F0F;&#x8C03;&#x7528;poke()&#x3002;</p>
<h3 id="4_8_Calling_Groovy_from_Java"><a name="4_8_Calling_Groovy_from_Java" class="anchor-navigation-ex-anchor" href="#4_8_Calling_Groovy_from_Java"><i class="fa fa-link" aria-hidden="true"></i></a>4.8 &#x4ECE;Java&#x8C03;&#x7528;Groovy </h3>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookstoreJava</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Bookstore</span> </span>{
  <span class="hljs-keyword">private</span> Book b; <span class="hljs-comment">// written in Groovy</span>
  <span class="hljs-keyword">private</span> Publisher p; <span class="hljs-comment">// written in Java</span>

  <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">makeBook</span><span class="hljs-params">()</span> </span>{
    b = <span class="hljs-keyword">new</span> Book();
    b.setAuthor(<span class="hljs-string">&quot;Scott Davis&quot;</span>);
    b.setTitle(<span class="hljs-string">&quot;Groovy Recipes&quot;</span>);
    b.setPages(<span class="hljs-number">250</span>);
    <span class="hljs-keyword">return</span> b;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> Publisher <span class="hljs-title">makePublisher</span><span class="hljs-params">()</span> </span>{
    p = <span class="hljs-keyword">new</span> Publisher();
    p.setName(<span class="hljs-string">&quot;Pragmatic Bookshelf&quot;</span>);
    <span class="hljs-keyword">return</span> p;
  }
}
</code></pre>
<p>&#x6B64;&#x65F6;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x6B63;&#x5728;&#x5BFB;&#x627E;Book&#x662F;&#x7528;Groovy&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x800C;Publisher&#x662F;&#x7528;Java&#x5B9E;&#x73B0;&#x7684;&#x8BC1;&#x636E;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x91CD;&#x70B9;!&#x4E00;&#x65E6;&#x7528;Groovy&#x7F16;&#x5199;&#x7684;&#x7C7B;&#x88AB;&#x7F16;&#x8BD1;&#xFF0C;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x4E0E;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#x7C7B;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#x3002;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;getter&#x548C;setter(&#x7B2C;4.2&#x8282;&#xFF0C;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;getter&#x548C;setter&#xFF0C;&#x5728;&#x7B2C;71&#x9875;)&#x4E0E;Java&#x5B9E;&#x73B0;&#x7684;getter&#x548C;setter&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;Groovy&#x6210;&#x4E3A;JavaBeans&#x7684;&#x5B8C;&#x7F8E;&#x66FF;&#x4EE3;&#x54C1;&#x3002;</p>
<p>::: alert-info
<strong>&#x9677;&#x9631;:Groovy&#x5FFD;&#x7565;&#x79C1;&#x6709;&#x4FEE;&#x9970;&#x7B26;</strong></p>
<p>&#x5982;&#x7B2C;78&#x9875;&#x7684;&#x7B2C;4.7&#x8282;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x6240;&#x793A;&#xFF0C;Groovy&#x5141;&#x8BB8;&#x60A8;&#x50CF;&#x8C03;&#x7528;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x8F7B;&#x677E;&#x5730;&#x8C03;&#x7528;&#x7C7B;&#x7684;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x6B63;&#x5982;&#x7B2C;4.2&#x8282;(&#x6291;&#x5236;Getter/Setter&#x751F;&#x6210;)&#x4E2D;&#x6240;&#x6F14;&#x793A;&#x7684;&#xFF0C;&#x5728;&#x7B2C;72&#x9875;&#xFF0C;Groovy&#x5141;&#x8BB8;&#x60A8;&#x50CF;&#x8BBF;&#x95EE;&#x516C;&#x5171;&#x5B57;&#x6BB5;&#x4E00;&#x6837;&#x8BBF;&#x95EE;&#x79C1;&#x6709;&#x5B57;&#x6BB5;&#x3002;</p>
<p>&#x5E95;&#x7EBF;&#x662F;Java&#x5C0A;&#x91CD;&#x79C1;&#x6709;&#x8BBF;&#x95EE;&#x4FEE;&#x9970;&#x7B26;;Groovy&#x4E0D;&#x3002;Java&#x662F;&#x6572;&#x4F60;&#x524D;&#x95E8;&#x7684;&#x90BB;&#x5C45;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x77E5;&#x9053;&#x4F60;&#x628A;&#x94A5;&#x5319;&#x85CF;&#x5728;&#x54EA;&#x91CC;&#x3002;Groovy&#x662F;&#x4E00;&#x4E2A;&#x8BA9;&#x81EA;&#x5DF1;&#x8FDB;&#x6765;&#x501F;&#x4E00;&#x676F;&#x7CD6;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x53A8;&#x623F;&#x684C;&#x5B50;&#x4E0A;&#x7ED9;&#x4F60;&#x7559;&#x4E00;&#x5F20;&#x7EB8;&#x6761;&#x7684;&#x90BB;&#x5C45;&#x3002;&#x5F53;&#x6211;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;Groovy&#x65F6;&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x53D1;&#x73B0;&#x7684;&#x6700;&#x4EE4;&#x4EBA;&#x4E0D;&#x5B89;&#x7684;(&#x54B3;&#x54B3;)&#x7279;&#x6027;&#x3002;&#x5728;&#x6700;&#x597D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5FFD;&#x7565;&#x79C1;&#x4EBA;&#x4FEE;&#x9970;&#x8BED;&#x4F3C;&#x4E4E;&#x662F;&#x4E0D;&#x793C;&#x8C8C;&#x7684;&#x3002;&#x5728;&#x6700;&#x574F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x5B8C;&#x5168;&#x5371;&#x9669;&#x7684;&#x3002;</p>
<p>&#x4E5F;&#x8BB8;&#x662F;Groovy&#x5BF9;&#x9690;&#x79C1;&#x7684;&#x6F2B;&#x4E0D;&#x7ECF;&#x5FC3;&#x7684;&#x6001;&#x5EA6;&#x8BA9;&#x6211;&#x6700;&#x521D;&#x611F;&#x5230;&#x4E0D;&#x8212;&#x670D;&#x3002;&#x5F88;&#x5BB9;&#x6613;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x4F60;&#x4F1A;&#x60F3;&#xFF0C;&#x201C;&#x8FD9;&#x4E00;&#x5B9A;&#x662F;&#x4E2A;bug&#x3002;&#x201D;&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;<code>java.lang.reflect</code>&#x7ED5;&#x8FC7;Java&#x4E2D;&#x7684;&#x79C1;&#x6709;&#x4FEE;&#x9970;&#x7B26;&#x3002;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#xFF0C;&#x5728;Java&#x4E2D;&#x8C03;&#x7528;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x4F3C;&#x4E4E;&#x66F4;&#x52A0;&#x8C28;&#x614E;&#x3002;&#x5728;Java&#x4E2D;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x6709;&#x610F;&#x8BC6;&#x5730;&#x53BB;&#x8C03;&#x7528;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x4F60;&#x5FC5;&#x987B;&#x77E5;&#x9053;&#x4F60;&#x5728;&#x505A;&#x4EC0;&#x4E48;&#x3002;&#x6211;&#x4EEC;&#x8FDC;&#x79BB;&#x4E86;Java&#x7684;&#x8001;&#x8DEF;&#x2014;&#x2014;&#x6BEB;&#x65E0;&#x7591;&#x95EE;&#xFF0C;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x505A;&#x4E00;&#x4E9B;&#x4E0D;&#x540C;&#x5BFB;&#x5E38;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x867D;&#x7136;Groovy&#x4E2D;&#x7F3A;&#x4E4F;&#x9690;&#x79C1;&#x7684;&#x95EE;&#x9898;&#x4ECD;&#x7136;&#x5076;&#x5C14;&#x56F0;&#x6270;&#x7740;&#x6211;&#xFF0C;&#x4F46;&#x5728;&#x5B9E;&#x8DF5;&#x4E2D;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x5927;&#x95EE;&#x9898;&#x3002;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x516C;&#x5171;&#x63A5;&#x53E3;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x5E38;&#x6211;&#x77E5;&#x9053;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x5B58;&#x5728;&#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x662F;&#x6253;&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x3002;&#x5982;&#x679C;&#x6211;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x673A;&#x4F1A;&#x53BB;&#x4E0A;&#x8BFE;&#xFF0C;&#x6211;&#x5C31;&#x6709;&#x8D23;&#x4EFB;&#x4E0D;&#x628A;&#x4E8B;&#x60C5;&#x641E;&#x7838;&#x3002;&#x6309;&#x7167;&#x540C;&#x6837;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x5728;&#x4E3A;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x51C6;&#x5907;&#x7C7B;&#x65F6;&#xFF0C;&#x8BBF;&#x95EE;&#x79C1;&#x6709;&#x65B9;&#x6CD5;&#x548C;&#x5B57;&#x6BB5;&#x5B9E;&#x9645;&#x4E0A;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5982;&#x679C;&#x7F16;&#x5199;&#x7684;&#x7C7B;&#x4E0D;&#x662F;&#x5F88;&#x5BB9;&#x6613;&#x6D4B;&#x8BD5;&#x7684;&#x8BDD;&#x3002;</p>
<p>Bjarne Stroustrup&#x66FE;&#x6709;&#x53E5;&#x8457;&#x540D;&#x7684;&#x8BDD;&#xFF1A;&#x201C; C&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x5C06;&#x81EA;&#x5DF1;&#x62CD;&#x5230;&#x811A;&#x4E0A;&#xFF1B; C ++&#x4F7F;&#x5B83;&#x53D8;&#x5F97;&#x66F4;&#x96BE;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x60A8;&#x8FD9;&#x6837;&#x505A;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4F7F;&#x60A8;&#x5168;&#x529B;&#x4EE5;&#x8D74;&#x3002;&#x201D;&#x6709;&#x4E9B;&#x4EBA;&#x53EF;&#x80FD;&#x4F1A;&#x8BF4;&#xFF0C;&#x5728;<code>private methods</code>&#x7684;&#x6848;&#x4F8B;&#x4E2D;&#xFF0C;Groovy&#x8BA9;&#x70B8;&#x6389;&#x6574;&#x6761;&#x817F;&#x53D8;&#x5F97;&#x66F4;&#x5BB9;&#x6613;&#x4E86;&#x3002;&#x6211;&#x4E2A;&#x4EBA;&#x5BF9;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x770B;&#x6CD5;&#x66F4;&#x52A1;&#x5B9E;&#x4E00;&#x4E9B;:&#x6211;&#x5B81;&#x613F;&#x8981;&#x4E00;&#x628A;&#x66F4;&#x950B;&#x5229;&#x7684;&#x624B;&#x672F;&#x5200;&#x548C;&#x4E00;&#x4E2A;&#x8BAD;&#x7EC3;&#x6709;&#x7D20;&#x7684;&#x5916;&#x79D1;&#x533B;&#x751F;&#xFF0C;&#x4E5F;&#x4E0D;&#x613F;&#x8981;&#x4E00;&#x628A;&#x66F4;&#x949D;&#x7684;&#x5200;&#x7247;&#x3002;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6709;&#x8D23;&#x4EFB;&#x660E;&#x667A;&#x5730;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x3002;
:::</p>
<p>&#x4F7F;&#x7528;&#x7EAF;Java&#x5B9E;&#x73B0;&#x4E2D;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x76F8;&#x540C;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x552F;&#x4E00;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x5C31;&#x662F;&#x7F16;&#x8BD1;Groovy&#x7C7B;(&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x9875;&#x7684;Groovy&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x5668;4.11&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;)&#xFF0C;&#x5E76;&#x4E14;&#x5728;<code>$GROOVY_HOME/embeddable</code>&#x4E2D;&#x627E;&#x5230;&#x7684;&#x5355;&#x4E2A;Groovy JAR&#x4F4D;&#x4E8E;&#x7C7B;&#x8DEF;&#x5F84;&#x7684;&#x67D0;&#x4E2A;&#x5730;&#x65B9;&#x3002;</p>
<h3 id="4_9_Calling_Java_from_Groovy"><a name="4_9_Calling_Java_from_Groovy" class="anchor-navigation-ex-anchor" href="#4_9_Calling_Java_from_Groovy"><i class="fa fa-link" aria-hidden="true"></i></a>4.9 &#x4ECE;Groovy&#x8C03;&#x7528;Java </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookstoreGroovy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Bookstore</span>{</span>
  Book b <span class="hljs-comment">// written in Groovy</span>
  Publisher p <span class="hljs-comment">// written in Java</span>

  Book makeBook(){
    b = <span class="hljs-keyword">new</span> Book(<span class="hljs-string">author:</span><span class="hljs-string">&quot;Scott Davis&quot;</span>, <span class="hljs-string">pages:</span><span class="hljs-number">250</span>, <span class="hljs-string">title:</span><span class="hljs-string">&quot;Groovy Recipes&quot;</span>)
  }

  Publisher makePublisher(){
    p = <span class="hljs-keyword">new</span> Publisher(<span class="hljs-string">name:</span><span class="hljs-string">&quot;Pragmatic Bookshelf&quot;</span>)
  }
}
</code></pre>
<p>&#x5728;&#x7B2C;79&#x9875;&#x7684;&#x7B2C;4.8&#x8282;&#x201C;&#x4ECE;Java&#x8C03;&#x7528;Groovy&#x201D;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;Groovy&#x7C7B;&#x5728;&#x4ECE;Java&#x8FD0;&#x884C;&#x65F6;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;Java&#x7C7B;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;Java&#x7C7B;&#x5728;&#x4ECE;Groovy&#x8FD0;&#x884C;&#x65F6;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;Groovy&#x7C7B;&#x3002;&#x5373;&#x4F7F;Publisher&#x662F;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x60A8;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Groovy&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x5F88;&#x9177;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;(&#x7B2C;4.5&#x8282;&#xFF0C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#xFF0C;&#x89C1;&#x7B2C;76&#x9875;)&#x3002;</p>
<h3 id="4_10_Interfaces_in_Groovy_and_Java"><a name="4_10_Interfaces_in_Groovy_and_Java" class="anchor-navigation-ex-anchor" href="#4_10_Interfaces_in_Groovy_and_Java"><i class="fa fa-link" aria-hidden="true"></i></a>4.10 Groovy&#x548C;Java&#x4E2D;&#x7684;&#x63A5;&#x53E3; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">// Bookstore.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Bookstore</span> {</span>
  <span class="hljs-keyword">public</span> Book makeBook();
  <span class="hljs-keyword">public</span> Publisher makePublisher();
}

<span class="hljs-comment">// BookstoreGroovy.groovy</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookstoreGroovy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Bookstore</span>{</span>...}

<span class="hljs-comment">// BookstoreJava.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookstoreJava</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Bookstore</span> {</span>...}
</code></pre>
<p>&#x60A8;&#x5728;&#x8FD9;&#x91CC;&#x770B;&#x5230;&#x7684;&#x662F;Groovy&#x4E0E;Java&#x65E0;&#x7F1D;&#x96C6;&#x6210;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;Bookstore&#x63A5;&#x53E3;&#x662F;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#x3002;&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;Book&#x662F;&#x7528;Groovy&#x7F16;&#x5199;&#x7684;&#xFF0C;Publisher&#x662F;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x5730;&#x5904;&#x7406;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x770B;&#x770B;BookstoreGroovy&#x3002;&#x5B83;&#x662F;&#x7528;Groovy&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x80FD;&#x591F;&#x50CF;BookstoreJava&#x4E00;&#x6837;&#x8F7B;&#x677E;&#x5730;&#x5B9E;&#x73B0;Bookstore(&#x7528;Java&#x7F16;&#x5199;)&#x3002;</p>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x552F;&#x4E00;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x5C31;&#x662F;&#x7F16;&#x8BD1;&#x60A8;&#x7684;Groovy&#x7C7B;(&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x7B2C;4.11&#x8282;&#xFF0C;Groovy&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x5668;&#x4E2D;&#x5BF9;&#x6B64;&#x8FDB;&#x884C;&#x8BA8;&#x8BBA;)&#xFF0C;&#x5E76;&#x4E14;&#x5728;<code>$GROOVY_HOME/embeddable</code>&#x4E2D;&#x627E;&#x5230;&#x7684;&#x5355;&#x4E2A;Groovy JAR&#x4F4D;&#x4E8E;&#x7C7B;&#x8DEF;&#x5F84;&#x7684;&#x67D0;&#x4E2A;&#x5730;&#x65B9;&#x3002;</p>
<h3 id="4_11_The_Groovy_Joint_Compiler"><a name="4_11_The_Groovy_Joint_Compiler" class="anchor-navigation-ex-anchor" href="#4_11_The_Groovy_Joint_Compiler"><i class="fa fa-link" aria-hidden="true"></i></a>4.11 Groovy&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x5668; </h3>
<pre><code class="lang-bash">// compile Groovy code
$ groovyc *.groovy

// compile Java code
$ javac *.java

// compile both Groovy and Java code
// using groovyc <span class="hljs-keyword">for</span> the Groovy code and javac <span class="hljs-keyword">for</span> the Java code
$ groovyc * -j -Jclasspath=<span class="hljs-variable">$GROOVY_HOME</span>/embeddable/groovy-all-1.5.0.jar:.
</code></pre>
<p>&#x6BEB;&#x4E0D;&#x5947;&#x602A;&#xFF0C;groovyc&#x5C06;Groovy&#x6E90;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x6210;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x5C31;&#x50CF;javac&#x7F16;&#x8BD1;Java&#x6E90;&#x4EE3;&#x7801;&#x4E00;&#x6837;&#x3002;&#x7136;&#x800C;&#xFF0C;Groovy&#x7F16;&#x8BD1;&#x5668;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x66F4;&#x5FAE;&#x5999;&#x4F46;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x7279;&#x6027;:&#x4F7F;&#x7528;&#x5355;&#x4E2A;&#x547D;&#x4EE4;&#x8054;&#x5408;&#x7F16;&#x8BD1;Java&#x548C;Groovy&#x4EE3;&#x7801;&#x7684;&#x80FD;&#x529B;&#x3002;</p>
<p><strong>&#x6EE1;&#x8DB3;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;</strong>
&#x4E3A;&#x4E86;&#x7406;&#x89E3;groovyc&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x66F4;&#x6DF1;&#x5165;&#x5730;&#x7814;&#x7A76;&#x4E00;&#x4E0B;javac&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;&#x5728;javac&#x7F16;&#x8BD1;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x6240;&#x6709;&#x7684;&#x4F9D;&#x8D56;&#x9879;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x7F16;&#x8BD1;Bookstore&#x63A5;&#x53E3;:</p>
<pre><code class="lang-bash">$ javac Bookstore.java
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// Bookstore.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Bookstore</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">makeBook</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">public</span> Publisher <span class="hljs-title">makePublisher</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<p>javac&#x8981;&#x505A;&#x7684;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#x5C31;&#x662F;&#x67E5;&#x627E;Book &#x548C;Publisher&#x3002;&#x6CA1;&#x6709;&#x5B83;&#x4EEC;&#xFF0C;Bookstore&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x88AB;&#x7F16;&#x8F91;&#x3002;&#x56E0;&#x6B64;&#xFF0C;javac&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E2D;&#x641C;&#x7D22;&quot;Book.class&quot;&#x548C;&quot;Publisher.class&quot;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x5B58;&#x50A8;&#x5728;JAR&#x4E2D;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x968F;&#x610F;&#x653E;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;javac&#x80FD;&#x591F;&#x5728;&#x5DF2;&#x7ECF;&#x7F16;&#x8BD1;&#x7684;&#x72B6;&#x6001;&#x4E2D;&#x627E;&#x5230;&#x5B83;&#x4EEC;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x7F16;&#x8BD1;Bookstore&#x3002;</p>
<p>&#x5982;&#x679C;javac&#x627E;&#x4E0D;&#x5230;&quot;Book.class&quot;&#x6216;&quot;Publisher.class&quot;&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x627E;&quot;Book.java&quot;&#x548C;&quot;Publisher.java&quot;&#x3002;&#x5982;&#x679C;&#x80FD;&#x591F;&#x627E;&#x5230;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5B83;&#x5C06;&#x4EE3;&#x8868;&#x60A8;&#x7F16;&#x8BD1;&#x5B83;&#x4EEC;&#xFF0C;&#x7136;&#x540E;&#x7EE7;&#x7EED;&#x7F16;&#x8BD1;Bookstore&#x3002;&#x660E;&#x767D;&#x4E86;&#x5417;?</p>
<p>&#x597D;&#x7684;&#xFF0C;&#x90A3;&#x4E48;Groovy&#x4EE3;&#x7801;&#x662F;&#x5982;&#x4F55;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x4EA7;&#x751F;&#x5E72;&#x6270;&#x7684;&#x5462;?&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;javac&#x53EA;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x7F16;&#x8BD1;Java&#x4EE3;&#x7801;&#x3002;&#x6709;&#x51E0;&#x79CD;&#x53EF;&#x63D2;&#x5165;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x53EF;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#x2014;&#x2014;GNU GCC&#x7F16;&#x8BD1;&#x5668;<sup><a href="#fn_411" id="reffn_411">411</a></sup>&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x4F8B;&#x5B50;&#x3002;&#x9057;&#x61BE;&#x7684;&#x662F;&#xFF0C;javac&#x4E0D;&#x662F;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#x3002;&#x5982;&#x679C;&#x5B83;&#x627E;&#x4E0D;&#x5230;Book.class or Book.java&#xFF0C;&#x5B83;&#x653E;&#x5F03;&#x4E86;&#x3002;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x5982;&#x679C;Book&#x662F;&#x7528;Groovy&#x7F16;&#x5199;&#x7684;&#xFF0C;javac&#x4F1A;&#x8FD9;&#x6837;&#x8BF4;:</p>
<pre><code class="lang-bash">$ javac Bookstore.java
Bookstore.java:2: cannot find symbol
symbol : class Book
location: interface Bookstore
public Book makeBook();
^
1 error
</code></pre>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x53D8;&#x901A;&#x529E;&#x6CD5;&#x662F;&#x201C;&#x563F;&#xFF0C;&#x533B;&#x751F;&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#x65F6;&#x4F1A;&#x5F88;&#x75DB;&#x201D;&#x3002; &#x7531;&#x4E8E;javac&#x4E0D;&#x4F1A;&#x4E3A;&#x60A8;&#x7F16;&#x8BD1;Groovy&#x4EE3;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C1D;&#x8BD5;&#x5148;&#x7F16;&#x8BD1;&quot;Book.groovy&quot;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x7F16;&#x8BD1;&quot;Bookstore.java&quot;&#xFF1A;</p>
<pre><code class="lang-bash">$ groovyc Book.groovy
$ javac Bookstore.java
$ ls -al

-rw-r--r-- 1 sdavis sdavis 5052 Dec 10 17:03 Book.class
-rw-r--r--@ 1 sdavis sdavis 60 Dec 10 16:57 Book.groovy
-rw-r--r-- 1 sdavis sdavis 169 Dec 10 17:03 Bookstore.class
-rw-r--r--@ 1 sdavis sdavis 93 Dec 10 16:56 Bookstore.java
-rw-r--r-- 1 sdavis sdavis 228 Dec 10 17:03 Publisher.class
-rw-r--r--@ 1 sdavis sdavis 48 Dec 10 16:58 Publisher.java
</code></pre>
<p>&#x4E16;&#x754C;&#x4E00;&#x5207;&#x90FD;&#x5F88;&#x597D;&#xFF0C;&#x5BF9;&#x5427;&#xFF1F; &#x60A8;&#x5C06;&quot;Book.groovy&quot;&#x7F16;&#x8BD1;&#x4E3A;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x8FD9;&#x4F7F;javac&#x53EF;&#x4EE5;&#x5728;&#x6CA1;&#x6709;&#x62B1;&#x6028;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x7F16;&#x8BD1;&quot;Bookstore.java&quot;&#x3002; &#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;Publisher.java&#x4E0E;Bookstore.java&#x662F;&#x514D;&#x8D39;&#x7F16;&#x8BD1;&#x7684;&#x3002;&#xFF09;</p>
<p>&#x5C3D;&#x7BA1;&#x5BF9;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x624B;&#x52A8;&#x7BA1;&#x7406;Groovy/Java&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x94FE;&#x662F;&#x53EF;&#x884C;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x60A8;&#x62E5;&#x6709;&#x4F9D;&#x8D56;&#x4E8E;&quot;&#x4F9D;&#x8D56;Groovy&#x7C7B;&#x7684;Java&#x7C7B;&#x7684;&quot;Groovy&#x7C7B;&#xFF0C;&#x5B83;&#x5F88;&#x5FEB;&#x5C31;&#x4F1A;&#x6210;&#x4E3A;&#x5669;&#x68A6;&#x3002;</p>
<p><strong>&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x4E24;&#x4E2A;&#x7F16;&#x8BD1;&#x5668;</strong></p>
<pre><code class="lang-bash">$ groovyc * -j -Jclasspath=<span class="hljs-variable">$GROOVY_HOME</span>/embeddable/groovy-all-1.5.0.jar:.
</code></pre>
<p>&#x7531;&#x4E8E;&#x65E0;&#x6CD5;&#x5E2E;&#x52A9;javac&#x7F16;&#x8BD1;Groovy&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;groovyc&#x6765;&#x5B9E;&#x73B0;&#x6B64;&#x529F;&#x80FD;&#x3002; &#x4F46;&#x662F;&#x8BF7;&#x4E0D;&#x8981;&#x8BEF;&#x89E3;&#xFF0C;groovyc&#x4E0D;&#x4F1A;&#x7F16;&#x8BD1;Java&#x4EE3;&#x7801;&#x3002; &#x901A;&#x8FC7;&#x5C06;<code>-j</code>&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x5B83;&#x5411;&#x7F16;&#x8BD1;&#x5668;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#xFF0C;&#x4F7F;&#x5176;&#x5C06;Javac&#x7528;&#x4E8E;Java&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x5C06;groovyc&#x7528;&#x4E8E;Groovy&#x4EE3;&#x7801;&#x3002; &#x4F7F;&#x7528;&#x6BCF;&#x79CD;&#x8BED;&#x8A00;&#x7684;&#x672C;&#x673A;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x60A8;&#x5C06;&#x83B7;&#x5F97;&#x4E24;&#x79CD;&#x8BED;&#x8A00;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x89E3;&#x6790;&#x7684;&#x6240;&#x6709;&#x597D;&#x5904;&#x3002;</p>
<p>&#x5C0F;&#x5199;&#x7684;-j&#x6807;&#x5FD7;&#x6253;&#x5F00;&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x5927;&#x5199;&#x7684;-J&#x6807;&#x5FD7;&#xFF0C;&#x4EE5;&#x5C06;&#x6807;&#x51C6;&#x6807;&#x5FD7;&#x4F20;&#x9012;&#x7ED9;javac&#x7F16;&#x8BD1;&#x5668;&#x3002; &#x6B64;&#x793A;&#x4F8B;&#x786E;&#x4FDD;javac&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F20;&#x5165;classpath&#x53C2;&#x6570;&#x6765;&#x627E;&#x5230;Groovy JAR&#x3002; &#x5982;&#x679C;&#x672A;&#x8BBE;&#x7F6E;CLASSPATH&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4F7F;&#x7528;classpath&#x6807;&#x5FD7;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E2D;&#x6CA1;&#x6709;Groovy JAR&#xFF0C;&#x5219;Java&#x4EE3;&#x7801;&#x5C06;&#x65E0;&#x6CD5;&#x9488;&#x5BF9;Groovy&#x7C7B;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3002;</p>
<p>&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x544A;&#x8BC9;javac&#x751F;&#x6210;&#x4E0E;Java 1.4&#x517C;&#x5BB9;&#x7684;&#x7C7B;&#xFF1A;</p>
<pre><code class="lang-bash">$ groovyc * -j -Jclasspath=<span class="hljs-variable">$GROOVY_HOME</span>/embeddable/groovy-all-1.5.0.jar:. -J<span class="hljs-built_in">source</span>=1.4 -Jtarget=1.4
</code></pre>
<h3 id="4_12_Compiling_Your_Project_with_Ant"><a name="4_12_Compiling_Your_Project_with_Ant" class="anchor-navigation-ex-anchor" href="#4_12_Compiling_Your_Project_with_Ant"><i class="fa fa-link" aria-hidden="true"></i></a>4.12 &#x7528;Ant&#x7F16;&#x8BD1;&#x9879;&#x76EE; </h3>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">taskdef</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;groovyc&quot;</span>
         <span class="hljs-attr">classname</span>=<span class="hljs-string">&quot;org.codehaus.groovy.ant.Groovyc&quot;</span>
         <span class="hljs-attr">classpathref</span>=<span class="hljs-string">&quot;my.classpath&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">groovyc</span>
      <span class="hljs-attr">srcdir</span>=<span class="hljs-string">&quot;${src}&quot;</span>
      <span class="hljs-attr">destdir</span>=<span class="hljs-string">&quot;${dest}&quot;</span>
      <span class="hljs-attr">classpathref</span>=<span class="hljs-string">&quot;my.classpath&quot;</span>
      <span class="hljs-attr">jointCompilationOptions</span>=<span class="hljs-string">&quot;-j -Jsource=1.4 -Jtarget=1.4&quot;</span> /&gt;</span>
</code></pre>
<p>&#x5F88;&#x9AD8;&#x5174;&#x77E5;&#x9053;&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8BD1;Groovy&#x4EE3;&#x7801;&#xFF08;Groovy Joint Compiler&#xFF0C;&#x7B2C;4.11&#x8282;&#xFF0C;&#x7B2C;82&#x9875;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x591A;&#x6570;&#x9879;&#x76EE;&#x90FD;&#x4F7F;&#x7528;Ant&#x3002; &#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;Groovy&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x63D0;&#x4F9B;&#x4E86;Ant&#x4EFB;&#x52A1;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;taskdef&#x6B65;&#x9AA4;&#xFF0C;&#x5C06;Groovy JAR&#x4ECE; <code>$GROOVY_HOME/embeddable</code> &#x653E;&#x5230; <code>$ANT_HOME/lib</code> &#x76EE;&#x5F55;&#x4E2D;&#x3002;</p>
<h3 id="4_13_Compiling_Your_Project_with_Maven"><a name="4_13_Compiling_Your_Project_with_Maven" class="anchor-navigation-ex-anchor" href="#4_13_Compiling_Your_Project_with_Maven"><i class="fa fa-link" aria-hidden="true"></i></a>4.13 &#x4F7F;&#x7528;Maven&#x7F16;&#x8BD1;&#x9879;&#x76EE; </h3>
<pre><code class="lang-js">http:<span class="hljs-comment">//mojo.codehaus.org/groovy</span>
</code></pre>
<p>&#x867D;&#x7136;Groovy&#x4E0D;&#x63D0;&#x4F9B;Maven 2.0&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x4F46;&#x662F;Mojo&#x9879;&#x76EE;&#x63D0;&#x4F9B;&#x4E86;&#x8FD9;&#x79CD;&#x652F;&#x6301;&#x3002;&#x6709;&#x4E00;&#x4E2A;Maven&#x63D2;&#x4EF6;&#x5141;&#x8BB8;&#x60A8;&#x8054;&#x5408;&#x7F16;&#x8BD1;Groovy&#x4EE3;&#x7801;(&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;82&#x9875;&#x7684;&#x7B2C;4.11&#x8282;&#xFF0C;Groovy&#x8054;&#x5408;&#x7F16;&#x8BD1;&#x5668;)&#x3002;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;Maven&#x539F;&#x578B;&#x63D2;&#x4EF6;&#xFF0C;&#x5B83;&#x4E3A;&#x60A8;&#x7684;Groovy&#x9879;&#x76EE;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6846;&#x67B6;&#x3002;</p>
<h2 id="5_Groovy_from_the_Command_Line"><a name="5_Groovy_from_the_Command_Line" class="anchor-navigation-ex-anchor" href="#5_Groovy_from_the_Command_Line"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;5&#x7AE0; &#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7684;Groovy </h2>
<p>&#x7528;&#x4E8E;shell&#x811A;&#x672C;&#x7684;Java ?&#x662F;&#x7684;,&#x5BF9;&#x7684;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;Groovy&#x5728;&#x8FD9;&#x65B9;&#x9762;&#x7ED9;&#x4E86;&#x6211;&#x60CA;&#x559C;&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x4E0D;&#x8981;&#x8BEF;&#x89E3;&#x6211;&#x7684;&#x610F;&#x601D;&#x2014;&#x2014;&#x6CA1;&#x6709;&#x54EA;&#x4E2A;&#x81EA;&#x91CD;&#x7684;Unix&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x4F1A;&#x629B;&#x5F03;&#x81EA;&#x6211;&#x6DF7;&#x6DC6;&#x7684;Perl&#x548C;shell&#x811A;&#x672C;&#xFF0C;&#x8F6C;&#x800C;&#x652F;&#x6301;Groovy&#x3002;&#x4F46;&#x662F;&#x5BF9;&#x6211;&#x6765;&#x8BF4;&#xFF0C;&#x4F7F;&#x7528;&#x6211;&#x975E;&#x5E38;&#x719F;&#x6089;&#x7684;&#x8BED;&#x8A00;&#x6765;&#x5B8C;&#x6210;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x65E5;&#x5E38;&#x5DE5;&#x4F5C;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x7F8E;&#x7684;&#x9009;&#x62E9;&#x3002;&#x6211;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x804C;&#x7684;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4E00;&#x76F4;&#x9762;&#x4E34;&#x7740;&#x4E00;&#x4E9B;&#x6742;&#x4E8B;&#xFF0C;&#x6BD4;&#x5982;&#x8D39;&#x529B;&#x5730;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5145;&#x6EE1;Tomcat&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x6216;&#x8005;&#x6279;&#x91CF;&#x5730;&#x5C06;&#x4E00;&#x4E2A;&#x5145;&#x6EE1;&#x56FE;&#x50CF;&#x7684;&#x76EE;&#x5F55;&#x4ECE;&#x4E00;&#x79CD;&#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x683C;&#x5F0F;&#x3002;&#x7528;Groovy&#x505A;&#x8FD9;&#x79CD;&#x4E8B;&#x60C5;&#x662F;&#x5982;&#x6B64;&#x81EA;&#x7136;&#xFF0C;&#x4EE5;&#x81F3;&#x4E8E;&#x6211;&#x65E0;&#x6CD5;&#x60F3;&#x8C61;&#x7528;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x8BED;&#x8A00;&#x6765;&#x505A;&#x8FD9;&#x4EF6;&#x4E8B;&#x3002;</p>
<p>&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x4ECE;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C;&#xFF0C;&#x5E76;&#x4ECE;&#x7528;&#x6237;&#x5904;&#x83B7;&#x53D6;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x50CF;&#x8C03;&#x7528;&#x672C;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x4E00;&#x6837;&#x8F7B;&#x677E;&#x5730;&#x8C03;&#x7528;&#x5176;&#x4ED6;Groovy&#x811A;&#x672C;&#x3002;Groovy&#x4F5C;&#x4E3A;&#x80F6;&#x6C34;&#x8BED;&#x8A00;&#x7684;&#x624D;&#x80FD;&#x5728;&#x8FD9;&#x91CC;&#x5F97;&#x5230;&#x4E86;&#x5145;&#x5206;&#x7684;&#x5C55;&#x793A;&#x3002;Groovy&#x6CF0;&#x7136;&#x81EA;&#x82E5;&#x5730;&#x6A21;&#x7CCA;&#x4E86;&#x672C;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4EFB;&#x52A1;&#x548C;Java&#x5E93;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x6267;&#x884C;&#x7BA1;&#x7406;&#x4EFB;&#x52A1;&#x2014;&#x2014;&#x6211;&#x6562;&#x8BF4;&#x5417;?&#x975E;&#x5E38;&#x6109;&#x5FEB;&#x3002;</p>
<h3 id="5_1_Running_Uncompiled_Groovy_Scripts"><a name="5_1_Running_Uncompiled_Groovy_Scripts" class="anchor-navigation-ex-anchor" href="#5_1_Running_Uncompiled_Groovy_Scripts"><i class="fa fa-link" aria-hidden="true"></i></a>5.1 &#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C; </h3>
<pre><code class="lang-bash">groovy hello.groovy
groovy hello
</code></pre>
<p>groovy&#x547D;&#x4EE4;&#x5141;&#x8BB8;&#x60A8;&#x8FD0;&#x884C;&#x672A;&#x7F16;&#x8BD1;&#x7684;Groovy&#x811A;&#x672C;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>hello.groovy</code>&#x7684;&#x6587;&#x4EF6;&#x3002; &#x5411;&#x5176;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x884C;&#xFF1A;</p>
<pre><code class="lang-groovy">println <span class="hljs-string">&quot;Hello Groovy World&quot;</span>
</code></pre>
<p>&#x8981;&#x8FD0;&#x884C;&#x811A;&#x672C;&#xFF0C;&#x8BF7;&#x952E;&#x5165;<code>groovy hello.groovy</code>&#x3002;&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;&quot;.groovy&quot;&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x952E;&#x5165;&#x6269;&#x5C55;&#x540D;&#x65F6;&#x5173;&#x95ED;&#x8BE5;&#x6269;&#x5C55;&#x540D;: <code>groovy hello</code>&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x8FD9;&#x4E9B;&#x7CBE;&#x901A;&#x4F01;&#x4E1A;Java&#x5F00;&#x53D1;&#x548C;&#x201C;&#x7F16;&#x8BD1; -&gt; JAR -&gt; WAR -&gt; EAR -&gt; &#x90E8;&#x7F72;&#x201D;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x8BA4;&#x4E3A;&#x6211;&#x4EEC;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5E76;&#x8FD0;&#x884C;&#x5B83;&#xFF0C;&#x4F3C;&#x4E4E;&#x6709;&#x4E9B;&#x4E0D;&#x5207;&#x5B9E;&#x9645;&#x3002;&#x4E00;&#x65E6;&#x4F60;&#x4F53;&#x9A8C;&#x8FC7;&#x201C;&#x60F3;&#x4E00;&#x4E0B; -&gt; &#x7F16;&#x7801; -&gt; &#x8FD0;&#x884C;&#x201D;&#xFF0C;&#x4F60;&#x5C31;&#x4F1A;&#x5BF9;&#x5B83;&#x4E0A;&#x763E;&#x3002;</p>
<h3 id="5_2_Shebanging_Groovy"><a name="5_2_Shebanging_Groovy" class="anchor-navigation-ex-anchor" href="#5_2_Shebanging_Groovy"><i class="fa fa-link" aria-hidden="true"></i></a>5.2 &#x6253;&#x6346;Groovy </h3>
<pre><code class="lang-bash"><span class="hljs-comment">#!/usr/bin/env groovy</span>
println <span class="hljs-string">&quot;Hello Groovy World&quot;</span>
</code></pre>
<p>&#x7C7B;unix&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x7231;&#x597D;&#x8005;&#x719F;&#x6089;&#x4ED6;&#x4EEC;&#x7684;&#x811A;&#x672C;&#x7684;&#x201C;shebanging&#x201D;&#x2014;&#x201C;hash&#x201D;&#x548C;&#x201C;bang&#x201D;&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x5373;&#x811A;&#x672C;&#x7B2C;&#x4E00;&#x884C;&#x7684;&#x524D;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x3002;&#x6572;&#x6253;&#x811A;&#x672C;&#x53EF;&#x8BA9;&#x60A8;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;&#x65F6;&#x7701;&#x53BB;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x5668;&#x3002;&#x65E0;&#x9700;&#x952E;&#x5165;<code>groovy hello</code>&#x6765;&#x8FD0;&#x884C;&#x6B64;&#x811A;&#x672C;&#xFF0C;&#x60A8;&#x53EA;&#x9700;&#x952E;&#x5165;<code>hello.groovy</code>&#x3002; &#x56E0;&#x4E3A;&#x811A;&#x672C;&#x662F;&#x81EA;&#x6211;&#x611F;&#x77E5;&#x7684;(&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x5B83;&#x662F;&#x4E00;&#x4E2A;Groovy&#x811A;&#x672C;)&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x547D;&#x540D;&#x6587;&#x4EF6;&#x65F6;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;&#x3002;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E2D;&#x952E;&#x5165;hello&#x4F7F;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E00;&#x4E2A;&#x672C;&#x673A;&#x547D;&#x4EE4;&#x3002;</p>
<p>Shebanging Groovy&#x811A;&#x672C;&#x5047;&#x8BBE;&#x6709;&#x56DB;&#x4EF6;&#x4E8B;&#xFF1A;</p>
<ul>
<li>&#x60A8;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x7C7B;&#x4F3C;Unix&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF1A;Linux&#xFF0C;Mac OS X&#xFF0C;Solaris&#x7B49;&#xFF08;&#x5F88;&#x62B1;&#x6B49;&#xFF0C;Windows&#x7528;&#x6237;&#xFF0C;&#x9664;&#x975E;&#x60A8;&#x4E5F;&#x662F;Cygwin <sup><a href="#fn_502" id="reffn_502">502</a></sup>&#x7528;&#x6237;&#xFF09;&#x3002;</li>
<li>&#x60A8;&#x5DF2;&#x5C06;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF08;chmod a+x hello&#xFF09;&#x3002;</li>
<li>&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF08;.&#xFF09;&#x5728;&#x60A8;&#x7684;PATH&#x4E2D;&#x3002; &#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;<code>./ hello</code>&#x8FD8;&#x7B97;&#x4E0D;&#x9519;&#x3002;</li>
<li>&#x73AF;&#x5883;&#x53D8;&#x91CF;<code>GROOVY_HOME</code>&#x5B58;&#x5728;&#xFF0C;<code>GROOVY_HOME/bin</code>&#x5728;&#x60A8;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5730;&#x65B9;&#x3002;&#x60A8;&#x603B;&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x811A;&#x672C;&#x7684;&#x9876;&#x90E8;&#x786C;&#x7F16;&#x7801;&#x5230;groovy&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x5668;&#x7684;&#x786E;&#x5207;&#x8DEF;&#x5F84;&#xFF0C;&#x4F46;&#x8FD9;&#x5C06;&#x963B;&#x6B62;&#x60A8;&#x4F7F;&#x7528;&#x7B2C;2.1&#x8282;(&#x5728;Unix&#x3001;Linux&#x548C;Mac OS X&#x4E0A;&#x5B89;&#x88C5;groovy&#xFF0C;&#x89C1;&#x7B2C;25&#x9875;)&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x7B26;&#x53F7;&#x94FE;&#x63A5;&#x6280;&#x5DE7;&#x5728;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x7684;groovy&#x4E4B;&#x95F4;&#x5207;&#x6362;&#x3002;</li>
</ul>
<p>&#x6211;&#x6709;&#x8BB8;&#x591A;&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x811A;&#x672C;&#x4FDD;&#x5B58;&#x5728;<code>~/bin</code>&#x4E2D;&#x3002;&#x5979;&#x4EEC;&#x5DF2;&#x7ECF;&#x5728;&#x6211;&#x7684;<code>PATH</code>&#x4E0A;&#x4E86;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x65E0;&#x8BBA;&#x6211;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x6211;&#x90FD;&#x53EF;&#x4EE5;&#x952E;&#x5165;&#x4E00;&#x4E9B;&#x806A;&#x660E;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;&#x67D0;&#x79CD;&#x7A0B;&#x5EA6;&#x4E0A;&#x6A21;&#x7CCA;&#x5730;&#x8BB0;&#x5F97;&#x6211;&#x662F;&#x7528;Groovy&#x7F16;&#x5199;&#x811A;&#x672C;&#x7684;&#xFF0C;&#x4F46;&#x8001;&#x5B9E;&#x8BF4;&#xFF0C;&#x6211;&#x5E76;&#x4E0D;&#x5173;&#x5FC3;&#x3002;</p>
<h3 id="5_3_Accepting_Command_Line_Arguments"><a name="5_3_Accepting_Command_Line_Arguments" class="anchor-navigation-ex-anchor" href="#5_3_Accepting_Command_Line_Arguments"><i class="fa fa-link" aria-hidden="true"></i></a>5.3 &#x63A5;&#x53D7;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">if</span>(args){
  println <span class="hljs-string">&quot;Hello ${args[0]}&quot;</span>
} <span class="hljs-keyword">else</span>{
  println <span class="hljs-string">&quot;Hello Stranger&quot;</span>
}
</code></pre>
<p>&#x8FD8;&#x8BB0;&#x5F97;&#x7F16;&#x5199;&#x60A8;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;HelloWorld Java&#x7C7B;&#x5417;?&#x5927;&#x6982;&#x662F;&#x8FD9;&#x6837;&#x7684;:</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span></span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>{
    <span class="hljs-keyword">if</span>(args != <span class="hljs-keyword">null</span> &amp;&amp; args.length &gt; <span class="hljs-number">0</span>){
      System.out.println(<span class="hljs-string">&quot;Hello &quot;</span> + args[<span class="hljs-number">0</span>]);
    } <span class="hljs-keyword">else</span>{
      System.out.println(<span class="hljs-string">&quot;Hello Stranger&quot;</span>);
    }
  }
}
</code></pre>
<p>&#x5728;&#x7F16;&#x8BD1;&#x5B8C;<code>javac HelloWorld.java</code>&#x4E4B;&#x540E;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8F93;&#x5165;<code>java HelloWorld Bub</code>&#x6765;&#x8FD0;&#x884C;&#x5B83;&#x3002;</p>
<p>&#x4F7F;&#x7528;Groovy&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x76F8;&#x540C;&#x7684;&#x7EC3;&#x4E60;&#x7B80;&#x5316;&#x4E3A;&#x57FA;&#x672C;&#x8981;&#x9886;&#x3002; &#x5728;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>Hola.groovy</code>&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x952E;&#x5165;&#x542F;&#x52A8;&#x6B64;&#x6280;&#x5DE7;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x952E;&#x5165;<code>Hola Bub</code>&#x3002; &#x7531;&#x4E8E;groovy&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x5668;&#x5C06;&#x6240;&#x6709;Groovy&#x811A;&#x672C;&#x90FD;&#x7F16;&#x8BD1;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6709;&#x6548;Java&#x5B57;&#x8282;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x5730;&#x5F97;&#x5230;Java&#x793A;&#x4F8B;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x952E;&#x5165;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7B80;&#x6D01;&#x7684;if&#x8BED;&#x53E5;&#x4E4B;&#x6240;&#x4EE5;&#x6709;&#x6548;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;Groovy&#x7684;&#x771F;&#x7406;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;54&#x9875;&#x7B2C;3.10&#x8282;&#xFF0C;Groovy&#x771F;&#x76F8;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;Groovy&#x811A;&#x672C;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x9690;&#x5F0F;&#x7684;<code>args</code>&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x4F20;&#x5165;&#x811A;&#x672C;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x3002;(&#x4F60;&#x731C;&#x5BF9;&#x4E86;&#x2014;&#x2014;&#x8FD9;&#x5C31;&#x662F;&#x300A;public static void main&#x300B;&#x7684;args&#x3002;)&#x8981;&#x67E5;&#x770B;magic args&#x6570;&#x7EC4;&#x7684;&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#xFF0C;&#x8BF7;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>cli.groovy</code>&#x7684;&#x6587;&#x4EF6;&#x3002;&#xFF0C;&#x7136;&#x540E;&#x952E;&#x5165;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;:</p>
<pre><code class="lang-groovy">args.each{println it}
</code></pre>
<p>&#x8F93;&#x5165;<code>groovy cli this is a test</code>&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-bash">$ groovy cli this is a <span class="hljs-built_in">test</span>

===&gt;
this
is
a
<span class="hljs-built_in">test</span>
</code></pre>
<h3 id="5_4_Running_a_Shell_Command"><a name="5_4_Running_a_Shell_Command" class="anchor-navigation-ex-anchor" href="#5_4_Running_a_Shell_Command"><i class="fa fa-link" aria-hidden="true"></i></a>5.4 &#x8FD0;&#x884C;Shell&#x547D;&#x4EE4; </h3>
<pre><code class="lang-bash">// <span class="hljs-keyword">in</span> Windows:
println <span class="hljs-string">&quot;cmd /c dir&quot;</span>.execute().text

//<span class="hljs-keyword">in</span> Unix / Linux / Mac OS X:
println <span class="hljs-string">&quot;ls -al&quot;</span>.execute().text
</code></pre>
<p>&#x8FD0;&#x884C;shell&#x547D;&#x4EE4;&#x5C31;&#x50CF;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x8C03;&#x7528;<code>execute()</code>&#x4E00;&#x6837;&#x7B80;&#x5355;&#x3002;&#x8FD9;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<code>java.lang.Process</code>&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x6280;&#x5DE7;&#x6765;&#x8FD0;&#x884C;&#x5B8C;&#x6574;&#x7684;&#x7A0B;&#x5E8F;&#x6216;&#x7B80;&#x5355;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x4EFB;&#x52A1;&#x3002;&#x6B63;&#x5982;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#x6240;&#x6F14;&#x793A;&#x7684;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x5F88;&#x53EF;&#x80FD;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;<code>ls</code>&#x547D;&#x4EE4;&#x53EA;&#x9002;&#x7528;&#x4E8E;Mac OS X&#x3001;Unix&#x548C;Linux&#x7CFB;&#x7EDF;&#x3002;<code>dir</code>&#x547D;&#x4EE4;&#x53EA;&#x9002;&#x7528;&#x4E8E;Windows&#x884D;&#x751F;&#x5DE5;&#x5177;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4EC5;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x8C03;&#x7528;&quot; .execute()&quot;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x6355;&#x83B7;&#x7ED3;&#x679C;&#x8F93;&#x51FA;&#x6587;&#x672C;&#x3002; &#x5BF9;&#x4E8E;<code>&quot; rm some-file.txt&quot;.execute()</code>&#x4E4B;&#x7C7B;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x7684;&#x3002; &#x5982;&#x679C;&#x8981;&#x67E5;&#x770B;shell&#x547D;&#x4EE4;&#x8FD4;&#x56DE;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x8BF7;&#x5728;&quot; .execute()&quot;&#x7684;&#x672B;&#x5C3E;&#x9644;&#x52A0;&quot; .text&quot;&#x3002;</p>
<p>&#x5728;&#x7C7B;&#x4F3C;Unix&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5927;&#x591A;&#x6570;shell&#x547D;&#x4EE4;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002; &#x952E;&#x5165;&#x54EA;&#x4E2A;&quot; ls&quot;&#x4EE5;&#x67E5;&#x770B;&#x547D;&#x4EE4;&#x7684;&#x8DEF;&#x5F84;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x901A;&#x5E38;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x952E;&#x5165;&#x7684;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x53EF;&#x4EE5;&#x7528;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x6765;&#x5E76;&#x6267;&#x884C;&#x3002; &#xFF08;&#x6B64;&#x89C4;&#x5219;&#x7684;&#x4E00;&#x4E2A;&#x4E0D;&#x5E78;&#x4F8B;&#x5916;&#x662F;&#x5728;&#x5904;&#x7406;&#x901A;&#x914D;&#x7B26;&#x65F6;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x7B2C;5.5&#x8282;&#xFF0C;&#x5728;Groovy&#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;Shell&#x901A;&#x914D;&#x7B26;&#x3002;&#xFF09;&#x4F8B;&#x5982;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;<code>println  &quot;ifconfig&quot;.execute().text</code>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;&#x3002;</p>
<p>&#x5728;Windows&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;<code>println &quot;ipconfig /all&quot;.execute().text</code>&#x8FD4;&#x56DE;&#x76F8;&#x4F3C;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x56E0;&#x4E3A;&quot;ipconfig.exe&quot;&#x4F4D;&#x4E8E;&quot; c:\windows\system32&quot;&#x4E2D;&#x7684;&#x8DEF;&#x5F84;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x6280;&#x5DE7;&#x3002; &#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x60A8;&#x5728;Windows&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x952E;&#x5165;&#x7684;&#x8BB8;&#x591A;&#x6700;&#x5E38;&#x89C1;&#x547D;&#x4EE4;&#x6839;&#x672C;&#x4E0D;&#x662F;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x3002; &#x8FDB;&#x884C;&#x641C;&#x7D22;&#x65F6;&#xFF0C;&#x60A8;&#x6C38;&#x8FDC;&#x627E;&#x4E0D;&#x5230;&#x9690;&#x85CF;&#x5728;&#x7CFB;&#x7EDF;&#x76EE;&#x5F55;&#x4E2D;&#x7684;<code>dir.exe</code> &#x6216; <code>copy.com</code>&#x3002; &#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x5D4C;&#x5165;&#x5728; &quot; cmd.exe&quot; &#x4E2D;&#x3002;</p>
<p>&#x8981;&#x6267;&#x884C;&#x5B83;&#x4EEC;&#xFF0C;&#x5FC5;&#x987B;&#x952E;&#x5165; &quot; cmd /c&quot;&#x3002; &#x6709;&#x5173;&#x5D4C;&#x5165;&#x5F0F;&#x547D;&#x4EE4;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x8BF7;&#x952E;&#x5165;&quot; cmd/?&quot;&#x3002; &#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x3002; &#x60A8;&#x5C06;&#x5728;Windows XP&#x4E0A;&#x770B;&#x5230;&#x4EE5;&#x4E0B;&#x5217;&#x8868;&#xFF1A;</p>
<pre><code class="lang-bash">DIR
COPY
REN
DEL or ERASE
COLOR
CD or CHDIR
MD or MKDIR
PROMPT
PUSHD
POPD
SET
SETLOCAL
ENDLOCAL
IF
FOR
CALL
SHIFT
GOTO
START
ASSOC
FTYPE
</code></pre>
<p>&#x77E5;&#x9053;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x8BB8;&#x591A;Windows&#x7528;&#x6237;&#x53EA;&#x662F;&#x5C06;&quot;cmd /c&quot;&#x653E;&#x5728;&#x4ED6;&#x4EEC;&#x5728;Groovy&#x4E2D;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x4E4B;&#x524D;&#x3002; &#x5C3D;&#x7BA1;&#x6709;&#x70B9;&#x5197;&#x957F;&#xFF0C;&#x4F46;&#x952E;&#x5165;<code>&quot;cmd/c ipconfig /all&quot;.execute().text</code>&#x80AF;&#x5B9A;&#x4E0D;&#x4F1A;&#x5BF9;&#x60A8;&#x9020;&#x6210;&#x4EFB;&#x4F55;&#x4F24;&#x5BB3;&#x3002;</p>
<p>Windows&#x7528;&#x6237;&#x7684;&#x6700;&#x540E;&#x4E00;&#x70B9;&#x5EFA;&#x8BAE;-&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x5728;&#x76EE;&#x5F55;&#x4E2D;&#x8F6C;&#x4E49;&#x53CD;&#x659C;&#x6760;&#xFF1A;<code>println &quot;cmd /c dir c:\\tmp&quot;.execute().text</code>&#x3002;</p>
<h3 id="5_5_Using_Shell_Wildcards_in_Groovy_Scripts"><a name="5_5_Using_Shell_Wildcards_in_Groovy_Scripts" class="anchor-navigation-ex-anchor" href="#5_5_Using_Shell_Wildcards_in_Groovy_Scripts"><i class="fa fa-link" aria-hidden="true"></i></a>5.5 &#x5728;Groovy&#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;Shell&#x901A;&#x914D;&#x7B26; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">//in Windows:</span>
println <span class="hljs-string">&quot;cmd /c dir *.groovy&quot;</span>.execute().text
<span class="hljs-keyword">def</span> c = [<span class="hljs-string">&quot;cmd&quot;</span>, <span class="hljs-string">&quot;/c&quot;</span>, <span class="hljs-string">&quot;dir *.groovy&quot;</span>].execute().text
println c

<span class="hljs-comment">//in Unix / Linux / Mac OS X:</span>
<span class="hljs-keyword">def</span> output = [<span class="hljs-string">&quot;sh&quot;</span>, <span class="hljs-string">&quot;-c&quot;</span>, <span class="hljs-string">&quot;ls -al *.groovy&quot;</span>].execute().text
println output

<span class="hljs-comment">//sadly, these don&apos;t work</span>
println <span class="hljs-string">&quot;ls -al *.groovy&quot;</span>.execute().text
println <span class="hljs-string">&quot;sh -c ls -al *.groovy&quot;</span>.execute().text
</code></pre>
<p>&#x5728;&#x4E0A;&#x4E00;&#x9875;&#x7684;5.4&#x8282;&#xFF0C;&#x8FD0;&#x884C;Shell&#x547D;&#x4EE4;&#x4E2D;&#xFF0C;&#x60A8;&#x4E86;&#x89E3;&#x5230;&#xFF0C;&#x5728;Windows&#x673A;&#x5668;&#x4E0A;&#x952E;&#x5165;&#x7684;&#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x547D;&#x4EE4;&#xFF08;&#x76EE;&#x5F55;&#xFF0C;&#x526F;&#x672C;&#x7B49;&#xFF09;&#x5DF2;&#x5D4C;&#x5165;&#x5728;&quot;cmd Shell&quot;&#x4E2D;&#x3002; &#x8BE5;&#x5916;&#x58F3;&#x8FD8;&#x53EF;&#x4EE5;&#x7BA1;&#x7406;&#x901A;&#x914D;&#x7B26;&#x6269;&#x5C55;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x8981;&#x6C42;&#x6240;&#x6709;&#x4EE5;&quot;.groovy&quot;&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x662F;shell&#x6269;&#x5C55;&#x4E3A;&#x5217;&#x8868;&#x7136;&#x540E;&#x4F20;&#x9012;&#x7ED9;dir&#x547D;&#x4EE4;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x5728;&#x7C7B;&#x4F3C;Unix&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5916;&#x58F3;&#x7A0B;&#x5E8F;&#x8FD8;&#x8D1F;&#x8D23;&#x6269;&#x5C55;&#x901A;&#x914D;&#x7B26;&#x3002; &#x77E5;&#x9053;&#x8FD9;&#x4E00;&#x70B9;&#x540E;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x660E;&#x786E;&#x5305;&#x542B;&#x5916;&#x58F3;&#x7A0B;&#x5E8F;&#x662F;&#x6709;&#x610F;&#x4E49;&#x7684;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x8F93;&#x5165;<code>sh -c &quot; ls -al * .groovy&quot;</code>&#x4E86;&#x89E3;&#x6211;&#x4EEC;&#x8981;&#x5B8C;&#x6210;&#x7684;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x5C1D;&#x8BD5;&#x5728;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x8C03;&#x7528;<code>execute</code>&#xFF0C;&#x5219;&#x6B64;&#x547D;&#x4EE4;&#x6240;&#x9700;&#x7684;&#x5D4C;&#x5165;&#x5F0F;&#x5F15;&#x53F7;&#x4F1A;&#x5F15;&#x8D77;&#x6211;&#x6781;&#x5927;&#x7684;&#x4F24;&#x75DB;&#x3002; &#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;String&#x6570;&#x7EC4;&#x4E0A;&#x8C03;&#x7528;execute&#x3002; &#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x662F;&#x547D;&#x4EE4;&#xFF0C;&#x6240;&#x6709;&#x968F;&#x540E;&#x7684;&#x5143;&#x7D20;&#x90FD;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x3002; &#x5C3D;&#x7BA1;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x8F83;&#x4E3A;&#x5197;&#x957F;&#xFF08;&#x4E4D;&#x4E00;&#x770B;&#x4E5F;&#x4E0D;&#x592A;&#x76F4;&#x89C2;&#xFF09;&#xFF0C;&#x4F46;&#x5B83;&#x786E;&#x5B9E;&#x6709;&#x6548;&#x3002; &#x6211;&#x4EEC;&#x4E3A;&#x6837;&#x5F0F;&#x70B9;&#x83B7;&#x5F97;-1&#xFF0C;&#x4F46;&#x4E3A;&#x5B8C;&#x6210;&#x5DE5;&#x4F5C;&#x800C;&#x83B7;&#x5F97;+1&#x3002;...</p>
<h3 id="5_6_Running_Multiple_Shell_Commands_at_Once"><a name="5_6_Running_Multiple_Shell_Commands_at_Once" class="anchor-navigation-ex-anchor" href="#5_6_Running_Multiple_Shell_Commands_at_Once"><i class="fa fa-link" aria-hidden="true"></i></a>5.6 &#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x591A;&#x4E2A;Shell&#x547D;&#x4EE4; </h3>
<pre><code class="lang-bash">//<span class="hljs-keyword">in</span> Windows:
println <span class="hljs-string">&quot;cmd /c dir c:\\opt &amp; dir c:\\tmp&quot;</span>.execute().text
//<span class="hljs-keyword">in</span> Unix / Linux / Mac OS X:
println <span class="hljs-string">&quot;ls /opt &amp; ls /tmp&quot;</span>.execute().text
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;&#xFF06;&#x201D;&#x5B57;&#x7B26;&#x5C06;&#x591A;&#x4E2A;shell&#x547D;&#x4EE4;&#x4E32;&#x5728;&#x4E00;&#x8D77;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x4E0E;Groovy&#x65E0;&#x5173;-&#x8FD9;&#x662F;&#x57FA;&#x7840;OS&#x7684;&#x529F;&#x80FD;&#x3002; &#x4E3A;&#x4E86;&#x8BC1;&#x660E;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x8BF7;&#x5C1D;&#x8BD5;&#x76F4;&#x63A5;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x952E;&#x5165;&#x7528;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x6765;&#x7684;&#x547D;&#x4EE4;&#x3002;</p>
<h3 id="5_7_Waiting_for_a_Shell_Command_to_Finish_Before_Continuing"><a name="5_7_Waiting_for_a_Shell_Command_to_Finish_Before_Continuing" class="anchor-navigation-ex-anchor" href="#5_7_Waiting_for_a_Shell_Command_to_Finish_Before_Continuing"><i class="fa fa-link" aria-hidden="true"></i></a>5.7 &#x7B49;&#x5F85;Shell&#x547D;&#x4EE4;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x7EE7;&#x7EED; </h3>
<pre><code class="lang-bash">def p = <span class="hljs-string">&quot;convert -crop 256x256 full.jpg tile.jpg&quot;</span>.execute()
p.waitFor()
println <span class="hljs-string">&quot;ls&quot;</span>.execute().text
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x6709;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x8F83;&#x957F;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x5E0C;&#x671B;&#x5728;&#x7EE7;&#x7EED;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x7B49;&#x5F85;&#x5B83;&#x5B8C;&#x6210;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x547D;&#x4EE4;&#x5206;&#x914D;&#x7ED9;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&quot; .waitFor()&quot;&#x65B9;&#x6CD5;&#x3002; &#x6B64;&#x793A;&#x4F8B;&#x663E;&#x793A;&#x4E86;ImageMagick&#x547D;&#x4EE4;&quot;convert -crop&quot;&#xFF0C;&#x8BE5;&#x547D;&#x4EE4;&#x62CD;&#x6444;&#x5927;&#x56FE;&#x50CF;&#x5E76;&#x5C06;&#x5176;&#x5206;&#x89E3;&#x4E3A;&quot;256 x 256&quot;&#x50CF;&#x7D20;&#x7684;&#x56FE;&#x5757;&#x3002; &#x5728;&#x663E;&#x793A;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x7684;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x4E4B;&#x524D;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x547D;&#x4EE4;&#x5B8C;&#x6210;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x663E;&#x793A;&#x6240;&#x6709;&#x751F;&#x6210;&#x7684;&#x56FE;&#x5757;&#x3002;</p>
<h3 id="5_8_Getting_System_Properties"><a name="5_8_Getting_System_Properties" class="anchor-navigation-ex-anchor" href="#5_8_Getting_System_Properties"><i class="fa fa-link" aria-hidden="true"></i></a>5.8 &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027; </h3>
<pre><code class="lang-bash">println System.getProperty(<span class="hljs-string">&quot;java.version&quot;</span>)
===&gt; 1.5.0_07

System.properties.each{println it}
===&gt;
java.version=1.5.0_07
java.vm.vendor=<span class="hljs-string">&quot;Apple Computer, Inc.&quot;</span>
os.arch=i386
os.name=Mac OS X
os.version=10.4.10
user.home=/Users/sdavis
...
</code></pre>
<p>JVM&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x8212;&#x9002;&#x7684;&#x6C99;&#x7BB1;&#xFF0C;&#x4FDD;&#x62A4;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x4E0D;&#x53D7;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5DEE;&#x5F02;&#x7684;&#x5F71;&#x54CD;&#x3002;Sun&#x521B;&#x9020;&#x4E86;&#x201C;&#x4E00;&#x6B21;&#x7F16;&#x5199;&#xFF0C;&#x968F;&#x5904;&#x8FD0;&#x884C;&#x201D;(WORA)&#x8FD9;&#x4E2A;&#x77ED;&#x8BED;&#x6765;&#x63CF;&#x8FF0;&#x8FD9;&#x79CD;&#x73B0;&#x8C61;&#xFF0C;&#x5C3D;&#x7BA1;&#x8001;&#x524D;&#x8F88;&#x548C;&#x6124;&#x4E16;&#x5AC9;&#x4FD7;&#x8005;&#x5C06;&#x5176;&#x7A0D;&#x4F5C;&#x4FEE;&#x6539;&#x4E3A;&#x201C;&#x4E00;&#x6B21;&#x7F16;&#x5199;&#xFF0C;&#x5230;&#x5904;&#x8C03;&#x8BD5;&#x201D;&#x3002;</p>
<p>&#x60A8;&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#x6240;&#x505A;&#x7684;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x4E8B;&#x60C5;&#x90FD;&#x5C06;WORA&#x89C6;&#x4F5C;&#x773C;&#x4E2D;&#x9489;&#x3002; &#x60A8;&#x6B63;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7EA7;&#x522B;&#x4E0A;&#x4E71;&#x4E03;&#x516B;&#x7CDF;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x5C1D;&#x8BD5;&#x5728;&#x660E;&#x786E;&#x4E3A;&#x5176;&#x7F16;&#x5199;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x8FD0;&#x884C;&#x5B83;&#x4EEC;&#xFF0C;&#x51E0;&#x4E4E;&#x53EF;&#x4EE5;&#x80AF;&#x5B9A;&#x4F1A;&#x7834;&#x574F;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x3002; &#x9274;&#x4E8E;&#x6B64;&#xFF0C;&#x5F88;&#x9AD8;&#x5174;&#x80FD;&#x591F;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x786E;&#x5B9A;&#x60A8;&#x6240;&#x8FD0;&#x884C;&#x7684;&#x786C;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4F7F;&#x7528;&#x7684;JVM&#x7248;&#x672C;&#xFF0C;&#x7B49;&#x7B49;&#x3002; &quot;System.properties&quot;&#x54C8;&#x5E0C;&#x8868;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8FD9;&#x79CD;&#x81EA;&#x7701;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x8981;&#x67E5;&#x627E;&#x7684;&#x53D8;&#x91CF;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x660E;&#x786E;&#x8981;&#x6C42;&#x5B83;&#xFF1B; &#x4F8B;&#x5982;&#xFF0C;<code>System.getProperty(&quot; file.separator&quot;)</code>&#x53EF;&#x8BA9;&#x60A8;&#x77E5;&#x9053;&#x60A8;&#x662F;&#x5904;&#x4E8E;&#x6B63;&#x659C;&#x7EBF;&#x72B6;&#x6001;&#x8FD8;&#x662F;&#x53CD;&#x659C;&#x7EBF;&#x72B6;&#x6001;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x60F3;&#x53BB;&#x901B;&#x8857;&#x3002;&#x8F93;&#x5165;<code>System.properties.each{println it}</code>&#x5141;&#x8BB8;&#x60A8;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x5730;&#x8F93;&#x51FA;&#x5B8C;&#x6574;&#x7684;&#x5C5E;&#x6027;&#x5217;&#x8868;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5C55;&#x793A;&#x8FD0;&#x884C;&#x7CFB;&#x7EDF;&#x4E2D;&#x6240;&#x6709;&#x6709;&#x8DA3;&#x90E8;&#x5206;&#x7684;&#x597D;&#x5DE5;&#x5177;&#x3002;&#x6211;&#x901A;&#x5E38;&#x5728;&#x6BCF;&#x4E2A;&#x751F;&#x4EA7;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;Groovlet&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x5C31;&#x53EF;&#x4EE5;&#x8FDC;&#x7A0B;&#x76D1;&#x89C6;&#x5B83;&#x4EEC;&#x3002;(&#x6709;&#x5173;groovlet&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;2.6&#x8282;&#xFF0C;&#x5728;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;Groovy (groovlet)&#xFF0C;&#x89C1;&#x7B2C;33&#x9875;&#x3002;&#x6709;&#x5173;&#x9632;&#x6B62;&#x79C1;&#x6709;&#x4F4D;&#x6210;&#x4E3A;&#x516C;&#x5171;&#x4F4D;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x5173;&#x4E8E;&#x5B89;&#x5168;&#x57DF;&#x7684;Tomcat&#x6587;&#x6863;<sup><a href="#fn_508" id="reffn_508">508</a></sup>)&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x662F;&#x51FA;&#x73B0;&#x5728;&#x6211;&#x7684;MacBook Pro&#x4E0A;&#x7684;&#x5404;&#x79CD;&#x6709;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;:</p>
<pre><code class="lang-bash">java.version=1.5.0_07
java.vendor=Apple Computer, Inc.
java.vendor.url=http://apple.com/
java.home=/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home
groovy.home=/opt/groovy
java.class.path=/path/to/some.jar:/path/to/another.jar

file.separator=/
path.separator=:
line.separator=[NOTE: this is the OS-specific newline string.]
os.name=Mac OS X
os.version=10.4.10
os.arch=i386

user.dir=/current/dir/<span class="hljs-built_in">where</span>/you/ran/this/script
java.io.tmpdir=/tmp
user.home=/Users/sdavis
user.name=sdavis
user.country=US
user.language=en
</code></pre>
<p><strong>file.separator, path.separator, and line.separator</strong></p>
<blockquote>
<p> &#x60A8;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;&#x8FD9;&#x4E9B;&#x662F;&#x5728;Windows&#x548C;&#x7C7B;unix&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x5DEE;&#x5F02;&#x3002;</p>
</blockquote>
<p><strong>user.dir</strong></p>
<blockquote>
<p> &#x8FD9;&#x662F;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF08;&#x8FD0;&#x884C;&#x7C7B;&#x7684;&#x76EE;&#x5F55;&#xFF09;&#x3002; &#x5982;&#x679C;&#x60A8;&#x8981;&#x67E5;&#x627E;&#x76F8;&#x5BF9;&#x4E8E;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7684;&#x76EE;&#x5F55;&#x548C;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x77E5;&#x9053;<code>user.dir</code>&#x662F;&#x5F88;&#x597D;&#x7684;&#x3002;</p>
</blockquote>
<p><strong>java.io.tmp</strong></p>
<blockquote>
<p> &#x8FD9;&#x662F;&#x5199;&#x5165;&#x77ED;&#x671F;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x7684;&#x597D;&#x5730;&#x65B9;&#x3002; &#x5C3D;&#x7BA1;&#x786E;&#x5207;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#x90FD;&#x5B58;&#x5728;&#x6B64;&#x53D8;&#x91CF;&#x3002; &#x6709;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x5783;&#x573E;&#x573A;&#xFF0C;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5728;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#x90FD;&#x5B58;&#x5728;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9690;&#x85CF;&#x7684;&#x5B9D;&#x77F3;&#x3002; &#x53EA;&#x662F;&#x4E0D;&#x8981;&#x671F;&#x671B;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x4F1A;&#x8D85;&#x51FA;&#x5F53;&#x524D;&#x7684;&#x6267;&#x884C;&#x8303;&#x56F4;&#x3002;</p>
</blockquote>
<p><strong>user.home</strong></p>
<blockquote>
<p> &#x5C3D;&#x7BA1;&#x786E;&#x5207;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x5C0F;&#x7CFB;&#x7EDF;&#xFF08;&#x5982;&#x201C; java.io.tmp&#x201D;&#xFF09;&#x90FD;&#x5B58;&#x5728;&#x4E8E;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#x3002; &#x8FD9;&#x662F;&#x5199;&#x5165;&#x66F4;&#x591A;&#x6C38;&#x4E45;&#x6570;&#x636E;&#x7684;&#x597D;&#x5730;&#x65B9;&#x3002;</p>
</blockquote>
<p><strong>Reading in Custom Values from -D or JAVA_OPTS</strong>
<code>System.properties</code>&#x54C8;&#x5E0C;&#x8868;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E0A;&#x51FA;&#x73B0;&#x7684;&#x65E0;&#x804A;&#x7684;&#x65E7;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x597D;&#x5904;&#x3002; &#x81EA;&#x5B9A;&#x4E49;&#x503C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x4F20;&#x9012;&#x5230;<code>System.properties</code>&#x4E2D;&#x3002; &#x5982;&#x679C;&#x60A8;&#x66FE;&#x7ECF;&#x5728;Ant&#x76EE;&#x6807;&#x4E2D;&#x4F7F;&#x7528;&#x8FC7;&#x201C;-D&#x201D;&#x53C2;&#x6570;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;<code>ant -Dserver.port = 9090 deploy</code>&#xFF09;&#xFF0C;&#x5219;&#x60A8;&#x77E5;&#x9053;&#x5B83;&#x4EEC;&#x4E5F;&#x4F1A;&#x663E;&#x793A;&#x5728;<code>System.properties</code>&#x4E2D;&#xFF08;System.getProperty(&quot;server.port&quot;)&#xFF09;&#x3002; &#x5B58;&#x50A8;&#x5728;<code>JAVA_OPTS</code>&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x503C;&#x4E5F;&#x663E;&#x793A;&#x5728;<code>System.properties</code>&#x4E2D;&#x3002;</p>
<h3 id="5_9_Getting_Environment_Variables"><a name="5_9_Getting_Environment_Variables" class="anchor-navigation-ex-anchor" href="#5_9_Getting_Environment_Variables"><i class="fa fa-link" aria-hidden="true"></i></a>5.9 &#x83B7;&#x53D6;&#x73AF;&#x5883;&#x53D8;&#x91CF; </h3>
<pre><code class="lang-groovy">println System.getenv(<span class="hljs-string">&quot;JAVA_HOME&quot;</span>)
===&gt; <span class="hljs-regexp">/Library/</span>Java/Home

System.env.each{println it}
===&gt;
PWD=<span class="hljs-regexp">/Users/</span>sdavis<span class="hljs-regexp">/groovybook/</span>Book<span class="hljs-regexp">/code/</span>cli
USER=sdavis
LOGNAME=sdavis
HOME=<span class="hljs-regexp">/Users/</span>sdavis
GROOVY_HOME=<span class="hljs-regexp">/opt/</span>groovy
GRAILS_HOME=<span class="hljs-regexp">/opt/</span>grails
JAVA_HOME=<span class="hljs-regexp">/Library/</span>Java/Home
JRE_HOME=<span class="hljs-regexp">/Library/</span>Java/Home
JAVA_OPTS= -Dscript.name=<span class="hljs-regexp">/opt/</span>groovy<span class="hljs-regexp">/bin/</span>groovy
SHELL=<span class="hljs-regexp">/bin/</span>bash
PATH=<span class="hljs-regexp">/opt/</span>local<span class="hljs-regexp">/bin:/</span>usr<span class="hljs-regexp">/local/</span><span class="hljs-string">bin:</span>...
</code></pre>
<p>&#x4E0E;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;&#x7C7B;&#x4F3C;&#xFF08;&#x5982;&#x7B2C;5.8&#x8282;&#xFF0C;&#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;&#xFF0C;&#x5728;&#x7B2C;92&#x9875;&#x4E2D;&#x6240;&#x8FF0;&#xFF09;&#xFF0C;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x6316;&#x6398;&#x7CFB;&#x7EDF;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x4E30;&#x5BCC;&#x9014;&#x5F84;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x8981;&#x67E5;&#x627E;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x660E;&#x786E;&#x8981;&#x6C42;&#x5B83;&#xFF1B; &#x4F8B;&#x5982;&#xFF0C;<code>System.getenv(&quot;GROOVY_HOME&quot;)</code>&#x53EF;&#x8BA9;&#x60A8;&#x77E5;&#x9053;Groovy&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x3002; &#x8981;&#x904D;&#x5386;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x8BF7;&#x6267;&#x884C;<code>System.env.each {println it}</code>&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x80FD;&#x4F1A;&#x6CE8;&#x610F;&#x5230;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x548C;&#x7CFB;&#x7EDF;&#x53D8;&#x91CF;&#x4E4B;&#x95F4;&#x6709;&#x4E00;&#x4E9B;&#x91CD;&#x53E0;&#x3002; &#x4F8B;&#x5982;&#xFF0C;<code>System.getProperty(&quot;groovy.home&quot;)</code>&#x548C;<code>System. getenv(&quot;GROOVY_HOME&quot;)</code>&#x90FD;&#x5F97;&#x5230;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;<code>/opt/groovy</code>&#x3002; &#x6709;&#x65F6;&#xFF0C;&#x60A8;&#x8981;&#x67E5;&#x627E;&#x7684;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x6216;&#x53E6;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x627E;&#x5230;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5217;&#x8868;&#x53EF;&#x80FD;&#x5305;&#x542B;&#x672A;&#x51FA;&#x73B0;&#x5728;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4F8B;&#x5982;TOMCAT_HOME&#xFF0C;JBOSS_HOME&#x548C;ANT_HOME&#x3002;</p>
<p>&#x50CF;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x4E00;&#x6837;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x63D0;&#x4F9B;&#x7ED9;&#x60A8;&#x90FD;&#x5F88;&#x91CD;&#x8981;&#x3002; &#x60A8;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x8C03;&#x6574;&#x53EF;&#x80FD;&#x901A;&#x8FC7;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6216;<code>-D</code>&#x53C2;&#x6570;&#x8FDB;&#x5165;&#x3002; &#x8FD9;&#x4E9B;&#x53D8;&#x91CF;&#x53EF;&#x80FD;&#x4F1A;&#x5C06;&#x60A8;&#x6307;&#x5411;&#x7528;&#x6237;&#x7684;&#x4E3B;&#x76EE;&#x5F55;&#x6216;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;<code>server.xml</code>&#xFF0C;<code>struts-config.xml</code>&#x6216;<code>.bash_profile</code>&#x3002; &#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x65E0;&#x8BBA;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x7279;&#x5B9A;&#x673A;&#x5236;&#xFF0C;&#x60A8;&#x90FD;&#x5C06;&#x80FD;&#x591F;&#x7BA1;&#x7406;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x3002;</p>
<h3 id="5_10_Evaluating_a_String"><a name="5_10_Evaluating_a_String" class="anchor-navigation-ex-anchor" href="#5_10_Evaluating_a_String"><i class="fa fa-link" aria-hidden="true"></i></a>5.10 &#x8BA1;&#x7B97;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> s = <span class="hljs-string">&quot;Scott&quot;</span>
<span class="hljs-keyword">def</span> cmdName = <span class="hljs-string">&quot;size&quot;</span>
evaluate(<span class="hljs-string">&quot;println s.${cmdName}()&quot;</span>)
===&gt; <span class="hljs-number">5</span>
cmdName = <span class="hljs-string">&quot;toUpperCase&quot;</span>
evaluate <span class="hljs-string">&quot;println s.${cmdName}()&quot;</span>
===&gt; SCOTT
</code></pre>
<p>&#x5728;&#x7B2C;89&#x9875;&#x7684;5.4&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;&#x5982;&#x4F55;&#x5BF9;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#x8C03;&#x7528;execute&#x3002;evaluate&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x7565;&#x6709;&#x4E0D;&#x540C;&#x3002;</p>
<p>evaluate&#x4E0D;&#x8FD0;&#x884C;shell&#x547D;&#x4EE4;&#xFF0C;&#x800C;&#x662F;&#x5141;&#x8BB8;&#x60A8;&#x4EE5;Groovy&#x4EE3;&#x7801;&#x7684;&#x5F62;&#x5F0F;&#x52A8;&#x6001;&#x6267;&#x884C;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x52A8;&#x6001;&#x5730;&#x8C03;&#x7528;&#x4E86;String&#x7684;<code>size()</code>&#x548C;<code>toUpperCase()</code>&#x4E0A;&#x7684;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;(&#x4F60;&#x6CE8;&#x610F;&#x5230;&#x7B2C;&#x4E8C;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;&#x53EF;&#x9009;&#x62EC;&#x53F7;&#x4E86;&#x5417;?)&#x8FD9;&#x5E26;&#x6765;&#x4E86;&#x4E00;&#x4E9B;&#x6709;&#x8DA3;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x80FD;&#x591F;&#x8FED;&#x4EE3;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x5E76;&#x8C03;&#x7528;&#x5B83;&#x4EEC;:</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//<span class="hljs-doctag">NOTE:</span> This is pseudocode -- it won&apos;t actually run</span>
<span class="hljs-keyword">def</span> s = <span class="hljs-string">&quot;Scott&quot;</span>
s.<span class="hljs-keyword">class</span>.methods.each{cmdName -&gt;
  evaluate(<span class="hljs-string">&quot;s.${cmdName}()&quot;</span>)
}
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x6B64;&#x793A;&#x4F8B;&#x65E0;&#x6CD5;&#x6309;&#x4E66;&#x9762;&#x5F62;&#x5F0F;&#x8FD0;&#x884C;-&#x5B83;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x4E00;&#x4E9B;&#x5B57;&#x7B26;&#x4E32;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x201C;s.substring(2,4)&#x201D;&#x5B83;&#x663E;&#x793A;&#x4E86;&#x52A8;&#x6001;&#x8BC4;&#x4F30;Groovy&#x4EE3;&#x7801;&#x7684;&#x6F5C;&#x5728;&#x4EF7;&#x503C;&#x3002;&#x5B83;&#x4E5F;&#x5F88;&#x597D;&#x5730;&#x8BF4;&#x660E;&#x4E86;&#x5176;&#x4E2D;&#x7684;&#x98CE;&#x9669;&#x3002;&#x5982;&#x679C;&#x60A8;&#x76F2;&#x76EE;&#x5730;&#x63A5;&#x53D7;&#x7EC8;&#x7AEF;&#x7528;&#x6237;&#x7684;&#x547D;&#x4EE4;&#x5E76;&#x52A8;&#x6001;&#x5730;&#x6267;&#x884C;&#x5B83;&#x4EEC;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x5E94;&#x8BE5;&#x4E3A;&#x53D1;&#x9001;&#x7ED9;&#x60A8;<code>rm -Rf /</code>&#x7684;&#x811A;&#x672C;&#x51C6;&#x5907;&#x597D;&#x3002;&#x6709;&#x5173;&#x52A8;&#x6001;&#x8BC4;&#x4F30;&#x65B9;&#x6CD5;&#x7684;&#x5DE5;&#x4F5C;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;10.4&#x8282;&#xFF0C;&#x7C7B;&#x65B9;&#x6CD5;&#x7684;&#x53D1;&#x73B0;&#xFF0C;&#x89C1;&#x7B2C;188&#x9875;&#x3002;</p>
<h3 id="5_11_Calling_Another_Groovy_Script"><a name="5_11_Calling_Another_Groovy_Script" class="anchor-navigation-ex-anchor" href="#5_11_Calling_Another_Groovy_Script"><i class="fa fa-link" aria-hidden="true"></i></a>5.11 &#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;Groovy&#x811A;&#x672C; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">// hello.groovy</span>
println <span class="hljs-string">&quot;Howdy&quot;</span>

<span class="hljs-comment">// goodbye.groovy</span>
hello.main()
println <span class="hljs-string">&quot;Goodbye&quot;</span>
</code></pre>
<p>&#x60A8;&#x53EF;&#x80FD;&#x4E00;&#x76F4;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;Java&#x7C7B;&#x4E2D;&#x8C03;&#x7528;&#x4E00;&#x4E2A;Java&#x7C7B;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5305;&#x4E2D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;&#x8C03;&#x7528;: &quot;AnotherClass.doSomething();&quot;&#x3002;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x4F4D;&#x4E8E;&#x5355;&#x72EC;&#x7684;&#x5305;&#x4E2D;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x5305;&#x6216;&#x5B8C;&#x5168;&#x9650;&#x5B9A;&#x7C7B;: &quot;com.else.anotherclass.dosomething();&quot;&#x3002;&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;Groovy&#x811A;&#x672C;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;Groovy&#x811A;&#x672C;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x57FA;&#x672C;&#x76F8;&#x540C;&#x3002;&#x53EA;&#x8981;&#x60A8;&#x8BB0;&#x4F4F;Groovy&#x4EE3;&#x7801;&#x88AB;&#x52A8;&#x6001;&#x5730;&#x7F16;&#x8BD1;&#x4E3A;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x5C31;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x51FA;&#x9519;&#x3002;</p>
<p>&#x5728;&#x524D;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&quot;hello.groovy&quot;&#x88AB;&#x7F16;&#x8BD1;&#x6210;&#x5982;&#x4E0B;&#x7B49;&#x4EF7;&#x7684;Java&#x4EE3;&#x7801;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">hello</span>{</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args){
    System.out.println(<span class="hljs-string">&quot;Howdy&quot;</span>);
  }
}
</code></pre>
<p>&#x5C0F;&#x5199;&#x7684;&#x7C7B;&#x540D;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x5F88;&#x5947;&#x602A;&#xFF0C;&#x4F46;Groovy&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x540D;&#x4F5C;&#x4E3A;&#x7C7B;&#x540D;&#x3002;(&#x542C;&#x8D77;&#x6765;&#x5F88;&#x719F;&#x6089;&#x5417;?)&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x5C01;&#x88C5;&#x5728;&#x51FD;&#x6570;/&#x95ED;&#x5305;/&#x811A;&#x672C;&#x7684;&quot;public static void main(String[ ] args)&quot;&#x4E2D;&#x7684;&#x811A;&#x672C;&#x5185;&#x5BB9;&#x3002;&#x4F4D;&#x4E8E;&#x76F8;&#x540C;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x811A;&#x672C;&#x5B9E;&#x9645;&#x4E0A;&#x4F4D;&#x4E8E;&#x76F8;&#x540C;&#x7684;&#x5305;&#x4E2D;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8C03;&#x7528;&#x4E0E;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x76F8;&#x540C;&#x7684;&#x811A;&#x672C;&#x4E0E;&#x8C03;&#x7528;&#x7C7B;&#x4E0A;&#x7684;&#x9759;&#x6001;main&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x7B80;&#x5355;&#x3002;</p>
<p><strong>&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x811A;&#x672C;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">//hello2.groovy</span>
<span class="hljs-keyword">if</span>(args){
  println <span class="hljs-string">&quot;Hello ${args[0]}&quot;</span>
  <span class="hljs-keyword">if</span>(args.size() &gt; <span class="hljs-number">1</span>){
    println <span class="hljs-string">&quot;...and your little dog, too: ${args[1]}&quot;</span>
  }
}

<span class="hljs-comment">//goodbye2.groovy</span>
hello2.main()
hello2.main(<span class="hljs-string">&quot;Glenda&quot;</span>)
hello2.main(<span class="hljs-string">&quot;Dorothy&quot;</span>, <span class="hljs-string">&quot;Toto&quot;</span>)
println <span class="hljs-string">&quot;Goodbye&quot;</span>
</code></pre>
<p>&#x7531;&#x4E8E;&#x811A;&#x672C;&#x4F53;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&quot;public static void main(String[ ] args)&quot;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x3002;</p>
<p><strong>&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x4E2D;&#x8C03;&#x7528;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">//hello3.groovy</span>
<span class="hljs-keyword">if</span>(args){
  println <span class="hljs-string">&quot;Hello ${args[0]}&quot;</span>
  <span class="hljs-keyword">if</span>(args.size() &gt; <span class="hljs-number">1</span>){
    println <span class="hljs-string">&quot;...and your little dog, too: ${args[1]}&quot;</span>
  }
}

<span class="hljs-keyword">def</span> sayHola(){
  println <span class="hljs-string">&quot;Hola&quot;</span>
}

<span class="hljs-comment">//goodbye3.groovy</span>
hello3.main()
hello3.main(<span class="hljs-string">&quot;Glenda&quot;</span>)
hello3.main(<span class="hljs-string">&quot;Dorothy&quot;</span>, <span class="hljs-string">&quot;Toto&quot;</span>)
println <span class="hljs-string">&quot;Goodbye&quot;</span>
h = <span class="hljs-keyword">new</span> hello3()
h.sayHola()
</code></pre>
<p>&#x5982;&#x679C;&#x5176;&#x4ED6;&#x811A;&#x672C;&#x6709;&#x9759;&#x6001;&#x65B9;&#x6CD5;(&#x5982;main)&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x9759;&#x6001;&#x5730;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x3002;&#x5982;&#x679C;&#x5176;&#x4ED6;&#x811A;&#x672C;&#x5B9A;&#x4E49;&#x4E86;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x5728;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x4E4B;&#x524D;&#x5B9E;&#x4F8B;&#x5316;&#x811A;&#x672C;&#x3002;</p>
<p><strong>&#x8C03;&#x7528;&#x4E0D;&#x540C;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x811A;&#x672C;</strong></p>
<pre><code class="lang-groovy">evaluate(<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;/some/other/dir/hello.groovy&quot;</span>))
</code></pre>
<p>&#x6211;&#x4EEC;&#x7684;&#x670B;&#x53CB;<code>evaluate</code>&#x53C8;&#x6765;&#x4E86;&#x3002;(&#x53C2;&#x89C1;&#x7B2C;95&#x9875;&#x7B2C;5.10&#x8282;&#xFF0C;&#x6C42;&#x503C;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7528;&#x4E8E;&#x6C42;&#x503C;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x7528;&#x6CD5;&#x3002;)&#x8FD9;&#x4E00;&#x6B21;&#xFF0C;&#x60A8;&#x8981;&#x8BA1;&#x7B97;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x8C03;&#x7528;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4E3B;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x8BD5;&#x56FE;&#x4F7F;&#x7528;&#x811A;&#x672C;&#x5230;&#x811A;&#x672C;&#x7684;&#x8C03;&#x7528;&#x6765;&#x505A;&#x6BD4;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x8FC7;&#x7684;&#x66F4;&#x590D;&#x6742;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6211;&#x7684;&#x5EFA;&#x8BAE;&#x662F;&#x5C06;&#x60A8;&#x7684;&#x811A;&#x672C;&#x7F16;&#x8BD1;&#x6210;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x5C06;&#x5B83;&#x4EEC;&#x653E;&#x5728;&#x60A8;&#x9009;&#x62E9;&#x7684;&#x5305;&#x4E2D;&#xFF0C;&#x5C06;&#x5B83;&#x4EEC;&#x6253;&#x5305;&#xFF0C;&#x7136;&#x540E;&#x50CF;&#x8C03;&#x7528;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;Java&#x7C7B;&#x4E00;&#x6837;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x3002;</p>
<h3 id="5_12_Groovy_on_the_Fly__groovy__e_"><a name="5_12_Groovy_on_the_Fly__groovy__e_" class="anchor-navigation-ex-anchor" href="#5_12_Groovy_on_the_Fly__groovy__e_"><i class="fa fa-link" aria-hidden="true"></i></a>5.12 &#x52A8;&#x6001;&#x7684;Groovy (Groovy -e) </h3>
<pre><code class="lang-bash">$ groovy <span class="hljs-_">-e</span> <span class="hljs-string">&quot;println System.properties[&apos;java.class.path&apos;]&quot;</span>
===&gt;
/opt/groovy/lib/groovy-1.1-beta-2.jar:/System/Library/Frameworks
/JavaVM.framework/Versions/1.5.0/Classes/.compatibility/14compatibility.jar
</code></pre>
<p>Groovy&#x4F7F;&#x5FEB;&#x901F;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x53D8;&#x5F97;&#x5F88;&#x5BB9;&#x6613;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4FDD;&#x5B58;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5E76;&#x7ACB;&#x5373;&#x8FD0;&#x884C;&#x5B83;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;&#x7684;Groovy shell&#x6216;Groovy&#x63A7;&#x5236;&#x53F0;&#x6765;&#x4EA4;&#x4E92;&#x5730;&#x4F7F;&#x7528;&#x8BE5;&#x8BED;&#x8A00;&#x3002;&#x4F46;&#x662F;&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x8FD0;&#x884C;Groovy&#x7684;&#x4E00;&#x884C;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#x3002;<code>-e</code>&#x6807;&#x5FD7;&#x544A;&#x8BC9;Groovy&#x5BF9;&#x521A;&#x521A;&#x4F20;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6C42;&#x503C;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x8BBE;&#x60A8;&#x6B63;&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0A;&#x62FE;&#x53D6;&#x4E00;&#x4E2A;&#x5947;&#x602A;&#x7684;JAR&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x4F3C;Unix&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#x952E;&#x5165;&quot;echo $CLASSPATH&quot;&#x6765;&#x67E5;&#x770B;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x662F;&#x7F6A;&#x9B41;&#x7978;&#x9996;&#x3002; &#xFF08;&#x5728;Windows&#x7CFB;&#x7EDF;&#x4E0A;&#x8BBE;&#x7F6E;&#x5C06;&#x83B7;&#x5F97;&#x76F8;&#x4F3C;&#x7684;&#x7ED3;&#x679C;&#x3002;&#xFF09;&#x5982;&#x679C;&#x7C7B;&#x8DEF;&#x5F84;&#x663E;&#x793A;&#x4E3A;&#x7A7A;&#xFF0C;&#x90A3;&#x4E48;&#x8BA8;&#x538C;&#x7684;JAR&#x53EF;&#x4EE5;&#x5728;&#x8BB8;&#x591A;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x6F5C;&#x5165;&#x3002; &#x67E5;&#x770B; &quot;$JAVA_HOME/lib, $JAVA_HOME/lib/ext, &#x548C; $GROOVY_HOME/lib&quot;&#xFF0C;&#x4EE5;&#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;&#x4EFB;&#x4F55;&#x964C;&#x751F;&#x4EBA;&#x6F5C;&#x4F0F;&#x3002; &#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x5C06;&#x5411;&#x60A8;&#x7CBE;&#x786E;&#x663E;&#x793A;JRE&#x6240;&#x770B;&#x5230;&#x7684;&#x5185;&#x5BB9;-&#x60A8;&#x53EF;&#x4EE5;&#x4ECE;&#x90A3;&#x91CC;&#x67E5;&#x627E;&#x5165;&#x4FB5;&#x8005;&#x3002;</p>
<h3 id="5_13_Including_JARs_at_the_Command_Line"><a name="5_13_Including_JARs_at_the_Command_Line" class="anchor-navigation-ex-anchor" href="#5_13_Including_JARs_at_the_Command_Line"><i class="fa fa-link" aria-hidden="true"></i></a>5.13 &#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x5305;&#x542B;JAR </h3>
<pre><code class="lang-bash">$ groovy -classpath ~/lib/derbyclient.jar:~/lib/jdom.jar:. db2xml.groovy
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x6709;&#x4F9D;&#x8D56;&#x4E8E;&#x5176;&#x4ED6;&#x5E93;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;JAR&#x5217;&#x8868;&#x5411;groovy&#x4F20;&#x9012;<code>-classpath</code>&#x5F00;&#x5173;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x4E0E;&#x4ECE;&#x547D;&#x4EE4;&#x884C;&#x8FD0;&#x884C;Java&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#x3002; &#x8981;&#x8FD0;&#x884C;&#x6211;&#x4EEC;&#x7684;&quot;db2xml.groovy&quot;&#x811A;&#x672C;&#xFF0C;&#x8BE5;&#x811A;&#x672C;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x548C;XML&#x5E93;&#x5C31;&#x4E0D;&#x8DB3;&#x4E3A;&#x5947;&#x4E86;&#x3002;</p>
<p><strong>&#x5728;<code>.groovy/lib</code>&#x76EE;&#x5F55;&#x4E2D;&#x81EA;&#x52A8;&#x5305;&#x62EC;JAR</strong></p>
<pre><code class="lang-bash">//on Windows:
mkdir C:\Documents and Settings\UserName\.groovy\lib

//on Unix, Linux, and Mac OS X:
mkdir ~/.groovy/lib

// uncomment the following line <span class="hljs-keyword">in</span>
// <span class="hljs-variable">$GROOVY_HOME</span>/conf/groovy-starter.conf
<span class="hljs-comment"># load user specific libraries</span>
load !{user.home}/.groovy/lib/*.jar
</code></pre>
<p>&#x60A8;&#x5F88;&#x5FEB;&#x5C31;&#x4F1A;&#x538C;&#x5026;&#x4E86;&#x6BCF;&#x6B21;&#x90FD;&#x5FC5;&#x987B;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E0A;&#x952E;&#x5165;&#x5E38;&#x7528;&#x7684;JAR&#xFF08;&#x4F8B;&#x5982;JDBC&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF09;&#x3002; &#x5982;&#x679C;&#x5728;&#x4E3B;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;<code>.groovy/lib</code>&#x76EE;&#x5F55;&#xFF08;&#x8BF7;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x524D;&#x5BFC;&#x70B9;&#xFF09;&#xFF0C;&#x5219;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x8FD0;&#x884C;Groovy&#x65F6;&#xFF0C;&#x5728;&#x6B64;&#x76EE;&#x5F55;&#x4E2D;&#x627E;&#x5230;&#x7684;&#x6240;&#x6709;JAR&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x5305;&#x542B;&#x5728;CLASSPATH&#x4E2D;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>.groovy/lib</code>&#x76EE;&#x5F55;&#x662F;&#x7981;&#x7528;&#x7684;&#xFF1B; &#x786E;&#x4FDD;&#x5728;<code>$GROOVY_HOME/conf/groovy-starter.conf</code>&#x4E2D;&#x542F;&#x7528;&#x5B83;&#x3002;</p>
<h2 id="6_File_Tricks"><a name="6_File_Tricks" class="anchor-navigation-ex-anchor" href="#6_File_Tricks"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;6&#x7AE0; &#x6587;&#x4EF6;&#x7684;&#x6280;&#x5DE7; </h2>
<p>Groovy&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x7684;&#x6377;&#x5F84;&#x3002; &#x5217;&#x51FA;&#x6587;&#x4EF6;&#xFF0C;&#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6;&#xFF0C;&#x5220;&#x9664;&#x6587;&#x4EF6;-Groovy&#x4E3A;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x5E73;&#x51E1;&#x7684;&#x4EFB;&#x52A1;&#x5E26;&#x6765;&#x4E86;&#x53EF;&#x559C;&#x7684;&#x5E2E;&#x52A9;&#x3002; Groovy&#x76F4;&#x63A5;&#x5411;&#x6807;&#x51C6;JDK&#x7C7B;&#xFF08;&#x4F8B;&#x5982;java.io.File&#xFF09;&#x6DFB;&#x52A0;&#x65B0;&#x65B9;&#x6CD5;&#x7684;&#x4E8B;&#x5B9E;&#x4F7F;&#x8FD9;&#x4E9B;&#x65B0;&#x529F;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x662F;&#x8BE5;&#x8BED;&#x8A00;&#x7684;&#x81EA;&#x7136;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#x3002;</p>
<p>&#x5065;&#x58EE;&#x7684;Java&#x6784;&#x5EFA;&#x5DE5;&#x5177;Ant&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#x4E5F;&#x6709;&#x5BA2;&#x4E32;&#x51FA;&#x73B0;&#x3002; Ant&#x8FDC;&#x8FDC;&#x8D85;&#x51FA;&#x4E86;&#x6807;&#x51C6;Java I/O&#x5E93;&#x529F;&#x80FD;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#xFF08;&#x5982;&#x6279;&#x5904;&#x7406;&#x64CD;&#x4F5C;&#x548C;ZIP&#x6587;&#x4EF6;&#xFF09;&#x7684;&#x652F;&#x6301;&#x3002; &#x5373;&#x4F7F;Ant&#x662F;&#x7528;Java&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x4F46;&#x5927;&#x591A;&#x6570;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x719F;&#x6089;&#x7684;&#x63A5;&#x53E3;&#x662F;&#x666E;&#x904D;&#x5B58;&#x5728;&#x7684;build.xml&#x6587;&#x4EF6;&#x3002; Groovy&#x5BF9;XML&#x7684;&#x672C;&#x673A;&#x652F;&#x6301;&#x5728;&#x7B2C;7&#x7AE0;&#x201C;&#x89E3;&#x6790;XML&#x201D;&#xFF08;&#x7B2C;116&#x9875;&#xFF09;&#x548C;&#x7B2C;8&#x7AE0;&#x201C;&#x7F16;&#x5199;XML&#x201D;&#xFF08;&#x7B2C;136&#x9875;&#xFF09;&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x5E7F;&#x6CDB;&#x8BA8;&#x8BBA;&#x3002;&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#xFF0C;&#x60A8;&#x5C06;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x8BF4;&#x660E;&#x5982;&#x4F55;&#x5728;AntBuilder&#x4E2D;&#x4F7F;&#x7528;&#x5B83;-&#x6240;&#x6709;&#x529F;&#x80FD; Ant&#xFF0C;&#x6CA1;&#x6709;XML&#x3002; &#x4E00;&#x8DEF;&#x90FD;&#x662F;&#x7EAF;&#x4EE3;&#x7801;&#xFF1B; &#x60A8;&#x518D;&#x4E5F;&#x4E0D;&#x4F1A;&#x4EE5;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x67E5;&#x770B;&#x6784;&#x5EFA;&#x6587;&#x4EF6;&#x4E86;&#x3002;</p>
<h3 id="6_1_Listing_All_Files_in_a_Directory"><a name="6_1_Listing_All_Files_in_a_Directory" class="anchor-navigation-ex-anchor" href="#6_1_Listing_All_Files_in_a_Directory"><i class="fa fa-link" aria-hidden="true"></i></a>6.1 &#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFile{file -&gt;
  println file
}

<span class="hljs-comment">//prints both files and directories</span>
===&gt;
./error.jsp
./GroovyLogo.zip
./index.jsp
./META-INF
./result.jsp
./WEB-INF
</code></pre>
<p>Groovy&#x6DFB;&#x52A0;&#x5230;&#x6807;&#x51C6;java.io.File&#x4E2D;&#x7684;eachFile&#x65B9;&#x6CD5;&#x4F7F;&#x663E;&#x793A;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x7684;&#x5DE5;&#x4F5C;&#x5F88;&#x7B80;&#x5355;&#x3002; &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x8981;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF08;&quot;.&quot;&#xFF09;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x5B8C;&#x5168;&#x9650;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x540D;&#x79F0;&#xFF1A;<code>new File(&quot;/opt/tomcat/webapps/myapp&quot;)</code>&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x8BA9;&#x60A8;&#x4E86;&#x89E3;Groovy&#x4E3A;&#x60A8;&#x4FDD;&#x5B58;&#x7684;&#x51FB;&#x952E;&#x4FE1;&#x606F;&#xFF0C;&#x4E0B;&#x9762;&#x662F;Java&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x4EE3;&#x7801;:</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> java.io.File;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DirList</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
    File dir = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>);
    File[] files = dir.listFiles();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; files.length; i++) {
      File file = files[i];
      System.out.println(file);
    }
  }
}
</code></pre>
<p>&#x540C;&#x6837;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x6CE8;&#x610F;&#x5230;Groovy&#x589E;&#x5F3A;&#x4E86;Java&#x9644;&#x5E26;&#x7684;&#x5BF9;&#x8C61;<code>Java.io.file</code>&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6240;&#x6709;&#x6807;&#x51C6;&#x7684;JDK&#x65B9;&#x6CD5;&#x548C;&#x65B0;&#x7684;Groovy&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x53EF;&#x7528;&#x7684;&#x3002;<code>eachFile</code>&#x65B9;&#x6CD5;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x4E2D;&#xFF0C;&#x5982;&#x7B2C;10.11&#x8282;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5728;&#x7B2C;198&#x9875;&#x52A8;&#x6001;&#x5730;&#x5C06;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x4E2D;(ExpandoMetaClass)&#x3002;&#x67E5;&#x770B;&#x6DFB;&#x52A0;&#x5230;java.io&#x4E2D;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x6587;&#x4EF6;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;GDK&#x6587;&#x6863;<sup><a href="#fn_601" id="reffn_601">601</a></sup>&#x3002;</p>
<p><strong>&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;</strong></p>
<pre><code class="lang-groovy">$ groovy list <span class="hljs-regexp">/some/</span>other/dir

<span class="hljs-comment">//list.groovy:</span>
<span class="hljs-keyword">new</span> File(args[<span class="hljs-number">0</span>]).eachFile{file -&gt;
  println file
}
</code></pre>
<p>&#x5BF9;&#x4E8E;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x7684;&#x66F4;&#x7075;&#x6D3B;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x501F;&#x9274;&#x7B2C;5.3&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x6280;&#x5DE7;&#xFF0C;&#x5373;&#x63A5;&#x53D7;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x89C1;&#x7B2C;88&#x9875;&#x3002;&#x5047;&#x8BBE;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x4FDD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>list.groovy</code>&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x4F20;&#x9012;&#x4EFB;&#x4F55;&#x76EE;&#x5F55;&#x540D;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;</p>
<p><strong>&#x4EC5;&#x5217;&#x51FA;&#x76EE;&#x5F55;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachDir{dir -&gt;
  println dir
}

===&gt;
./META-INF
./WEB-INF
</code></pre>
<p>&#x8981;&#x5C06;&#x8F93;&#x51FA;&#x9650;&#x5236;&#x4E3A;&#x76EE;&#x5F55;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<code>File.eachDir</code>&#x3002; &#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>File.eachDirRecurse</code>&#x904D;&#x5386;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#x6811;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachDirRecurse{dir -&gt;
  println dir
}

===&gt;
./META-INF
./WEB-INF
.<span class="hljs-regexp">/WEB-INF/</span>classes
.<span class="hljs-regexp">/WEB-INF/</span>classes/org
.<span class="hljs-regexp">/WEB-INF/</span>classes<span class="hljs-regexp">/org/</span>davisworld
.<span class="hljs-regexp">/WEB-INF/</span>lib
</code></pre>
<p><strong>&#x4EC5;&#x5217;&#x51FA;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFile{file -&gt;
  <span class="hljs-keyword">if</span>(file.isFile()){
    println file
  }
}

===&gt;
./error.jsp
./GroovyLogo.zip
./index.jsp
./result.jsp
</code></pre>
<p>&#x5728;&#x672C;&#x8282;&#x7684;&#x5F00;&#x5934;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;<code>File.eachFile</code>&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x3002; &#xFF08;&#x4E0D;&#x8981;&#x602A;Groovy&#xFF0C;&#x8FD9;&#x53CD;&#x6620;&#x4E86;<code>File.listFiles</code>&#x7684;&#x6807;&#x51C6;JDK&#x884C;&#x4E3A;&#x3002;&#xFF09;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x79CD;&#x6807;&#x51C6;JDK&#x65B9;&#x6CD5;&#x6765;&#x8FC7;&#x6EE4;&#x8F93;&#x51FA;&#xFF1A;<code>File.isFile</code>&#x3002;</p>
<p>Groovy&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>File.eachFileRecurse</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x67E5;&#x770B;&#x76EE;&#x5F55;&#x6811;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFileRecurse{file -&gt;
  <span class="hljs-keyword">if</span>(file.isFile()){
    println file
  }
}

===&gt;
./error.jsp
./GroovyLogo.zip
./index.jsp
./result.jsp
.<span class="hljs-regexp">/META-INF/</span>MANIFEST.MF
.<span class="hljs-regexp">/WEB-INF/</span>web.xml
.<span class="hljs-regexp">/WEB-INF/</span>classes<span class="hljs-regexp">/org/</span>davisworld/MyServlet.<span class="hljs-keyword">class</span>
.<span class="hljs-regexp">/WEB-INF/</span>lib/groovy.jar
</code></pre>
<p><strong>&#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFile{file -&gt;
  <span class="hljs-keyword">if</span>(file.name.endsWith(<span class="hljs-string">&quot;.jsp&quot;</span>)){
    println file
  }
}
===&gt;
./error.jsp
./index.jsp
./result.jsp
</code></pre>
<p>if&#x8BED;&#x53E5;&#x662F;&#x4E00;&#x4E2A;&#x5C06;Groovy&#x548C;Java&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x7684;&#x5B8C;&#x7F8E;&#x793A;&#x4F8B;&#x3002;<code>file.name</code>&#x662F;Groovy&#x4E2D;&#x7684;<code>file.getName()</code>&#xFF0C;&#x5982;&#x7B2C;72&#x9875;4.2&#x8282;&#x201C;Getter&#x548C;Setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#x201D;&#x4E2D;&#x6240;&#x8FF0;&#x3002;name&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8BE5;&#x5B57;&#x7B26;&#x4E32;&#x5141;&#x8BB8;&#x60A8;&#x4F7F;&#x7528;&#x6807;&#x51C6;JDK <code>endsWith()</code>&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x662F;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7231;&#x597D;&#x8005;&#xFF0C;Groovy&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>File.eachFileMatch</code>&#x65B9;&#x6CD5;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFileMatch(<span class="hljs-regexp">~/.*\.jsp/</span>){file -&gt;
  println file
}
</code></pre>
<p><code>File.eachFileMatch</code>&#x5728;&#x6280;&#x672F;&#x4E0A;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x5177;&#x6709;&#x5E03;&#x5C14;&#x65B9;&#x6CD5;<code>isCase(String s)</code>&#x7684;&#x7C7B;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x6765;&#x5305;&#x542B;&#x4E00;&#x4E2A;JspFilter&#x7C7B;:</p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JspFilter</span> {</span>
  <span class="hljs-keyword">boolean</span> isCase(String filename) {
    <span class="hljs-keyword">return</span> filename.endsWith(<span class="hljs-string">&quot;.jsp&quot;</span>)
  }
}

<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFileMatch(<span class="hljs-keyword">new</span> JspFilter()){file -&gt;
  println file
}
</code></pre>
<p>&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;<code>File.eachFileMatch</code>&#x5C06;<code>File.getName()</code>&#x4F20;&#x9012;&#x7ED9;&#x8FC7;&#x6EE4;&#x5668;&#x7C7B;&#xFF0C;&#x800C;&#x4E0D;&#x662F;<code>File.getAbsolutePath()</code>&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x8FC7;&#x6EE4;&#x5668;&#x770B;&#x5230;&#x7684;&#x662F;<code>MyServlet.class</code>&#xFF0C;&#x800C;&#x4E0D;&#x662F;<code>./WEB-INF/classes/org/davisworld/myservlet.class</code>&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x4E3A;&#x4E86;&#x5BF9;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x590D;&#x6742;&#x7684;&#x8FC7;&#x6EE4;(&#x4F8B;&#x5982;&#xFF0C;&#x53EA;&#x5217;&#x51FA;&#x90A3;&#x4E9B;&#x5927;&#x4E8E;&#x7279;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x6587;&#x4EF6;)&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;<code>File.eachFile</code>&#x6216;<code>File.eachFileRecurse</code>&#x81EA;&#x5DF1;&#x7684;if&#x8BED;&#x53E5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F9D;&#x8D56;<code>File.eachFileMatch</code>&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//list files greater than 500kb</span>
<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;.&quot;</span>).eachFile{file -&gt;
  <span class="hljs-keyword">if</span>(file.size() &gt; (<span class="hljs-number">500</span> * <span class="hljs-number">1024</span>)){
    println file
  }
}

===&gt;
./GroovyLogo.zip
</code></pre>
<h3 id="6_2_Reading_the_Contents_of_a_File"><a name="6_2_Reading_the_Contents_of_a_File" class="anchor-navigation-ex-anchor" href="#6_2_Reading_the_Contents_of_a_File"><i class="fa fa-link" aria-hidden="true"></i></a>6.2 &#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;x.txt&quot;</span>).eachLine{line-&gt;
  println line
}
</code></pre>
<p>&#x6B63;&#x5982;&#x60A8;&#x53EF;&#x4EE5;&#x904D;&#x5386;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x4E00;&#x6837;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>file . eachline</code>&#x8F7B;&#x677E;&#x904D;&#x5386;&#x6587;&#x4EF6;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x3002;&#x5BF9;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x8FD8;&#x6709;<code>File.eachByte</code>&#x3002;</p>
<p>&#x7B2C;8.14&#x8282;&#xFF0C;&#x5C06;CSV&#x8F6C;&#x6362;&#x4E3A;XML&#xFF0C;&#x5728;&#x7B2C;148&#x9875;&#x6F14;&#x793A;&#x4E86;&#x4E00;&#x4E2A;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x7684;&#x7248;&#x672C;<code>File.eachLine</code>&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;<code>file.spliteachline</code>&#x9010;&#x884C;&#x904D;&#x5386;&#x9017;&#x53F7;&#x5206;&#x9694;&#x503C;(CSV)&#x6587;&#x4EF6;&#x3002;</p>
<p><strong>&#x5C06;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x8BFB;&#x5165;&#x5B57;&#x7B26;&#x4E32;&#x53D8;&#x91CF;</strong></p>
<pre><code class="lang-groovy">String body = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;x.txt&quot;</span>).text
</code></pre>
<p>&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x65B9;&#x6CD5;<code>file.gettext()</code>&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x3002;&#x5728;&#x540E;&#x9762;&#x7684;&#x7AE0;&#x8282;&#xFF0C;&#x5982;&#x7B2C;108&#x9875;&#x7684;&#x7B2C;6.4&#x8282;&#x201C;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x201D;&#x548C;&#x7B2C;107&#x9875;&#x7684;&#x7B2C;6.3&#x8282;&#x201C;&#x5C06;&#x6570;&#x636E;&#x9644;&#x52A0;&#x5230;&#x73B0;&#x6709;&#x6587;&#x4EF6;&#x201D;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x6280;&#x5DE7;&#x5C06;&#x88AB;&#x8BC1;&#x660E;&#x662F;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;Groovy&#x63D0;&#x4F9B;&#x4E86;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;<code>File.readBytes</code>&#xFF0C;&#x5B83;&#x4EE5;<code>byte[]</code>&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x6574;&#x4E2A;&#x5185;&#x5BB9;&#x3002;</p>
<p><strong>&#x5C06;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x8BFB;&#x5165;ArrayList</strong></p>
<pre><code class="lang-groovy">List lines = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;x.txt&quot;</span>).readLines()
</code></pre>
<p><code>File.readlines</code>&#x4EE5;ArrayList&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;:&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6BCF;&#x884C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;&#x8FD9;&#x63D0;&#x4F9B;&#x4E86;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4FDD;&#x5B58;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4FBF;&#x5229;(&#x6BD4;&#x5982;<code>File.gettext()</code>)&#xFF0C;&#x540C;&#x65F6;&#x4ECD;&#x7136;&#x5141;&#x8BB8;&#x9010;&#x884C;&#x904D;&#x5386;(&#x6BD4;&#x5982;<code>File.eachline</code>)&#x3002;</p>
<p><strong>&#x5FEB;&#x901F;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5206;&#x6790;</strong></p>
<pre><code class="lang-groovy">// juliet.txt
O Romeo, Romeo! wherefore art thou Romeo?
Deny thy father and refuse thy name;
Or, if thou wilt not, be but sworn my love,
And I&apos;ll no longer be a Capulet.

// FileStats.groovy
File file = new File(&quot;juliet.txt&quot;)
List lines = file.readLines()
println &quot;Number of lines: ${lines.size()}&quot;
int wordCount = 0
file.splitEachLine(&quot; &quot;){words -&gt;
println words.size()
  wordCount += words.size()
}
println &quot;Number of words: ${wordCount}&quot;

===&gt;
Number of lines: 4
7
7
10
7
Number of words: 31
</code></pre>
<p>&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x5728;&#x672C;&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x51E0;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;&#x6587;&#x4EF6;&#x65B9;&#x6CD5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x8FD4;&#x56DE;&#x4E00;&#x4E9B;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x884C;&#x6570;&#x548C;&#x5B57;&#x6570;&#x3002;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x9009;&#x62E9;&#x4E86;&#x7F57;&#x5BC6;&#x6B27;&#x4E0E;&#x6731;&#x4E3D;&#x53F6;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x77ED;&#x7247;&#x6BB5;<sup><a href="#fn_602" id="reffn_602">602</a></sup>&#x3002;&#x4F5C;&#x4E3A;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x4E0D;&#x96BE;&#x60F3;&#x8C61;Groovy&#x811A;&#x672C;&#x53EF;&#x4EE5;&#x9012;&#x5F52;&#x904D;&#x5386;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x53EA;&#x67E5;&#x770B;<code>.java</code>&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x9879;&#x76EE;&#x7684;&#x57FA;&#x672C;&quot;&#x884C;&#x6570;/&#x6587;&#x4EF6;&#x6570;&quot;&#xFF0C;&#x4E0D;&#x662F;&#x5417;?</p>
<h3 id="6_3_Writing_Text_to_a_File"><a name="6_3_Writing_Text_to_a_File" class="anchor-navigation-ex-anchor" href="#6_3_Writing_Text_to_a_File"><i class="fa fa-link" aria-hidden="true"></i></a>6.3 &#x5C06;&#x6587;&#x672C;&#x5199;&#x5165;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy">File file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;hello.txt&quot;</span>)
file.write(<span class="hljs-string">&quot;Hello World\n&quot;</span>)
println file.text
===&gt;
Hello World

println file.readLines().size()
===&gt;
<span class="hljs-number">1</span>
</code></pre>
<p>&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x4FBF;&#x5229;&#x6027;&#x3002;Groovy&#x4E2D;&#x7684;&#x5199;&#x65B9;&#x6CD5;&#x662F;&#x76F8;&#x5F53;&#x60CA;&#x4EBA;&#x7684;&#x3002;&#x5C06;Groovy&#x7684;&#x56DB;&#x884C;&#x4EE3;&#x7801;&#x4E0E;&#x76F8;&#x5E94;&#x7684;Java&#x4EE3;&#x7801;&#x7684;&#x56DB;&#x5341;&#x591A;&#x884C;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">import</span> java.io.*;
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NewFile</span> {</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) {
    File file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;hello.txt&quot;</span>);
    PrintWriter pw = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
      pw = <span class="hljs-keyword">new</span> PrintWriter(<span class="hljs-keyword">new</span> BufferedWriter(<span class="hljs-keyword">new</span> FileWriter(file)));
      pw.println(<span class="hljs-string">&quot;Hello World&quot;</span>);
    } <span class="hljs-keyword">catch</span> (IOException e) {
      e.printStackTrace();
    } <span class="hljs-keyword">finally</span>{
      pw.flush();
      pw.close();
    }

    BufferedReader br = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">int</span> lineCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">try</span> {
      br = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> FileReader(file));
      String line = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">while</span>((line = br.readLine()) != <span class="hljs-literal">null</span>){
        System.out.println(line);
        lineCount++;
      }
    } <span class="hljs-keyword">catch</span> (FileNotFoundException e) {
      e.printStackTrace();
    } <span class="hljs-keyword">catch</span> (IOException e) {
      e.printStackTrace();
    } <span class="hljs-keyword">finally</span>{
      <span class="hljs-keyword">try</span> {
        br.close();
      } <span class="hljs-keyword">catch</span> (IOException e) {
        e.printStackTrace();
      }
    }
    System.out.println(lineCount);
  }
}
</code></pre>
<p><code>File.write</code>&#x65B9;&#x6CD5;&#x662F;&#x7834;&#x574F;&#x6027;&#x7684;&#xFF1A;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x88AB;&#x65B0;&#x6570;&#x636E;&#x8986;&#x76D6;&#x3002; &#x5728;&#x7B2C;108&#x9875;&#x7684;&#x7B2C;6.4&#x8282;&#x201C;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x201D;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7528;&#x5355;&#x884C;&#x4EE3;&#x7801;&#x5199;&#x5165;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x53EF;&#x4EE5;&#x53D1;&#x6325;&#x5F88;&#x5927;&#x7684;&#x4F5C;&#x7528;&#x3002;</p>
<p><strong>&#x5C06;&#x6570;&#x636E;&#x9644;&#x52A0;&#x5230;&#x73B0;&#x6709;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy">File file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;hello.txt&quot;</span>)
println <span class="hljs-string">&quot;${file.size()} lines&quot;</span>
===&gt; <span class="hljs-number">1</span> lines

file.append(<span class="hljs-string">&quot;How&apos;s it going?\n&quot;</span>)
file &lt;&lt; <span class="hljs-string">&quot;I&apos;m fine, thanks.\n&quot;</span>

println <span class="hljs-string">&quot;${file.size()} lines&quot;</span>
===&gt; <span class="hljs-number">3</span> lines
</code></pre>
<p>&#x867D;&#x7136;<code>File.write</code>&#x662F;&#x4E00;&#x4E2A;&#x7834;&#x574F;&#x6027;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4F46;<code>File.append</code>&#x4FDD;&#x7559;&#x4E86;&#x73B0;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x65B0;&#x6587;&#x672C;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x672B;&#x5C3E;&#x3002;</p>
<p>&#x4F60;&#x6CE8;&#x610F;&#x5230;&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x4E86;&#x5417;? <code>&lt;&lt;</code>&#x64CD;&#x4F5C;&#x7B26;&#x7B49;&#x4EF7;&#x4E8E;<code>append()</code>&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002;(&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x89C1;&#x7B2C;50&#x9875;&#x7B2C;3.7&#x8282;&#xFF0C;&#x64CD;&#x4F5C;&#x7B26;&#x91CD;&#x8F7D;&#x3002;)</p>
<p><strong>&#x5408;&#x5E76;&#x591A;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-bash">? ls -al
drwxr-xr-x 8 sdavis sdavis 272 Dec 2 13:02 .
drwxr-xr-x 4 sdavis sdavis 136 Dec 2 12:53 ..
-rw-r--r--@ 1 sdavis sdavis 759 Nov 29 01:04 access.2007-11-28.log
-rw-r--r--@ 1 sdavis sdavis 823 Nov 30 01:01 access.2007-11-29.log
-rw-r--r--@ 1 sdavis sdavis 654 Dec 1 01:02 access.2007-11-30.log
-rw-r--r--@ 1 sdavis sdavis 233 Dec 2 13:04 merge.groovy
drwxr-xr-x 2 sdavis sdavis 68 Dec 2 12:59 summary

// merge.groovy
File <span class="hljs-built_in">log</span>Dir = new File(<span class="hljs-string">&quot;.&quot;</span>)
File mergedFile = new File(<span class="hljs-string">&quot;summary/merged.log&quot;</span>)
mergedFile.write(<span class="hljs-string">&quot;&quot;</span>) //empty out the existing file
<span class="hljs-built_in">log</span>Dir.eachFile{file -&gt;
  <span class="hljs-keyword">if</span>(file.isFile() &amp;&amp; file.name.endsWith(<span class="hljs-string">&quot;.log&quot;</span>)){
    mergedFile &lt;&lt; file.text
  }
}
</code></pre>
<p>&#x5728;&#x6BCF;&#x4E2A;&#x6708;&#x672B;&#xFF0C;&#x6211;&#x559C;&#x6B22;&#x5C06;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6BCF;&#x65E5;&#x6D41;&#x91CF;&#x6587;&#x4EF6;&#x6C47;&#x603B;&#x4E3A;&#x6BCF;&#x6708;&#x6458;&#x8981;&#x3002; &#x4EC5;&#x7528;&#x516B;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x5C31;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#x3002; &#x6211;&#x5728;&#x6458;&#x8981;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;<code>merged.log</code>&#x7684;&#x6587;&#x4EF6;&#x3002; &#x5982;&#x679C;&#x8BE5;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5FEB;&#x901F;<code>mergedFile.write(&quot;&quot;)</code>&#x6E05;&#x7A7A;&#x4E0A;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x3002; &#x7136;&#x540E;&#xFF0C;&#x6211;&#x904D;&#x5386;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5C06;&#x91CD;&#x70B9;&#x653E;&#x5728;&#x4EE5;<code>.log</code>&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x3002; &#xFF08;<code>file.isFile</code>&#x68C0;&#x67E5;&#x786E;&#x4FDD;&#x6211;&#x4E0D;&#x4F1A;&#x610F;&#x5916;&#x5730;&#x5305;&#x542B;&#x4EE5;<code>.log</code>&#x7ED3;&#x5C3E;&#x7684;&#x76EE;&#x5F55;&#x540D;&#x79F0;&#x3002;&#xFF09;<code>mergedFile.append(file.text)</code>&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x5C06;&#x5176;&#x9644;&#x52A0;&#x5230; mergedFile&#x3002;</p>
<h3 id="6_4_Copying_Files"><a name="6_4_Copying_Files" class="anchor-navigation-ex-anchor" href="#6_4_Copying_Files"><i class="fa fa-link" aria-hidden="true"></i></a>6.4 &#x590D;&#x5236;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> src = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.txt&quot;</span>)
<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;dest.txt&quot;</span>).write(src.text)
</code></pre>
<p>&#x7ED3;&#x5408;&#x7B2C;6.2&#x8282;(&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x89C1;&#x7B2C;104&#x9875;)&#x548C;&#x7B2C;6.3&#x8282;(&#x5C06;&#x6587;&#x672C;&#x5199;&#x5165;&#x6587;&#x4EF6;&#xFF0C;&#x89C1;&#x7B2C;105&#x9875;)&#x4E2D;&#x7684;&#x6280;&#x5DE7;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5C06;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x672C;&#x5FEB;&#x901F;&#x5199;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x662F;&#x591A;&#x4E48;&#x5BB9;&#x6613;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x80FD;&#x4F1A;&#x89C9;&#x5F97;&#x5947;&#x602A;&#xFF0C;Groovy&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x590D;&#x5236;&#x65B9;&#x6CD5;&#x6765;&#x4EE3;&#x66FF;&#x60A8;&#x5B8C;&#x6210;&#x8FD9;&#x9879;&#x5DE5;&#x4F5C;&#x3002;&#x6211;&#x5E0C;&#x671B;&#x6211;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x201C;&#x55EF;&#xFF0C;&#x6211;&#x540C;&#x610F;&#x201D;&#x66F4;&#x597D;&#x7684;&#x56DE;&#x7B54;&#x3002;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#xFF0C;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x51E0;&#x79CD;&#x4F7F;&#x7528;Groovy&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x503C;&#x5F97;&#x7814;&#x7A76;&#x3002;&#x7531;&#x4E8E;Groovy&#x7684;&#x52A8;&#x6001;&#x7279;&#x6027;&#xFF0C;&#x5728;&#x672C;&#x8282;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x5C06;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x4FEE;&#x590D;&#x8FD9;&#x4E2A;&#x6709;&#x8DA3;&#x7684;API&#x9057;&#x6F0F;&#x3002;(&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x770B;6.5&#x8282;&#xFF0C;&#x4F7F;&#x7528;AntBuilder&#x6765;&#x590D;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x53E6;&#x4E00;&#x79CD;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x3002;)</p>
<p><strong>&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x590D;&#x5236;</strong></p>
<pre><code class="lang-groovy">File src = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.jpg&quot;</span>)
<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;dest.jpg&quot;</span>).withOutputStream{ out -&gt;
  out.write src.readBytes()
}
</code></pre>
<p>Groovy&#x6DFB;&#x52A0;&#x5230;&#x7684;&#x5927;&#x591A;&#x6570;&#x4FBF;&#x5229;&#x65B9;&#x6CD5;<code>java.io.File</code>&#x90FD;&#x662F;&#x9488;&#x5BF9;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x7684;&#x3002;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x5E76;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x88AB;&#x5FFD;&#x7565;&#x3002;&#x8C03;&#x7528;<code>withOutputStream</code>&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x95ED;&#x5305;&#x4E2D;&#x7F16;&#x5199;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x60A8;&#x77E5;&#x9053;&#x90A3;&#x4E9B;&#x611A;&#x8822;&#x7684;<code>flush()</code>&#x548C;<code>close()</code>&#x5E9F;&#x8BDD;&#x90FD;&#x5DF2;&#x7ECF;&#x5F97;&#x5230;&#x4E86;&#x89E3;&#x51B3;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E5F;&#x9002;&#x7528;&#x4E8E;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x4F60;&#x5728;&#x7B80;&#x6D01;&#x4E2D;&#x6240;&#x505A;&#x7684;&#x727A;&#x7272;&#xFF0C;&#x5728;&#x901A;&#x7528;&#x7B97;&#x6CD5;&#x4E2D;&#x5F97;&#x5230;&#x4E86;&#x56DE;&#x62A5;&#xFF0C;&#x901A;&#x7528;&#x7B97;&#x6CD5;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x8BBA;&#x5176;&#x7C7B;&#x578B;&#x5982;&#x4F55;&#x3002;</p>
<p><strong>&#x4F7F;&#x7528;&#x5E95;&#x5C42;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x590D;&#x5236;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy">File src = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.jpg&quot;</span>)
File dest = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;dest.jpg&quot;</span>)
<span class="hljs-string">&quot;cp ${src.name} ${dest.name}&quot;</span>.execute()
</code></pre>
<p>&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x5728;&#x7B2C;5.4&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x7B2C;89&#x9875;&#x8FD0;&#x884C;Shell&#x547D;&#x4EE4;&#xFF0C;&#x8BA9;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5B8C;&#x6210;&#x7E41;&#x91CD;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x4ECE;&#x800C;&#x5FEB;&#x901F;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x3002;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4F1A;&#x5931;&#x53BB;&#x5E73;&#x53F0;&#x72EC;&#x7ACB;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x5E95;&#x5C42;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x5168;&#x90E8;&#x529F;&#x80FD;&#x3002;&#x6709;&#x65F6;&#x5019;&#x50CF;<code>java.io.File</code>&#x8FD9;&#x6837;&#x7684;&#x62BD;&#x8C61;&#x662F;&#x6709;&#x5E2E;&#x52A9;&#x7684;;&#x5176;&#x4ED6;&#x65F6;&#x5019;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x6210;&#x4E3A;&#x969C;&#x788D;&#x3002;</p>
<p><strong>&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x590D;&#x5236;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x4E2D;</strong></p>
<pre><code class="lang-groovy">File.metaClass.copy = {String destName -&gt;
  <span class="hljs-keyword">if</span>(delegate.isFile()){
    <span class="hljs-keyword">new</span> File(destName).withOutputStream{ out -&gt;
      out.write delegate.readBytes()
    }
  }
}
<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.jpg&quot;</span>).copy(<span class="hljs-string">&quot;dest.jpg&quot;</span>)
</code></pre>
<p>&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x63A2;&#x7D22;&#x4E86;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x9009;&#x62E9;&#x7684;&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5230;<code>java.io.File</code>&#x5BF9;&#x8C61;&#x4E2D;&#x3002;(&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;10.11&#x8282;&#xFF0C;&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;<code>ExpandoMetaClass</code>&#xFF0C;&#x89C1;&#x7B2C;198&#x9875;)</p>
<h3 id="6_5_Using_AntBuilder_to_Copy_a_File"><a name="6_5_Using_AntBuilder_to_Copy_a_File" class="anchor-navigation-ex-anchor" href="#6_5_Using_AntBuilder_to_Copy_a_File"><i class="fa fa-link" aria-hidden="true"></i></a>6.5 &#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">file:</span><span class="hljs-string">&quot;src.txt&quot;</span>, <span class="hljs-string">tofile:</span><span class="hljs-string">&quot;dest.txt&quot;</span>)
</code></pre>
<p>&#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#x7528;&#x4F20;&#x7EDF;Ant XML&#x683C;&#x5F0F;&#x8868;&#x793A;&#x7684;&#x5185;&#x5BB9;(&#x901A;&#x5E38;&#x53EF;&#x4EE5;&#x5728;&#x540D;&#x4E3A;build.xml&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x627E;&#x5230;)&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Groovy&#x4EE3;&#x7801;<code>Groovy.util.antbuilder</code>&#x8868;&#x793A;&#x3002;(&#x53C2;&#x89C1;&#x7B2C;8&#x7AE0;&#xFF0C;&#x7F16;&#x5199;XML&#xFF0C;&#x7B2C;136&#x9875;&#xFF0C;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x5173;&#x4E8E;&#x4F7F;&#x7528;Groovy&#x751F;&#x6210;&#x5668;&#x8F7B;&#x677E;&#x4F7F;&#x7528;XML&#x7684;&#x4FE1;&#x606F;&#x3002;)&#x7531;&#x4E8E;&#x5E95;&#x5C42;&#x7684;Ant jar&#x5305;&#x542B;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x60A8;&#x751A;&#x81F3;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x7CFB;&#x7EDF;&#x4E0A;&#x5B89;&#x88C5;Ant&#x6765;&#x5229;&#x7528;AntBuilder&#x3002;</p>
<p>&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4ECE;Ant&#x4E2D;&#x83B7;&#x53D6;<code>&lt;copy&gt;</code>&#x4EFB;&#x52A1;&#xFF0C;&#x5E76;&#x5728;Groovy&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x3002; &#xFF08;&#x5728;&#x7EBF;&#x6587;&#x6863;<sup><a href="#fn_605" id="reffn_605">605</a></sup>&#x4E2D;&#x662F;&#x67E5;&#x770B;&#x6240;&#x6709;&#x6838;&#x5FC3;Ant&#x4EFB;&#x52A1;&#x53CA;&#x5176;&#x53C2;&#x6570;&#x7684;&#x597D;&#x5730;&#x65B9;&#x3002;&#xFF09;&#x8FD9;&#x662F;&#x6B64;&#x4EFB;&#x52A1;&#x5728;&#x5176;&#x672C;&#x673A;Ant&#x65B9;&#x8A00;&#x4E2D;&#x7684;&#x6837;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-xml">// build.xml
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span> <span class="hljs-attr">basedir</span>=<span class="hljs-string">&quot;.&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">target</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;copy&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">copy</span> <span class="hljs-attr">file</span>=<span class="hljs-string">&quot;src.txt&quot;</span> <span class="hljs-attr">tofile</span>=<span class="hljs-string">&quot;dest.txt&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<pre><code class="lang-bash">$ ant copy
Buildfile: build.xml
copy:
    [copy] Copying 1 file to /
BUILD SUCCESSFUL
Total time: 0 seconds
</code></pre>
<p>&#x5728;Groovy&#x4E2D;&#x521B;&#x5EFA;AntBuilder&#x5BF9;&#x8C61;&#x9690;&#x5F0F;&#x5730;&#x5904;&#x7406;&#x4E86;&#x6837;&#x677F;<code>&lt;project&gt;</code>&#x548C;<code>&lt;target&gt;</code>&#x4EE3;&#x7801;&#xFF0C;&#x5C31;&#x50CF;Groovy&#x811A;&#x672C;&#x5904;&#x7406;&#x4E86;&#x6837;&#x677F;<code>public class</code> &#x548C; <code>public static void main(String [] args)</code>&#x4E00;&#x6837;&#xFF0C; &#x5728;&#x7B2C;88&#x9875;&#x7684;&#x7B2C;5.3&#x8282;&#x201C;&#x63A5;&#x53D7;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x201D;&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x8BA8;&#x8BBA;&#x3002;&#x6B64;&#x540E;&#xFF0C;<code>ant.copy(file: &quot;src.txt&quot;, tofile: &quot; dest.txt&quot;)</code>&#x955C;&#x50CF;&#x4E86;Ant XML&#xFF0C;&#x5C3D;&#x7BA1;&#x4F7F;&#x7528;&#x4E86;MarkupBuilder&#x65B9;&#x8A00;&#x3002;</p>
<p>&#x6700;&#x521D;&#xFF0C;&#x5C06;Ant&#x7528;&#x4E8E;&#x6784;&#x5EFA;Java&#x9879;&#x76EE;&#x4EE5;&#x5916;&#x7684;&#x4E8B;&#x60C5;&#x4F3C;&#x4E4E;&#x5F88;&#x5947;&#x602A;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x60F3;&#x4E00;&#x60F3;&#xFF0C;<javac>&#x4EC5;&#x4EC5;&#x662F;Ant&#x672C;&#x8EAB;&#x652F;&#x6301;&#x7684;&#x4F17;&#x591A;&#x4EFB;&#x52A1;&#x4E4B;&#x4E00;&#x3002; &#x5982;&#x679C;Ant&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x590D;&#x5236;&#xFF0C;&#x79FB;&#x52A8;&#xFF0C;&#x91CD;&#x547D;&#x540D;&#x548C;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x7684;&#x4FBF;&#x6377;&#x4EFB;&#x52A1;&#xFF08;&#x5168;&#x90E8;&#x7528;Java&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x786E;&#x4FDD;&#x4E86;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x5408;&#x89C4;&#x6027;&#xFF0C;&#x6211;&#x53EF;&#x80FD;&#x4F1A;&#x6DFB;&#x52A0;&#xFF09;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x5229;&#x7528;&#x5B83;&#x5462;&#xFF1F; &#x5982;&#x679C;&#x60A8;&#x5DF2;&#x7ECF;&#x719F;&#x6089;&#x4E86;&#x5E38;&#x89C1;&#x7684;Ant&#x4EFB;&#x52A1;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x91CD;&#x7528;&#x73B0;&#x6709;&#x7684;&#x77E5;&#x8BC6;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x5B66;&#x4E60;&#x201C;&#x53E6;&#x4E00;&#x4E2A;API&#x201D;&#x3002;</javac></p>
<p><strong>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x76EE;&#x5F55;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">file:</span><span class="hljs-string">&quot;src.txt&quot;</span>, <span class="hljs-string">todir:</span><span class="hljs-string">&quot;../backup&quot;</span>)
</code></pre>
<p>Ant&#x63D0;&#x4F9B;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#x53EF;&#x4EE5;&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x76EE;&#x5F55;&#x4E2D;&#x3002; &#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x6587;&#x4EF6;&#x540D;&#x4FDD;&#x6301;&#x4E0D;&#x53D8;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x4E00;&#x4E9B;&#x91CD;&#x590D;&#x3002;</p>
<p><strong>&#x8986;&#x76D6;&#x76EE;&#x6807;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">file:</span><span class="hljs-string">&quot;src.txt&quot;</span>, <span class="hljs-string">tofile:</span><span class="hljs-string">&quot;dest.txt&quot;</span>, <span class="hljs-string">overwrite:</span><span class="hljs-literal">true</span>)
</code></pre>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x6BD4;&#x6E90;&#x6587;&#x4EF6;&#x65B0;&#xFF0C;&#x5219;Ant&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x3002; &#x8981;&#x5F3A;&#x5236;&#x6267;&#x884C;&#x590D;&#x5236;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<code>overwrite</code>&#x5C5E;&#x6027;&#x3002;</p>
<h3 id="6_6_Using_AntBuilder_to_Copy_a_Directory"><a name="6_6_Using_AntBuilder_to_Copy_a_Directory" class="anchor-navigation-ex-anchor" href="#6_6_Using_AntBuilder_to_Copy_a_Directory"><i class="fa fa-link" aria-hidden="true"></i></a>6.6 &#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x76EE;&#x5F55; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">todir:</span> <span class="hljs-string">&quot;backup&quot;</span>){
  fileset(<span class="hljs-string">dir:</span> <span class="hljs-string">&quot;images&quot;</span>)
}
</code></pre>
<pre><code class="lang-xml">// build.xml
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test&quot;</span> <span class="hljs-attr">basedir</span>=<span class="hljs-string">&quot;.&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">target</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;backupImages&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">copy</span> <span class="hljs-attr">todir</span>=<span class="hljs-string">&quot;backup&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">fileset</span> <span class="hljs-attr">dir</span>=<span class="hljs-string">&quot;images&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">copy</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<p>&#x8981;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#xFF08;&#x5305;&#x62EC;&#x5B50;&#x76EE;&#x5F55;&#xFF09;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5D4C;&#x5957;&#x7684;&#x6587;&#x4EF6;&#x96C6;&#x3002; &#x6CE8;&#x610F;&#xFF0C;&#x5D4C;&#x5957;&#x7684;XML&#x5728;Groovy&#x4E2D;&#x663E;&#x793A;&#x4E3A;&#x5D4C;&#x5957;&#x7684;&#x95ED;&#x5305;&#x3002;</p>
<p><strong>&#x9009;&#x62E9;&#x6027;&#x5730;&#x5305;&#x542B;/&#x6392;&#x9664;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">//<span class="hljs-doctag">NOTE:</span> this WILL NOT copy files in subdirectories</span>
<span class="hljs-comment">// due to the pattern in include and exclude</span>
<span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">todir:</span><span class="hljs-string">&quot;backup&quot;</span>, <span class="hljs-string">overwrite:</span><span class="hljs-literal">true</span>){
  fileset(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;images&quot;</span>){
    include(<span class="hljs-string">name:</span><span class="hljs-string">&quot;*.jpg&quot;</span>)
    exclude(<span class="hljs-string">name:</span><span class="hljs-string">&quot;*.txt&quot;</span>)
  }
}
</code></pre>
<p>&#x6269;&#x5C55;&#x6587;&#x4EF6;&#x96C6;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x6709;&#x9009;&#x62E9;&#x5730;&#x5305;&#x62EC;&#x548C;&#x6392;&#x9664;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x6839;&#x636E;Ant&#x89C4;&#x5219;&#xFF0C;&#x6A21;&#x5F0F; <code>*.jpg</code>&#x4EC5;&#x590D;&#x5236;&#x7236;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x90A3;&#x4E9B;&#x6587;&#x4EF6;&#x3002; &#x9664;&#x975E;&#x5C06;&#x6A21;&#x5F0F;&#x66F4;&#x6539;&#x4E3A; <code>**/*.jpg</code>&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x590D;&#x5236;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">//<span class="hljs-doctag">NOTE:</span> this WILL copy files in subdirectories</span>
<span class="hljs-comment">// due to the pattern in include and exclude</span>
<span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">todir:</span><span class="hljs-string">&quot;backup&quot;</span>, <span class="hljs-string">overwrite:</span><span class="hljs-literal">true</span>){
  fileset(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;images&quot;</span>){
    include(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.jpg&quot;</span>)
    exclude(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.txt&quot;</span>)
  }
}
</code></pre>
<p><strong>&#x5728;&#x590D;&#x5236;&#x65F6;&#x5C06;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5C55;&#x5E73;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.copy(<span class="hljs-string">todir:</span><span class="hljs-string">&quot;backup&quot;</span>, <span class="hljs-string">overwrite:</span><span class="hljs-literal">true</span>, <span class="hljs-string">flatten:</span><span class="hljs-literal">true</span>){
  fileset(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;images&quot;</span>){
    include(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.jpg&quot;</span>)
    exclude(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.txt&quot;</span>)
  }
}

<span class="hljs-comment">// images (before):</span>
images/logo.jpg
images/big_image.jpg
images<span class="hljs-regexp">/icons/</span>button.jpg
images<span class="hljs-regexp">/icons/</span>arrow.jpg
images<span class="hljs-regexp">/thumbnails/</span>big_image_thumb.jpg

<span class="hljs-comment">// backup (after):</span>
backup/logo.jpg
backup/big_image.jpg
backup/button.jpg
backup/arrow.jpg
backup/big_image_thumb.jpg
</code></pre>
<p>Ant&#x5728;<copy>&#x4EFB;&#x52A1;&#x4E0A;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5947;&#x602A;&#x7684;&#x5C0F;&#x5C5E;&#x6027;flatten&#x3002;&#x5047;&#x8BBE;&#x60A8;&#x6709;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E;&quot;images, images/icons, &#x548C; images/thumbnails&quot;&#x76EE;&#x5F55;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5728;&#x4E0D;&#x4FDD;&#x7559;&#x5D4C;&#x5957;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C06;&#x5B83;&#x4EEC;&#x5168;&#x90E8;&#x5408;&#x5E76;&#x5230;&#x5907;&#x4EFD;&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;flatten&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x8BF7;&#x8BB0;&#x4F4F;&#xFF0C;&#x5F53;&#x60A8;&#x5C06;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x76EE;&#x5F55;&#x590D;&#x5236;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#x65F6;&#xFF0C;&#x60A8;&#x53EF;&#x80FD;&#x4F1A;&#x9762;&#x4E34;&#x6587;&#x4EF6;&#x540D;&#x51B2;&#x7A81;&#x7684;&#x98CE;&#x9669;&#x3002;&#x8BB0;&#x4F4F;&#x8981;&#x9002;&#x5F53;&#x5730;&#x8BBE;&#x7F6E;overwrite&#x5C5E;&#x6027;&#x3002;</copy></p>
<h3 id="6_7_Moving_Renaming_Files"><a name="6_7_Moving_Renaming_Files" class="anchor-navigation-ex-anchor" href="#6_7_Moving_Renaming_Files"><i class="fa fa-link" aria-hidden="true"></i></a>6.7 &#x79FB;&#x52A8;/&#x91CD;&#x547D;&#x540D;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">// using the File method</span>
File src = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.txt&quot;</span>)
src.renameTo(<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;dest.txt&quot;</span>))

<span class="hljs-comment">// using the operating system</span>
<span class="hljs-string">&quot;mv src.txt dest.txt&quot;</span>.execute()

<span class="hljs-comment">// using AntBuilder</span>
<span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.move(<span class="hljs-string">file:</span><span class="hljs-string">&quot;src.txt&quot;</span>, <span class="hljs-string">tofile:</span><span class="hljs-string">&quot;dest.txt&quot;</span>)
</code></pre>
<p>&#x5728;&#x7B2C;108&#x9875;&#x7684;&#x7B2C;6.4&#x8282;&#xFF0C;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x548C;&#x7B2C;109&#x9875;&#x7684;&#x7B2C;6.5&#x8282;&#xFF0C;&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x672C;&#x8282;&#x53EF;&#x80FD;&#x6709;&#x70B9;&#x8FC7;&#x65F6;&#x4E86;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6807;&#x51C6;JDK<code>File.renameTo</code>&#x65B9;&#x6CD5;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#x3002; &#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x3002; &#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>AntBuilder.move</code>&#x65B9;&#x6CD5;&#x3002; &#x4ED6;&#x4EEC;&#x90FD;&#x505A;&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x60C5;-&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x6280;&#x672F;&#x5B8C;&#x5168;&#x53D6;&#x51B3;&#x4E8E;&#x4E2A;&#x4EBA;&#x559C;&#x597D;&#x3002;</p>
<h3 id="6_8_Deleting_Files"><a name="6_8_Deleting_Files" class="anchor-navigation-ex-anchor" href="#6_8_Deleting_Files"><i class="fa fa-link" aria-hidden="true"></i></a>6.8 &#x5220;&#x9664;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">// using the File method</span>
<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;src.txt&quot;</span>).delete()

<span class="hljs-comment">// using the operating system</span>
<span class="hljs-string">&quot;rm src.txt&quot;</span>.execute()

<span class="hljs-comment">// using AntBuilder</span>
<span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.delete(<span class="hljs-string">file:</span><span class="hljs-string">&quot;src.txt&quot;</span>)
</code></pre>
<p>&#x7B2C;6.4&#x8282;&#xFF0C;&#x7B2C;108&#x9875;&#x7684;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x548C;&#x7B2C;6.5&#x8282;&#xFF0C;&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x7B2C;109&#x9875;&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#x6280;&#x672F;&#x5728;&#x8FD9;&#x91CC;&#x540C;&#x6837;&#x9002;&#x7528;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7684;JDK<code>File.delete</code>&#x65B9;&#x6CD5;&#x3002; &#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x60A8;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x3002; &#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>AntBuilder.delete</code>&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.delete(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;tmp&quot;</span>)
</code></pre>
<p>&#x4E0E;<code>AntBuilder.copy</code>&#x4E00;&#x6837;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x3002;&#x8FD8;&#x8BB0;&#x5F97;<code>AntBuilder.copy</code>&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x65B0;&#x7684;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x5417;? <code>AntBuilder.delete</code>&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x7A7A;&#x76EE;&#x5F55;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x660E;&#x786E;&#x8981;&#x6C42;&#x5B83;&#x8FD9;&#x6837;&#x505A;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.delete(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;tmp&quot;</span>, <span class="hljs-string">includeemptydirs:</span><span class="hljs-string">&quot;true&quot;</span>)
</code></pre>
<p><strong>&#x4ECE;&#x76EE;&#x5F55;&#x4E2D;&#x5220;&#x9664;&#x9009;&#x5B9A;&#x7684;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.delete{
  fileset(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;tmp&quot;</span>, <span class="hljs-string">includes:</span><span class="hljs-string">&quot;**/*.bak&quot;</span>)
}
</code></pre>
<p>&#x6211;&#x4EEC;&#x5728;&#x7B2C;6.6&#x8282;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x96C6;(&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x76EE;&#x5F55;)&#x5728;110&#x9875;&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x3002;&#x8BF7;&#x8BB0;&#x4F4F;<code>*.bak</code>&#x53EA;&#x5220;&#x9664;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;;<code>**/*.bak</code>&#x9012;&#x5F52;&#x5730;&#x5220;&#x9664;&#x76EE;&#x5F55;&#x6811;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="6_9_Creating_a_ZIP_File_Tarball"><a name="6_9_Creating_a_ZIP_File_Tarball" class="anchor-navigation-ex-anchor" href="#6_9_Creating_a_ZIP_File_Tarball"><i class="fa fa-link" aria-hidden="true"></i></a>6.9 &#x521B;&#x5EFA;&#x538B;&#x7F29;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()

<span class="hljs-comment">// zip files</span>
ant.zip(<span class="hljs-string">basedir:</span><span class="hljs-string">&quot;images&quot;</span>, <span class="hljs-string">destfile:</span><span class="hljs-string">&quot;../backup.zip&quot;</span>)

<span class="hljs-comment">// tar files</span>
ant.tar(<span class="hljs-string">basedir:</span><span class="hljs-string">&quot;images&quot;</span>, <span class="hljs-string">destfile:</span><span class="hljs-string">&quot;../backup.tar&quot;</span>)
ant.gzip(<span class="hljs-string">zipfile:</span><span class="hljs-string">&quot;../backup.tar.gz&quot;</span>, <span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.tar&quot;</span>)
ant.bzip2(<span class="hljs-string">zipfile:</span><span class="hljs-string">&quot;../backup.tar.bz2&quot;</span>, <span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.tar&quot;</span>)
</code></pre>
<p>&#x5728;&#x521B;&#x5EFA;ZIP&#x6587;&#x4EF6;&#x65F6;&#xFF0C;AntBuilder&#x518D;&#x6B21;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#x3002; &#x8FD9;&#x91CC;&#x63CF;&#x8FF0;&#x7684;&#x6280;&#x672F;&#x4E0E;&#x6211;&#x4EEC;&#x5728;&#x7B2C;109&#x9875;&#x7684;&#x7B2C;6.5&#x8282;&#x201C;&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x6587;&#x4EF6;&#x201D;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x6280;&#x672F;&#x7C7B;&#x4F3C;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;<code>AntBuilder.zip</code>&#x4F1A;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x3002; &#x8981;&#x538B;&#x7F29;<code>.tar</code>&#x6587;&#x4EF6;&#xFF0C;&#x5E94;&#x8C03;&#x7528;<code>AntBuilder.gzip</code>&#x6216;<code>AntBuilder.bzip2</code>&#x3002; Gzip&#x662F;&#x4E24;&#x8005;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;bzip2&#x503E;&#x5411;&#x4E8E;&#x4EA7;&#x751F;&#x8F83;&#x5C0F;&#x7684;&#x6587;&#x4EF6;&#xFF08;&#x538B;&#x7F29;&#x7A0B;&#x5EA6;&#x66F4;&#x9AD8;&#xFF09;&#x3002;</p>
<p><strong>&#x538B;&#x7F29;&#x6240;&#x9009;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.zip(<span class="hljs-string">destfile:</span><span class="hljs-string">&quot;../backup.zip&quot;</span>){
  fileset(<span class="hljs-string">dir:</span><span class="hljs-string">&quot;images&quot;</span>){
    include(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.jpg&quot;</span>)
    exclude(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.txt&quot;</span>)
  }
}
</code></pre>
<p>&#x6211;&#x4EEC;&#x5728;&#x7B2C;110&#x9875;&#x7684;&#x7B2C;6.6&#x8282;&#x201C;&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x76EE;&#x5F55;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x96C6;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x5904;&#x4F7F;&#x7528;&#x3002; &#x8BF7;&#x8BB0;&#x4F4F;<code>*.jpg</code>&#x4EC5;&#x538B;&#x7F29;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x90A3;&#x4E9B;&#x6587;&#x4EF6;&#xFF1B; <code>**/*.jpg</code>&#x9012;&#x5F52;&#x5730;&#x5C06;&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x5230;&#x76EE;&#x5F55;&#x6811;&#x4E0B;&#x3002;</p>
<p><code>AntBuilder.tar</code>&#x652F;&#x6301;&#x60A8;&#x5728;&#x8FD9;&#x91CC;&#x770B;&#x5230;&#x7684;&#x4E0E;<code>AntBuilder.zip</code>&#x76F8;&#x540C;&#x7684;&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x96C6;&#x3002;</p>
<h3 id="610-unzippinguntarring-files-&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;"><a name="610-unzippinguntarring-files-&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#610-unzippinguntarring-files-&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>6.10 Unzipping/Untarring Files {&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;}</h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()

<span class="hljs-comment">// unzip files</span>
ant.unzip(<span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.zip&quot;</span>, <span class="hljs-string">dest:</span><span class="hljs-string">&quot;/dest&quot;</span>)

<span class="hljs-comment">// untar files</span>
ant.gunzip(<span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.tar.gz&quot;</span>)
ant.bunzip2(<span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.tar.bz2&quot;</span>)
ant.untar(<span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.tar&quot;</span>, <span class="hljs-string">dest:</span><span class="hljs-string">&quot;/dest&quot;</span>)
</code></pre>
<p>&#x6BEB;&#x4E0D;&#x5947;&#x602A;&#xFF0C;&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x7684;&#x5916;&#x89C2;&#x5F88;&#x50CF;&#x6211;&#x4EEC;&#x5728;&#x4E0A;&#x4E00;&#x9875;&#x7684;6.9&#x8282;&#xFF0C;&#x521B;&#x5EFA;<code>ZIP&#x6587;&#x4EF6;/Tarball</code>&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;&#x3002; &#x5982;&#x679C;&#x538B;&#x7F29;&#x7684;tarball&#xFF0C;&#x5219;&#x5E94;&#x9002;&#x5F53;&#x5BF9;&#x5176;&#x8FDB;&#x884C;gunzip&#x6216;bunzip2&#x538B;&#x7F29;&#x3002;</p>
<p><strong>&#x89E3;&#x538B;&#x7F29;&#x6240;&#x9009;&#x6587;&#x4EF6;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> ant = <span class="hljs-keyword">new</span> AntBuilder()
ant.unzip(<span class="hljs-string">src:</span><span class="hljs-string">&quot;../backup.zip&quot;</span>, <span class="hljs-string">dest:</span><span class="hljs-string">&quot;/dest&quot;</span>){
  patternset{
    include(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.jpg&quot;</span>)
    exclude(<span class="hljs-string">name:</span><span class="hljs-string">&quot;**/*.txt&quot;</span>)
  }
}
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x5728;&#x7B2C;110&#x9875;&#x7684;&#x7B2C;6.6&#x8282;&#x201C;&#x4F7F;&#x7528;AntBuilder&#x590D;&#x5236;&#x76EE;&#x5F55;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x5D4C;&#x5957;&#x6587;&#x4EF6;&#x96C6;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x8BE5;&#x793A;&#x4F8B;&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x6A21;&#x5F0F;&#x96C6;&#x3002; &#x8BF7;&#x8BB0;&#x4F4F;&#xFF0C;<code>*.jpg</code>&#x4EC5;&#x5728;zip&#x6587;&#x4EF6;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E2D;&#x89E3;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#xFF1B; <code>**/*.jpg</code>&#x9012;&#x5F52;&#x5730;&#x5C06;&#x6587;&#x4EF6;&#x89E3;&#x538B;&#x7F29;&#x5230;&#x76EE;&#x5F55;&#x6811;&#x7684;&#x4E0B;&#x65B9;&#x3002;</p>
<p><code>AntBuilder.untar</code>&#x652F;&#x6301;&#x60A8;&#x5728;&#x8FD9;&#x91CC;&#x770B;&#x5230;&#x7684;&#x4E0E;<code>AntBuilder.unzip</code>&#x76F8;&#x540C;&#x7684;&#x5D4C;&#x5957;&#x6A21;&#x5F0F;&#x96C6;&#x3002;</p>
<h2 id="7_Parsing_XML"><a name="7_Parsing_XML" class="anchor-navigation-ex-anchor" href="#7_Parsing_XML"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;7&#x7AE0; &#x89E3;&#x6790;XML </h2>
<p>Groovy&#x4F7F;&#x5F97;&#x4F7F;&#x7528;XML&#x53D8;&#x5F97;&#x8F7B;&#x800C;&#x6613;&#x4E3E;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5728;&#x5DE5;&#x5177;&#x5305;&#x4E2D;&#x4F7F;&#x7528;&#x7ECF;&#x8FC7;&#x9A8C;&#x8BC1;&#x7684;Java XML&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x60A8;&#x4F53;&#x9A8C;&#x4E86;Groovy&#x7684;&#x539F;&#x751F;<code>parsers</code>&#x548C;<code>slurpers</code>&#xFF0C;&#x60A8;&#x5C31;&#x4F1A;&#x60F3;&#x77E5;&#x9053;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x3002; Groovy&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x51CF;&#x5C11;&#x4E86;XML&#x548C;&#x4EE3;&#x7801;&#x4E4B;&#x95F4;&#x7684;&#x9E3F;&#x6C9F;&#xFF0C;&#x4F7F;XML&#x611F;&#x89C9;&#x50CF;&#x662F;&#x8BED;&#x8A00;&#x7684;&#x81EA;&#x7136;&#x6269;&#x5C55;&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x65B0;&#x53D1;&#x73B0;&#x7684;XML&#x89E3;&#x6790;&#x6280;&#x80FD;&#x7684;&#x4E00;&#x4E9B;&#x5B9E;&#x9645;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;9&#x7AE0;&#xFF0C;Web&#x670D;&#x52A1;&#xFF0C;&#x7B2C;152&#x9875;&#x3002;</p>
<h3 id="7_1_The__I_m_in_a_Hurry__Guide_to_Parsing_XML"><a name="7_1_The__I_m_in_a_Hurry__Guide_to_Parsing_XML" class="anchor-navigation-ex-anchor" href="#7_1_The__I_m_in_a_Hurry__Guide_to_Parsing_XML"><i class="fa fa-link" aria-hidden="true"></i></a>7.1 &#x5728;&#x201C;&#x6211;&#x6709;&#x6025;&#x4E8B;&#x201D;&#x6307;&#x5357;&#x89E3;&#x6790;XML </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)

println person
===&gt; John Smith
println person.<span class="hljs-meta">@id</span>
===&gt; <span class="hljs-number">99</span>
</code></pre>
<p>&#x5728;Groovy&#x4E2D;&#x5904;&#x7406;XML&#x7684;&#x6700;&#x5FEB;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;<code>XmlSlurper</code>&#x6765;&#x586B;&#x5145;&#x5B83;&#x3002; &#x5982;&#x6B64;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF0C;&#x60A8;&#x53EA;&#x9700;&#x6309;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x5143;&#x7D20;&#x5373;&#x53EF;&#x83B7;&#x5F97;&#x5143;&#x7D20;&#x7684;&#x6587;&#x672C;&#x3002; &#x8981;&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;<code>@</code>&#x548C;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x6765;&#x8BF7;&#x6C42;&#x5B83;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;Groovy heredocs&#x4F7F;&#x7528;XML&#x6709;&#x591A;&#x597D;&#xFF1F; &#x60A8;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x591A;&#x884C;&#x6216;&#x8F6C;&#x4E49;&#x5185;&#x90E8;&#x5F15;&#x53F7;&#x3002; &#x4E00;&#x5207;&#x90FD;&#x5B58;&#x50A8;&#x5728;pString&#x53D8;&#x91CF;&#x4E2D;&#x3002; &#x6BCF;&#x5F53;&#x6211;&#x5904;&#x7406;XML&#xFF0C;HTML&#xFF0C;JSON&#x6216;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x53EF;&#x80FD;&#x5D4C;&#x5165;&#x5F15;&#x53F7;&#x7684;&#x683C;&#x5F0F;&#x65F6;&#xFF0C;&#x6211;&#x53EA;&#x9700;&#x5C06;&#x5B83;&#x4EEC;&#x5305;&#x542B;&#x5728;&#x4E09;&#x5F15;&#x53F7;&#x4E2D;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;56&#x9875;&#x4E0A;&#x7684;&#x7B2C;3.12&#x8282;&quot;Heredocs&#xFF08;&#x4E09;&#x91CD;&#x5F15;&#x53F7;&#xFF09;&quot;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p2 = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p2)
println person.firstname
===&gt; Jane
println person.address.city
===&gt; Denver
println person.address.<span class="hljs-meta">@type</span>
===&gt; home
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x5730;&#x6309;&#x540D;&#x79F0;&#x8BF7;&#x6C42;&#x8282;&#x70B9;&#x6765;&#x5BFC;&#x822A;&#x4EFB;&#x610F;&#x6DF1;&#x5EA6;&#x7684;XML&#x7ED3;&#x6784;&#x3002; &#x4F8B;&#x5982;&#xFF0C;person.address.city&#x5BF9;&#x5E94;&#x4E8E;<code>&lt;person&gt;&lt;address&gt;&lt;city&gt;</code>&#x3002;</p>
<p><code>Groovy/XML</code>&#x5173;&#x7CFB;&#x6709;&#x8BB8;&#x591A;&#x5FAE;&#x5999;&#x7684;&#x7EC6;&#x5FAE;&#x5DEE;&#x522B;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;&#x7B2C;&#x4E8C;&#x4E2A;&#x89E3;&#x6790;&#x5668;--<code>XmlParser</code>.&#x5B83;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x8282;&#x4E2D;&#x8865;&#x5145;<code>XmlSlurpe</code>r&#x3002; &#x6839;&#x636E;&#x60A8;&#x7684;&#x89C2;&#x70B9;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x662F;&#x4EE4;&#x4EBA;&#x56F0;&#x60D1;&#x7684;&#x76F8;&#x4F3C;&#x6216;&#x4EE4;&#x4EBA;&#x53D1;&#x72C2;&#x7684;&#x4E0D;&#x540C;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x82B1;&#x8D39;&#x672C;&#x7AE0;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x6765;&#x6BD4;&#x8F83;&#x548C;&#x5BF9;&#x6BD4;&#x5B83;&#x4EEC;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x89E3;&#x6790;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;XML&#x800C;&#x4E0D;&#x60F3;&#x8FC7;&#x591A;&#x8003;&#x8651;&#x5B83;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>XmlSlurper</code>&#x5E76;&#x7EE7;&#x7EED;&#x60A8;&#x7684;&#x751F;&#x6D3B;&#x3002;</p>
<h3 id="7_2_Understanding_the_Difference_Between_XmlParser_and_XmlSlurper"><a name="7_2_Understanding_the_Difference_Between_XmlParser_and_XmlSlurper" class="anchor-navigation-ex-anchor" href="#7_2_Understanding_the_Difference_Between_XmlParser_and_XmlSlurper"><i class="fa fa-link" aria-hidden="true"></i></a>7.2 &#x4E86;&#x89E3;XmlParser&#x548C;XmlSlurper&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.getClass()
===&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">groovy</span>.<span class="hljs-title">util</span>.<span class="hljs-title">Node</span>

// <span class="hljs-title">XmlSlurper</span> (*** <span class="hljs-title">different</span> ***)
<span class="hljs-title">person</span> = <span class="hljs-title">new</span> <span class="hljs-title">XmlSlurper</span>().<span class="hljs-title">parseText</span>(<span class="hljs-title">p</span>)
<span class="hljs-title">println</span> <span class="hljs-title">person</span>.<span class="hljs-title">getClass</span>()
===&gt; <span class="hljs-title">class</span> <span class="hljs-title">groovy</span>.<span class="hljs-title">util</span>.<span class="hljs-title">slurpersupport</span>.<span class="hljs-title">NodeChild</span>
</span></code></pre>
<p>::: alert-dark
<strong>&#x4E0D;&#x540C;&#x6216;&#x76F8;&#x540C;&#xFF1F;</strong></p>
<p>&#x4E86;&#x89E3;XmlParser&#x548C;XmlSlurper&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4EF6;&#x68D8;&#x624B;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x6709;&#x65F6;&#x5DEE;&#x5F02;&#x662F;&#x660E;&#x663E;&#x7684; - &#x8FD9;&#x4E2A;&#x8C03;&#x7528;&#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x8BE5;&#x7C7B;&#x3002; &#x5176;&#x4ED6;&#x65F6;&#x5019;&#xFF0C;&#x5DEE;&#x5F02;&#x53EF;&#x80FD;&#x975E;&#x5E38;&#x5FAE;&#x5999;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x56E0;&#x4E3A;&#x5FEB;&#x4E50;&#x7684;&#x5DE7;&#x5408;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;class&#x4EE5;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x4F5C;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x5E2E;&#x52A9;&#x6F84;&#x6E05;&#x4E8B;&#x60C5;&#xFF0C;&#x5F53;&#x6211;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#x5411;&#x60A8;&#x5C55;&#x793A;XmlParser&#x548C;XmlSlurper&#x65F6;&#xFF0C;&#x6211;&#x4F1A;&#x5C06;&#x4EE3;&#x7801;&#x6807;&#x8BB0;&#x4E3A;&#xFF08;<strong><em>different </em></strong>&#xFF09;&#x6216;&#xFF08;<strong><em>same</em></strong>&#xFF09;&#x3002; &#x901A;&#x5E38;&#x6211;&#x8BD5;&#x56FE;&#x63D0;&#x51FA;&#x4E00;&#x4E2A;&#x6216;&#x53E6;&#x4E00;&#x4E2A;&#xFF1A;&#x201C;&#x563F;&#xFF0C;&#x770B;&#x770B;&#x8FD9;&#x4E24;&#x4E2A;&#x662F;&#x591A;&#x4E48;&#x76F8;&#x4F3C;&#xFF01;&#x201D;&#x6216;&#x201C;&#x8FD9;&#x662F;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x91CD;&#x8981;&#x533A;&#x522B;&#x3002;
:::</p>
<p>Groovy&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x4E2A;&#x539F;&#x751F;XML&#x89E3;&#x6790;&#x5668;&#xFF1A;<code>groovy.util.XmlParser</code>&#x548C;<code>groovy.util.XmlSlurper</code>&#x3002; &#x4ED6;&#x4EEC;&#x7684;API&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6C38;&#x65E0;&#x6B62;&#x5883;&#x7684;&#x6DF7;&#x4E71;&#x6E90;&#x3002; &#xFF08;&#x201C;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;&#x201D;&#x201C;&#x6211;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x54EA;&#x4E00;&#x4E2A;&#xFF1F;&#x201D;&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#x5728;&#x5730;&#x7403;&#x4E0A;&#x6211;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;&#x540C;&#x6837;&#x505A;&#x540C;&#x4E8B;&#x7684;&#x8BFE;&#x7A0B;&#xFF1F;&#x201D;&#xFF09;&#x5F53;&#x7136;&#xFF0C;&#x7B54;&#x6848;&#x662F;&#xFF0C;&#x4ED6;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x505A;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x5B83;&#x4EEC;&#x90FD;&#x662F;XML&#x89E3;&#x6790;&#x5E93;&#xFF0C;&#x4F46;&#x6BCF;&#x79CD;&#x90FD;&#x91C7;&#x7528;&#x7565;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p><code>XmlParser</code>&#x6839;&#x636E;&#x8282;&#x70B9;&#x6765;&#x8003;&#x8651;&#x6587;&#x6863;&#x3002; &#x5F53;&#x60A8;&#x5F00;&#x59CB;&#x5904;&#x7406;&#x66F4;&#x590D;&#x6742;&#x7684;XML&#x6587;&#x6863;&#x65F6;&#xFF0C;XmlParser&#x5C06;&#x5728;&#x60A8;&#x5BFC;&#x822A;&#x6811;&#x65F6;&#x8FD4;&#x56DE;&#x8282;&#x70B9;&#x5217;&#x8868;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;XmlSlurper&#x5C06;&#x6587;&#x6863;&#x89C6;&#x4E3A;<code>groovy.util.slurpersupport.GPathResult</code>&#x3002; &#xFF08;&#x7531;&#x4E8E;GPathResult&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;<code>groovy.util.slurpersupport.NodeChild</code>&#x663E;&#x793A;&#x4E3A;&#x5B9E;&#x73B0;&#x3002;&#xFF09;GPath&#x5C31;&#x50CF;XPath<sup><a href="#fn_71" id="reffn_71">71</a></sup>&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x201C;groovier&#x201D;&#x8BED;&#x6CD5;&#x3002; XPath&#x4F7F;&#x7528;&#x659C;&#x6760;&#x8868;&#x793A;&#x6CD5;&#x6765;&#x6DF1;&#x5165;&#x5D4C;&#x5957;&#x5D4C;&#x5957;&#x7684;XML&#x6811; -  GPath&#x4F7F;&#x7528;&#x70B9;&#x6765;&#x505A;&#x540C;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#x6DF1;&#x5165;&#x63A2;&#x8BA8;&#x8FD9;&#x4E9B;&#x60F3;&#x6CD5;&#x3002; &#x4F46;&#x662F;&#x73B0;&#x5728;&#xFF0C;&#x5C06;<code>XmlParser</code>&#x89C6;&#x4E3A;&#x5904;&#x7406;XML&#x6587;&#x6863;&#x8282;&#x70B9;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x3002; &#x53EF;&#x4EE5;&#x5C06;<code>XmlSlurper</code>&#x89C6;&#x4E3A;&#x4E00;&#x79CD;&#x6839;&#x636E;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">person</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;99&quot;</span>&gt;</span>John Smith<span class="hljs-tag">&lt;/<span class="hljs-name">person</span>&gt;</span>
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x67E5;&#x770B;&#x6B64;XML&#x7247;&#x6BB5;&#x5E76;&#x67E5;&#x770B;&#x5176;&#x503C;&#x4E3A;<code>John Smith</code>&#x7684;&#x4EBA;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x5C31;&#x50CF;&#x662F;&#x4E00;&#x4E2A;<code>XmlSlurper</code>&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x6839;&#x8282;&#x70B9;&#xFF0C;&#x5176;<code>text()</code>&#x65B9;&#x6CD5;&#x5E94;&#x8FD4;&#x56DE;<code>String John Smith</code>&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x80AF;&#x5B9A;&#x66F4;&#x591A;&#x5730;&#x5904;&#x4E8E;<code>XmlParser</code>&#x7684;&#x601D;&#x7EF4;&#x6A21;&#x5F0F;&#x4E2D;&#x3002; &#x6709;&#x5173;&#x4E24;&#x4E2A;&#x89E3;&#x6790;&#x5668;&#x7684;&#x4E0D;&#x540C;&#x4E16;&#x754C;&#x89C2;&#x91CD;&#x8981;&#x6027;&#x7684;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x597D;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;127&#x9875;&#x7684;&#x7B2C;7.8&#x8282;&#x201C;&#x6DF1;&#x5165;&#x5D4C;&#x5957;&#x7684;XML&#x5BFC;&#x822A;&#x201D;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x80FD;&#x4F1A;&#x60F3;&#xFF0C;&#x201C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x76F4;&#x63A5;&#x5C06;XML&#x7F16;&#x7EC4;&#x5230;GroovyBean&#x4E2D;&#xFF1F; &#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;getter&#x548C;setter&#x3002;&#x201C; &#x5982;&#x679C;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x8BF7;&#x76F4;&#x63A5;&#x8DF3;&#x5230;&#x7B2C;7.10&#x8282;&#xFF0C;&#x6216;&#x8005;&#x67E5;&#x770B;JAXB<sup><a href="#fn_72" id="reffn_72">72</a></sup>&#x6216;Castor<sup><a href="#fn_73" id="reffn_73">73</a></sup>&#x7B49;&#x9879;&#x76EE;&#x3002;&#x6211;&#x540C;&#x610F;&#x5982;&#x679C;&#x60A8;&#x4F7F;&#x7528;XML&#x4F5C;&#x4E3A;&#x5E8F;&#x5217;&#x5316;&#x6216;&#x6301;&#x4E45;&#x6027;&#x683C;&#x5F0F;&#xFF0C; &#x83B7;&#x53D6;&#x6570;&#x636E;&#x7684;bean&#x8868;&#x793A;&#x662F;&#x4F60;&#x5E94;&#x8BE5;&#x5C3D;&#x5FEB;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x4F46;&#x672C;&#x7AE0;&#x7684;&#x4E3B;&#x8981;&#x91CD;&#x70B9;&#x662F;&#x4EE5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;XML&#x7684;&#x65B9;&#x5F0F;&#x5C06;XML&#x8F6C;&#x6362;&#x4E3A;Groovy&#x3002; &#x6709;&#x5F88;&#x591A;XML&#x6587;&#x4EF6;&#xFF0C;&#x4F8B;&#x5982;<code>server.xml</code>&#xFF0C;<code>web.xml</code>&#x548C;<code>struts-config.xml</code>&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x8DB3;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x4F5C;&#x4E3A;&#x4E34;&#x65F6;XML Groovy&#x5BF9;&#x8C61;&#x5904;&#x7406;&#x5E76;&#x7559;&#x5728;&#x90A3;&#x91CC;&#x3002;</p>
<p><strong>&#x4E86;&#x89E3;XmlParser</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;100&quot;&gt;Jane Doe&lt;/person&gt;&quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)

println person.text()
===&gt; Jane Doe
println person.attribute(<span class="hljs-string">&quot;id&quot;</span>)
===&gt; <span class="hljs-number">100</span>
println person.attribute(<span class="hljs-string">&quot;foo&quot;</span>)
===&gt; <span class="hljs-literal">null</span>
</code></pre>
<p><code>XmlParser.parseText()</code>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<code>groovy.util.Node</code>&#x3002; Node&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;XML&#x5143;&#x7D20;&#x4E4B;&#x7C7B;&#x7684;&#x4E1C;&#x897F;&#x3002; &#x6709;&#x4E00;&#x4E2A;<code>text()</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8282;&#x70B9;&#x7684;&#x4E3B;&#x4F53;&#x3002; &#x6709;&#x4E00;&#x4E2A;<code>attribute()</code>&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;&#x7684;&#x5C5E;&#x6027;&#x3002; &#x5982;&#x679C;&#x8981;&#x6C42;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5C5E;&#x6027;&#xFF0C;<code>attribute()</code>&#x5C06;&#x8FD4;&#x56DE;<code>null</code>&#x3002; &#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5BF9;&#x5427;&#xFF1F;</p>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x91CD;&#x8981;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x60A8;&#x6B63;&#x5728;&#x5BF9;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002; &#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x5904;&#x7406;XML&#x7684;&#x9519;&#x89C9;&#x3002; &#x60A8;&#x8C03;&#x7528;<code>text()</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6587;&#x672C;&#x3002; &#x60A8;&#x8C03;&#x7528;<code>attribute()</code>&#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x8BE5;&#x5C5E;&#x6027;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x66F4;&#x559C;&#x6B22;&#x4F7F;&#x7528;JDOM&#x7B49;Java&#x5E93;&#x6765;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;XML&#xFF0C;&#x90A3;&#x4E48;XmlParser&#x4F1A;&#x8BA9;&#x60A8;&#x611F;&#x89C9;&#x5BBE;&#x81F3;&#x5982;&#x5F52;&#x3002;</p>
<p>&#x60A8;&#x8FD8;&#x5E94;&#x8BE5;&#x6CE8;&#x610F;&#xFF0C;&#x6211;&#x5C06;&#x8282;&#x70B9;&#x4EBA;&#x547D;&#x540D;&#x4E3A;&#x4E0E;XML&#x6587;&#x6863;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x5339;&#x914D;&#x3002; &#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x52A9;&#x4E8E;&#x6A21;&#x7CCA;&#x7684;&#x60EF;&#x4F8B;
XML&#x548C;Groovy&#x4EE3;&#x7801;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#x3002; &#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x547D;&#x540D;&#x8282;&#x70B9;foo&#x5E76;&#x8C03;&#x7528;<code>foo.text()</code>&#x6765;&#x8FD4;&#x56DE;&quot;Jane Doe&quot;&#x3002; XML&#x4E0D;&#x662F;Groovy&#xFF08;&#x6216;Java&#x4E2D;&#x7684;&#x672C;&#x673A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;&#x4F46;&#x5DE7;&#x5999;&#x5730;&#x547D;&#x540D;&#x53D8;&#x91CF;&#x6709;&#x52A9;&#x4E8E;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x5730;&#x51CF;&#x5C11;&#x8BA4;&#x77E5;&#x65AD;&#x5F00;&#x3002;</p>
<p><strong>&#x4E86;&#x89E3;XmlSlurper</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;100&quot;&gt;Jane Doe&lt;/person&gt;&quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)

println person
===&gt; Jane Doe
println person.<span class="hljs-meta">@id</span>
===&gt; <span class="hljs-number">100</span>
println person.<span class="hljs-meta">@foo</span>
===&gt; (returns an empty string)
</code></pre>
<p><code>XmlSlurper.parseText()</code>&#x8FD4;&#x56DE;<code>groovy.util.slurpersupport.GPathResult</code>&#x3002; &#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x6211;&#x60F3;&#x8BA9;&#x4F60;&#x628A;&#x5B83;&#x60F3;&#x8C61;&#x6210;&#x4E00;&#x4E2A;<code>GPath</code>&#x67E5;&#x8BE2;&#x7684;String&#x7ED3;&#x679C;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x8981;&#x6C42;person&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C; - &#x8BE5;&#x5143;&#x7D20;&#x7684;&#x6587;&#x672C;&#xFF08;&#x6216;&#x6B63;&#x6587;&#xFF09;&#x3002; &#x5982;&#x679C;&#x60A8;&#x719F;&#x6089;<code>XPath</code>&#xFF0C;&#x5C31;&#x4F1A;&#x77E5;&#x9053;<code>@</code>&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5C5E;&#x6027;&#x3002; &#x67E5;&#x8BE2;<code>person.@id</code>&#x8FD4;&#x56DE;100&#x3002;</p>
<p>XmlSlurper&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x5B89;&#x5168;&#x7684;XML&#x89E3;&#x6790;&#x5668;&#x3002; &#x8981;&#x6C42;<code>person.@foo</code>&#xFF08;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x8981;&#x6C42;<code>person.bar</code>&#xFF08;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8282;&#x70B9;&#xFF09;&#x4E5F;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x4F7F;&#x7528;<code>try / catch</code>&#x5757;&#x4E0D;&#x5FC5;&#x8981;&#x5730;&#x7834;&#x574F;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4EE5;&#x4FDD;&#x62A4;&#x4F60;&#x514D;&#x53D7;&#x53EF;&#x6015;&#x7684;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;<strong>NullPointerException</strong>&#x3002; &#x5728;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>XmlParser</code>&#x90FD;&#x4F1A;&#x629B;&#x51FA;&#x7A7A;&#x503C;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x91CD;&#x8981;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x611F;&#x89C9;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x76F4;&#x63A5;&#x5904;&#x7406;XML&#x3002; &#x6CA1;&#x6709;&#x660E;&#x663E;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF08;&#x5C3D;&#x7BA1;&#x8FD9;&#x53EA;&#x662F;Groovy&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6B63;&#x5728;&#x73A9;&#x7684;&#x5143;&#x7F16;&#x7A0B;&#x4E3B;&#x8981;&#x6280;&#x5DE7;&#xFF09;&#x3002; &#x5982;&#x679C;&#x4F60;&#x4E0D;&#x592A;&#x8BA4;&#x771F;&#x5E76;&#x4E14;&#x7834;&#x574F;&#x5E7B;&#x89C9;&#xFF0C;&#x4F60;&#x4F1A;&#x66F4;&#x5FEB;&#x4E50;&#x3002; &#x4FDD;&#x6301;<code>XmlSlurper</code>&#x4E0E;<code>XmlParser</code>&#x4E0D;&#x540C;&#x7684;&#x6700;&#x597D;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x540E;&#x8005;&#x89C6;&#x4E3A;&#x5904;&#x7406;API&#x800C;&#x5C06;&#x524D;&#x8005;&#x89C6;&#x4E3A;&#x76F4;&#x63A5;&#x5904;&#x7406;XML&#x3002; &#x76F8;&#x4FE1;&#x6211;&#x3002;</p>
<p>&#x4EC0;&#x4E48;&#xFF0C;&#x4F60;&#x4E0D;&#x76F8;&#x4FE1;&#x6211;&#xFF1F; &#x4F60;&#x4ECD;&#x7136;&#x60F3;&#x77E5;&#x9053;&#x5F53;firstname&#x548C;lastname&#x4E0D;&#x662F;API&#x7684;&#x7F16;&#x8BD1;&#x90E8;&#x5206;&#x65F6;&#xFF0C;XmlParser&#x5982;&#x4F55;&#x5904;&#x7406;&#x50CF;<code>person.firstname</code>&#x548C;<code>person.lastname</code>&#x8FD9;&#x6837;&#x7684;&#x8C03;&#x7528;&#xFF1F; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;193&#x9875;&#x4E0A;&#x7684;&#x7B2C;10.8&#x8282;&#x201C;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;&#xFF08;invokeMethod&#xFF09;&#x201D;&#x3002;</p>
<h3 id="7_3_Parsing_XML_Documents"><a name="7_3_Parsing_XML_Documents" class="anchor-navigation-ex-anchor" href="#7_3_Parsing_XML_Documents"><i class="fa fa-link" aria-hidden="true"></i></a>7.3 &#x89E3;&#x6790;XML&#x6587;&#x6863; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;person.xml&quot;</span>)
<span class="hljs-keyword">def</span> url = <span class="hljs-string">&quot;http://somewhere.org/person.xml&quot;</span>

<span class="hljs-comment">// XmlParser (*** same ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parse(file)
<span class="hljs-keyword">def</span> person2 = <span class="hljs-keyword">new</span> XmlParser().parse(url)

<span class="hljs-comment">// XmlSlurper (*** same ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parse(file)
person2 = <span class="hljs-keyword">new</span> XmlSlurper().parse(url)
</code></pre>
<p>XmlParser&#x548C;XmlSlurper&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684;parse()&#x65B9;&#x6CD5;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F20;&#x9012;parse()&#x6587;&#x4EF6;&#x6216;&#x8868;&#x793A;URL&#x7684;&#x5B57;&#x7B26;&#x4E32; - &#x5728;&#x5E55;&#x540E;&#x4E3A;&#x60A8;&#x5904;&#x7406;&#x6240;&#x6709;&#x4F20;&#x8F93;&#x673A;&#x5236;&#x3002; &#x6709;&#x5173;&#x63A5;&#x53D7;InputSource&#xFF0C;InputStream&#x548C;Reader&#x7684;&#x91CD;&#x8F7D;parse()&#x65B9;&#x6CD5;&#x7684;&#x66F4;&#x591A;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605; <code>http://groovy.codehaus.org/api/</code>&#x4E0A;&#x7684;API&#x6587;&#x6863;&#x3002;</p>
<p><strong>&#x89E3;&#x6790;XML&#x5B57;&#x7B26;&#x4E32;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** same ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)

<span class="hljs-comment">// XmlSlurper (*** same ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
</code></pre>
<p>&#x7531;&#x4E8E;&#x63A5;&#x53D7;String&#x7684;&#x91CD;&#x8F7D;parse()&#x65B9;&#x6CD5;&#x5C06;&#x5176;&#x89C6;&#x4E3A;URL&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5C06;XML&#x5B58;&#x50A8;&#x5728;String&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5355;&#x72EC;&#x7684;parseText()&#x65B9;&#x6CD5;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x5728;&#x672C;&#x8282;&#x7684;&#x5927;&#x591A;&#x6570;&#x793A;&#x4F8B;&#x4E2D;&#x4F7F;&#x7528;parseText()&#xFF0C;&#x56E0;&#x4E3A;&#x4E3A;&#x4E86;&#x6E05;&#x6670;&#x548C;<code>&#x590D;&#x5236;/&#x7C98;&#x8D34;</code>&#x53CB;&#x597D;&#x6027;&#xFF0C;XML&#x4E0E;&#x5176;&#x4F59;&#x4EE3;&#x7801;&#x5185;&#x8054;&#x3002;</p>
<h3 id="7_4_Dealing_with_XML_Attributes"><a name="7_4_Dealing_with_XML_Attributes" class="anchor-navigation-ex-anchor" href="#7_4_Dealing_with_XML_Attributes"><i class="fa fa-link" aria-hidden="true"></i></a>7.4 &#x5904;&#x7406;XML&#x5C5E;&#x6027; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot; ssn=&quot;555-11-2222&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** same ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.attributes()
===&gt; [<span class="hljs-string">&quot;ssn&quot;</span>:<span class="hljs-string">&quot;555-11-2222&quot;</span>, <span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-string">&quot;99&quot;</span>]

person.attributes().each{name, value-&gt;
  println <span class="hljs-string">&quot;${name} ${value}&quot;</span>
}
===&gt;
ssn <span class="hljs-number">555</span><span class="hljs-number">-11</span><span class="hljs-number">-2222</span>
id <span class="hljs-number">99</span>

<span class="hljs-comment">// XmlSlurper (*** same ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.attributes()
===&gt; [<span class="hljs-string">&quot;ssn&quot;</span>:<span class="hljs-string">&quot;555-11-2222&quot;</span>, <span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-string">&quot;99&quot;</span>]

person.attributes().each{name, value-&gt;
  println <span class="hljs-string">&quot;${name} ${value}&quot;</span>
}
===&gt;
ssn <span class="hljs-number">555</span><span class="hljs-number">-11</span><span class="hljs-number">-2222</span>
id <span class="hljs-number">99</span>
</code></pre>
<p>&#x5C5E;&#x6027;&#x662F;Java&#x7B49;&#x6548;&#x7684;Java&#x54C8;&#x5E0C;&#x6620;&#x5C04; - &#x5B83;&#x4EEC;&#x662F;XML&#x5143;&#x7D20;&#x4E0A;&#x7684;&#x4E00;&#x7CFB;&#x5217;<code>&#x540D;&#x79F0;/&#x503C;</code>&#x5BF9;&#x3002; Node&#x548C;GPathResult&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x76F8;&#x540C;&#x7684;attributes()&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;hashmap&#x3002; &#x6709;&#x5173;&#x4F7F;&#x7528;&#x6563;&#x5217;&#x6620;&#x5C04;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x6280;&#x5DE7;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;62&#x9875;&#x4E0A;&#x7684;&#x7B2C;3.15&#x8282;&#x201C;&#x6620;&#x5C04;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x201D;&#x3002;</p>
<p><strong>&#x83B7;&#x5F97;&#x5355;&#x4E2A;&#x5C5E;&#x6027;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot; ssn=&quot;555-11-2222&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.attribute(<span class="hljs-string">&quot;id&quot;</span>)
===&gt; <span class="hljs-number">99</span>
println person.attribute(<span class="hljs-string">&quot;foo&quot;</span>)
===&gt; <span class="hljs-literal">null</span>

<span class="hljs-comment">// XmlSlurper (*** different ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.<span class="hljs-meta">@id</span>
===&gt; <span class="hljs-number">99</span>
println person.<span class="hljs-meta">@foo</span>
===&gt; (returns an empty string)
</code></pre>
<p>&#x4F7F;&#x7528;XmlParser&#x65F6;&#xFF0C;&#x4F7F;&#x7528;attribute()&#x65B9;&#x6CD5;&#x63D0;&#x53D6;&#x5355;&#x4E2A;&#x5C5E;&#x6027;&#x3002; &#x4F7F;&#x7528;XmlSlurper&#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x4E0A;&#x4F7F;&#x7528;<code>@</code>&#x8868;&#x793A;&#x6CD5;&#x3002;</p>
<p><strong>&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x7684;Hashmap&#x8BED;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;99&quot; ssn=&quot;555-11-2222&quot;&gt;John Smith&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** same ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person[<span class="hljs-string">&quot;@id&quot;</span>]
===&gt; <span class="hljs-number">99</span>

<span class="hljs-keyword">def</span> atts = [<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;ssn&quot;</span>]
atts.each{att-&gt;
println person[<span class="hljs-string">&quot;@${att}&quot;</span>]
}
===&gt;
<span class="hljs-number">99</span>
<span class="hljs-number">555</span><span class="hljs-number">-11</span><span class="hljs-number">-2222</span>

<span class="hljs-comment">// XmlSlurper (*** same ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person[<span class="hljs-string">&quot;@id&quot;</span>]
===&gt; <span class="hljs-number">99</span>

atts.each{att-&gt;
println person[<span class="hljs-string">&quot;@${att}&quot;</span>]
}
===&gt;
<span class="hljs-number">99</span>
<span class="hljs-number">555</span><span class="hljs-number">-11</span><span class="hljs-number">-2222</span>
</code></pre>
<p>XmlParser&#x548C;XmlSlurper&#x90FD;&#x652F;&#x6301;&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x66FF;&#x4EE3;&#x8BED;&#x6CD5;&#x3002; &#x4F7F;&#x7528;hashmap&#x8868;&#x793A;&#x6CD5;&#xFF08;person[&quot;@id&quot;]&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x7406;&#x60F3;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x65E2;&#x53EF;&#x4EE5;&#x6A21;&#x7CCA;&#x8FD9;&#x4E24;&#x4E2A;&#x5E93;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4F60;&#x8BD5;&#x56FE;&#x533A;&#x5206;&#x5B83;&#x4EEC;&#x65F6;&#x5F7B;&#x5E95;&#x8FF7;&#x60D1;&#x81EA;&#x5DF1;&#x3002;</p>
<p>&#x6211;&#x53D1;&#x73B0;&#x8FD9;&#x79CD;&#x5907;&#x7528;hashmap&#x8BED;&#x6CD5;&#x7684;&#x6700;&#x4F73;&#x7528;&#x9014;&#x662F;&#x5F53;&#x6211;&#x9700;&#x8981;&#x6839;&#x636E;&#x6CDB;&#x578B;&#x53D8;&#x91CF;&#x63D0;&#x53D6;&#x5C5E;&#x6027;&#x65F6;&#x3002; &#x77E5;&#x9053;&#x5176;&#x4ED6;&#x7C7B;&#x652F;&#x6301;&#x76F8;&#x540C;&#x7684;&#x8BED;&#x6CD5; - <code>println person[&quot;@${att}&quot;]</code> - &#x610F;&#x601D;&#x662F;&#x6211;&#x4E0D;&#x5FC5;&#x8FC7;&#x4E8E;&#x8003;&#x8651;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x6211;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x5728;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x6709;&#x6548;&#x7684;&#x8BED;&#x6CD5;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x5728;XmlParser&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x4F7F;&#x7528;<code>person.attribute(&quot;${att}&quot;)</code>&#x3002; &#x5728;XmlSlurper&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>person.&quot;@${att}&quot;</code>&#x3002;</p>
<h3 id="7_5_Getting_the_Body_of_an_XML_Element"><a name="7_5_Getting_the_Body_of_an_XML_Element" class="anchor-navigation-ex-anchor" href="#7_5_Getting_the_Body_of_an_XML_Element"><i class="fa fa-link" aria-hidden="true"></i></a>7.5 &#x83B7;&#x53D6;XML&#x5143;&#x7D20;&#x7684;&#x4E3B;&#x4F53; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;100&quot;&gt;Jane Doe&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.text()
===&gt; Jane Doe

<span class="hljs-comment">// XmlSlurper (*** different ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person
===&gt; Jane Doe
</code></pre>
<p>&#x4ECE;XML&#x5143;&#x7D20;&#x4E2D;&#x83B7;&#x53D6;&#x6587;&#x672C;&#x9700;&#x8981;&#x4E0E;XmlParser&#x548C;XmlSlurper&#x7565;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x8BED;&#x6CD5;&#x3002; &#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#x7B2C;7.2&#x8282;&#x201C;&#x4E86;&#x89E3;XmlParser&#x548C;XmlSlurper&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x201D;&#xFF0C;&#x7B2C;117&#x9875;&#xFF0C;&#x6BCF;&#x4E2A;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x7565;&#x5FAE;&#x4E0D;&#x540C;&#x7684;&#x4E16;&#x754C;&#x89C2;&#x3002; XmlSlurper&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x89C6;&#x4E3A;&#x5927;&#x578B;<code>GPath&#x67E5;&#x8BE2;</code>&#x3002; &#x8981;&#x6C42;person&#x7B49;&#x5143;&#x7D20;&#x9ED8;&#x8BA4;&#x8981;&#x6C42;&#x5176;&#x6587;&#x672C;&#x3002; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;XmlParser&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x89C6;&#x4E3A;<code>&#x8282;&#x70B9;</code>&#x3002; &#x60A8;&#x5FC5;&#x987B;&#x5728;&#x8282;&#x70B9;&#x4E0A;&#x8C03;&#x7528;text()&#x3002; &#x5982;&#x679C;&#x4E0D;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x5219;&#x8C03;&#x7528;toString()&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x8C03;&#x8BD5;&#x8F93;&#x51FA;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;&lt;person id=&quot;100&quot;&gt;Jane Doe&lt;/person&gt;&quot;&quot;&quot;</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)

println person
===&gt; person[attributes={id=<span class="hljs-number">100</span>}; value=[Jane Doe]]
</code></pre>
<p><strong>&#x4F7F;&#x7528;&#x5143;&#x7D20;&#x7684;Hashmap&#x8BED;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person[<span class="hljs-string">&apos;firstname&apos;</span>].text()
===&gt; Jane

<span class="hljs-comment">// XmlSlurper (*** different ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person[<span class="hljs-string">&apos;firstname&apos;</span>]
===&gt; Jane
</code></pre>
<p>&#x4E24;&#x4E2A;&#x89E3;&#x6790;&#x5668;&#x90FD;&#x5141;&#x8BB8;&#x60A8;&#x5C06;&#x6BCF;&#x4E2A;&#x5B50;XML&#x8282;&#x70B9;&#x89C6;&#x4E3A;&#x5176;&#x7236;&#x8282;&#x70B9;&#x7684;Map&#x5143;&#x7D20;&#x3002; &#x8C03;&#x7528;<code>person.firstname.text()</code>&#x6216;<code>person[&apos;firstname&apos;].text()</code>&#xFF08;&#x5728;XmlParser&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF09;&#x5BF9;&#x4F60;&#x6765;&#x8BF4;&#x7EAF;&#x7CB9;&#x662F;&#x4E00;&#x79CD;&#x98CE;&#x683C;&#x9009;&#x62E9;&#xFF0C;&#x5C3D;&#x7BA1;&#x5982;&#x679C;&#x4F60;&#x6709;&#x4E00;&#x4E2A;&#x8981;&#x5904;&#x7406;&#x7684;&#x5143;&#x7D20;&#x540D;&#x5217;&#x8868;&#xFF0C;Map&#x8BED;&#x6CD5;&#x6709;&#x65F6;&#x66F4;&#x5BB9;&#x6613;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> xml = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
&lt;/person&gt;
&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(xml)
<span class="hljs-keyword">def</span> elements = [<span class="hljs-string">&quot;firstname&quot;</span>, <span class="hljs-string">&quot;lastname&quot;</span>]
elements.each{element-&gt;
  println person[element].text()
}
===&gt;
Jane
Doe
</code></pre>
<h3 id="7_6_Dealing_with_Mixed_Case_Element_Names"><a name="7_6_Dealing_with_Mixed_Case_Element_Names" class="anchor-navigation-ex-anchor" href="#7_6_Dealing_with_Mixed_Case_Element_Names"><i class="fa fa-link" aria-hidden="true"></i></a>7.6 &#x5904;&#x7406;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x5143;&#x7D20;&#x540D;&#x79F0; </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">// &#x6CE8;&#x610F;firstname&#x548C;LastName&#x4E2D;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x5DEE;&#x5F02;</span>
<span class="hljs-comment">// Groovy&#x4EE3;&#x7801;&#x955C;&#x50CF;XML&#x5143;&#x7D20;&#x540D;&#x79F0;&#x7684;&#x5927;&#x5C0F;&#x5199;</span>
<span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;99&quot;&gt;
  &lt;firstname&gt;John&lt;/firstname&gt;
  &lt;LastName&gt;Smith&lt;/LastName&gt;
&lt;/person&gt;
&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.firstname.text()
===&gt; John
println person.LastName.text()
===&gt; Smith

<span class="hljs-comment">// XmlSlurper (*** different ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.firstname
===&gt; John
println person.LastName
===&gt; Smith
</code></pre>
<p>&#x65E0;&#x8BBA;&#x662F;XML&#x89E3;&#x6790;&#x5668;&#x5173;&#x5FC3;XML&#x5143;&#x7D20;&#x7684;&#x540D;&#x79F0;&#x662F;&#x5426;&#x4E3A;&#x5C0F;&#x5199;&#xFF0C;&#x5927;&#x5199;&#x6216;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x3002; &#x60A8;&#x5728;Groovy&#x4E2D;&#x5F15;&#x7528;&#x5B83;&#x4EEC;&#x7684;&#x65B9;&#x5F0F;&#x90FD;&#x8981;&#x4E0E;&#x5B83;&#x4EEC;&#x5728;XML&#x6587;&#x4EF6;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x65B9;&#x5F0F;&#x76F8;&#x540C;&#x3002;</p>
<h3 id="7_7_Dealing_with_Hyphenated_Element_Names"><a name="7_7_Dealing_with_Hyphenated_Element_Names" class="anchor-navigation-ex-anchor" href="#7_7_Dealing_with_Hyphenated_Element_Names"><i class="fa fa-link" aria-hidden="true"></i></a>7.7 &#x5904;&#x7406;&#x8FDE;&#x5B57;&#x7B26;&#x5143;&#x7D20;&#x540D;&#x79F0; </h3>
<pre><code class="lang-groovy">//&#x6CE8;&#x610F;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x548C;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;
//Groovy&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7279;&#x6B8A;&#x8BED;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x8FDE;&#x5B57;&#x7B26;
def p = &quot;&quot;&quot;
&lt;person id=&quot;99&quot;&gt;
  &lt;first-name&gt;John&lt;/first-name&gt;
  &lt;last_name&gt;Smith&lt;/last_name&gt;
&lt;/person&gt;
&quot;&quot;&quot;

// XmlParser (*** different ***)
def person = new XmlParser().parseText(p)
println person.first-name.text()
===&gt;
Caught: groovy.lang.MissingPropertyException:
No such property: name for class: person

println person.&apos;first-name&apos;.text()
println person[&apos;first-name&apos;].text()
===&gt;
John

println person.last_name.text()
println person.&apos;last_name&apos;.text()
println person[&apos;last_name&apos;].text()
===&gt;
Smith

// XmlSlurper (*** different ***)
person = new XmlSlurper().parseText(p)
println person.&apos;first-name&apos;
println person[&apos;first-name&apos;]
===&gt;
John

println person.last_name
println person.&apos;last_name&apos;
println person[&apos;last_name&apos;]
===&gt;
Smith
</code></pre>
<p>&#x4E24;&#x79CD;XML&#x89E3;&#x6790;&#x5668;&#x90FD;&#x5C3D;&#x529B;&#x6A21;&#x7CCA;XML&#x548C;Groovy&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x955C;&#x50CF;&#x8282;&#x70B9;&#x540D;&#x79F0;&#x3002; &#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x8FB9;&#x7F18;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E0D;&#x5339;&#x914D;100&#xFF05;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x5916;&#x89C2;&#x4F1A;&#x5D29;&#x6E83;&#x3002; &#xFF08;&#x8FD9;&#x88AB;&#x79F0;&#x4E3A;&#x6F0F;&#x6D1E;&#x62BD;&#x8C61;<sup><a href="#fn_77" id="reffn_77">77</a></sup>&#x3002;&#xFF09;</p>
<p>&#x5C3D;&#x7BA1;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x540D;&#x79F0;&#x5728;XML&#x4E2D;&#x5B8C;&#x5168;&#x6709;&#x6548;&#xFF0C;&#x4F46;Groovy&#x4E2D;&#x7684;<code>person.first-name</code>&#x610F;&#x5473;&#x7740;&#x201C;&#x83B7;&#x53D6;&#x53D8;&#x91CF;&#x540D;&#x79F0;&#x7684;&#x503C;&#x5E76;&#x4ECE;person.first&#x4E2D;&#x51CF;&#x53BB;&#x5B83;&#x3002;&#x201D;&#x7528;&#x5E26;&#x5F15;&#x53F7;&#x62EC;&#x8D77;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x540D;&#x79F0;&#x4F1A;&#x5C06;&#x8BED;&#x53E5;&#x8F6C;&#x6362;&#x56DE;&#x6709;&#x6548;&#x7684;Groovy&#x6784;&#x9020;&#x3002;</p>
<p>&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5E26;&#x6709;&#x4E0B;&#x5212;&#x7EBF;&#x7684;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x6309;&#x539F;&#x6837;&#x4F7F;&#x7528;&#x3002; &#x4E0B;&#x5212;&#x7EBF;&#x5728;Groovy&#x548C;XML&#x4E2D;&#x90FD;&#x6709;&#x6548;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x5728;Groovy&#x4E2D;&#x4FDD;&#x7559;&#x5F15;&#x53F7;&#x3002; &#x4EBA;&#x4EEC;&#x5F80;&#x524D;&#x8D70;&#xFF0C;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x53EF;&#x770B;&#x7684;&#x3002; &#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x6CC4;&#x6F0F;&#x7684;&#x62BD;&#x8C61;&#x3002;</p>
<h3 id="7_8_Navigating_Deeply_Nested_XML"><a name="7_8_Navigating_Deeply_Nested_XML" class="anchor-navigation-ex-anchor" href="#7_8_Navigating_Deeply_Nested_XML"><i class="fa fa-link" aria-hidden="true"></i></a>7.8 &#x6DF1;&#x5165;&#x5BFC;&#x822A;&#x5D4C;&#x5957;XML </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-comment">// XmlParser (*** different ***)</span>
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.address[<span class="hljs-number">0</span>].street[<span class="hljs-number">0</span>].text()
===&gt; <span class="hljs-number">123</span> Main St

<span class="hljs-comment">// XmlSlurper (*** different ***)</span>
person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.address.street
===&gt; <span class="hljs-number">123</span> Main St
</code></pre>
<p>&#x4ECE;&#x672C;&#x7AE0;&#x5F00;&#x59CB;&#xFF0C;&#x6211;&#x4E00;&#x76F4;&#x8BD5;&#x56FE;&#x544A;&#x8BC9;&#x4F60;&#x8FD9;&#x4E24;&#x4E2A;&#x5E93;&#x6709;&#x591A;&#x4E48;&#x4E0D;&#x540C;&#x3002; &#x73B0;&#x5728;&#xFF0C;&#x60A8;&#x7B2C;&#x4E00;&#x6B21;&#x771F;&#x6B63;&#x770B;&#x5230;&#x4E86;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x4E16;&#x754C;&#x89C2;&#x3002;</p>
<p>XmlParser&#x5C06;XML&#x6587;&#x6863;&#x89C6;&#x4E3A;&#x8282;&#x70B9;&#x7684;ArrayList&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x5FC5;&#x987B;&#x5728;&#x6811;&#x4E2D;&#x4E00;&#x76F4;&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x8868;&#x793A;&#x6CD5;&#x3002; XmlSlurper&#x5C06;XML&#x6587;&#x6863;&#x89C6;&#x4E3A;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x53D1;&#x751F;&#x7684;&#x5927;&#x578B;GPath&#x67E5;&#x8BE2;&#x3002; &#x8BA9;&#x6211;&#x4EEC;&#x66F4;&#x8BE6;&#x7EC6;&#x5730;&#x63A2;&#x8BA8;&#x6BCF;&#x4E00;&#x4E2A;&#x3002;</p>
<p><strong>XmlParser: text(), children(), and value()</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
println person.text()
===&gt; (returns an empty string)

println person.children()
===&gt;
[
  firstname[attributes={}; value=[Jane]],
  lastname[attributes={}; value=[Doe]],
  address[attributes={type=home}; value=[
    street[attributes={}; value=[<span class="hljs-number">123</span> Main St]],
    city[attributes={}; value=[Denver]],
    state[attributes={}; value=[CO]],
    zip[attributes={}; value=[<span class="hljs-number">80020</span>]]
  ]]
]

println person.value()
<span class="hljs-comment">// &#x8FD4;&#x56DE;text() &#x6216; value()&#x7684;&#x6CDB;&#x578B;&#x51FD;&#x6570;&#xFF0C;</span>
<span class="hljs-comment">// &#x53D6;&#x51B3;&#x4E8E;&#x586B;&#x5145;&#x7684;&#x5B57;&#x6BB5;&#x3002;</span>
<span class="hljs-comment">// &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;person.value()&#x7B49;&#x540C;&#x4E8E;children()&#x3002;</span>
</code></pre>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x8FC7;text()&#x65B9;&#x6CD5;&#x4E86;&#x3002; &#x73B0;&#x5728;&#x662F;&#x65F6;&#x5019;&#x4ECB;&#x7ECD;&#x4F60;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x5176;&#x4ED6;Node&#x65B9;&#x6CD5;&#xFF1A;children()&#x3002; &#x867D;&#x7136;text()&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;String&#xFF0C;&#x4F46;children()&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;ArrayList&#x3002; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x60F3;&#x770B;&#xFF0C;&#x4E00;&#x4E2A;XML&#x6587;&#x6863;&#x4E2D;&#x7684;&#x8282;&#x70B9;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x6216;&#x5176;&#x4ED6;&#x3002; Person &#x6709; children; firstname &#x6709; text. Address &#x6709; children; city &#x662F; text.</p>
<p>&#x7406;&#x89E3;Node&#x7684;&#x53CC;&#x91CD;&#x6027;&#x8D28; - &#x52A0;&#x4E0A;&#x4E00;&#x4E9B;Groovy&#x771F;&#x7406;&#xFF08;&#x5982;&#x7B2C;3.10&#x8282;&#xFF0C;Groovy Truth&#xFF0C;&#x7B2C;54&#x9875;&#x6240;&#x8FF0;&#xFF09; - &#x4F7F;&#x5F97;&#x786E;&#x5B9A;&#x8282;&#x70B9;&#x662F;&#x53F6;&#x5B50;&#x8FD8;&#x662F;&#x5206;&#x652F;&#x53D8;&#x5F97;&#x5FAE;&#x4E0D;&#x8DB3;&#x9053;&#x3002; &#x8FD9;&#x5141;&#x8BB8;&#x60A8;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x5730;&#x9012;&#x5F52;&#x4EFB;&#x610F;&#x6DF1;&#x5EA6;&#x7684;&#x6587;&#x6863;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">if</span>(person.text()){
  println <span class="hljs-string">&quot;Leaf&quot;</span>
} <span class="hljs-keyword">else</span>{
  println <span class="hljs-string">&quot;Branch&quot;</span>
}
===&gt; Branch

<span class="hljs-keyword">if</span>(person.children()){
  println <span class="hljs-string">&quot;Branch&quot;</span>
} <span class="hljs-keyword">else</span>{
  println <span class="hljs-string">&quot;Leaf&quot;</span>
}
===&gt; Branch
</code></pre>
<p>&#x4F60;&#x5E94;&#x8BE5;&#x719F;&#x6089;&#x7684;Node&#x4E0A;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;value()&#x3002; &#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;text()&#x6216;children()&#xFF0C;&#x5177;&#x4F53;&#x53D6;&#x51B3;&#x4E8E;&#x586B;&#x5145;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p><strong>XmlParser: each()</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
  &lt;address type=&quot;work&quot;&gt;
    &lt;street&gt;987 Other Ave&lt;/street&gt;
    &lt;city&gt;Boulder&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80090&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p)

println person.address[<span class="hljs-number">0</span>].attribute(<span class="hljs-string">&quot;type&quot;</span>)
===&gt; home

println person.address[<span class="hljs-number">1</span>].attribute(<span class="hljs-string">&quot;type&quot;</span>)
===&gt; work

person.address.each{a-&gt;
  println a.attribute(<span class="hljs-string">&quot;type&quot;</span>)
}
===&gt;
home
work
</code></pre>
<p>&#x7531;&#x4E8E;children()&#x8FD4;&#x56DE;&#x8282;&#x70B9;&#x7684;ArrayList&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B2C;53&#x9875;&#x4E0A;&#x7684;&#x7B2C;3.14&#x8282;&#x201C;&#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x201D;&#x4E2D;&#x5B66;&#x5230;&#x7684;&#x6240;&#x6709;&#x6280;&#x5DE7;&#x6765;&#x5904;&#x7406;&#x5B83;&#x4EEC;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x8868;&#x793A;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x60A8;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x7279;&#x5B9A;&#x5730;&#x5740;&#xFF0C;&#x6216;&#x8005;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;each()&#x6765;&#x904D;&#x5386;&#x5217;&#x8868;&#x3002;</p>
<p>&#x5F53;&#x4F7F;&#x7528;XmlParser&#x5728;&#x6811;&#x4E2D;&#x5BFC;&#x822A;&#x65F6;&#xFF0C;&#x8BED;&#x6CD5;&#x4F1A;&#x5728;&#x6BCF;&#x4E2A;&#x5FAA;&#x73AF;&#x4E2D;&#x63D0;&#x9192;&#x60A8;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x8282;&#x70B9;&#x53EF;&#x80FD;&#x662F;&#x8BB8;&#x591A;&#x5B50;&#x8282;&#x70B9;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x3002; &#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x904D;&#x5386;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x8BE2;&#x95EE;&#x627E;&#x5230;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x57CE;&#x5E02;&#x3002; &#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x8FD9;&#x6709;&#x70B9;&#x4EE4;&#x4EBA;&#x5931;&#x671B;&#x2014;&#x2014;&#x4ECE;&#x903B;&#x8F91;&#x4E0A;&#x8BB2;&#xFF0C;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x62E5;&#x6709;&#x591A;&#x4E2A;&#x57CE;&#x5E02;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;XML&#x89C4;&#x5219;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x53D1;&#x751F;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x660E;&#x786E;&#x5730;&#x6355;&#x6349;&#x5B83;:</p>
<pre><code class="lang-groovy">person.address.each{a-&gt;
  println a.city[<span class="hljs-number">0</span>].text()
}
===&gt;
Denver
Boulder
</code></pre>
<p>&#x4ECE;&#x79EF;&#x6781;&#x7684;&#x65B9;&#x9762;&#x770B;&#xFF0C;XmlParser&#x4F7F;&#x5BF9;XML&#x8FDB;&#x884C;&#x5782;&#x76F4;&#x5207;&#x7247;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x662F;&#x60F3;&#x8BA9;&#x6BCF;&#x4E2A;&#x57CE;&#x5E02;&#x7684;&#x6240;&#x6709;&#x5730;&#x5740;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4F7F;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x5F88;&#x77ED;:</p>
<pre><code class="lang-groovy">person.address.city.each{c-&gt;
  println c.text()
}
===&gt;
Denver
Boulder
</code></pre>
<p>&#x6211;&#x5E0C;&#x671B;&#x672C;&#x8282;&#x80FD;&#x591F;&#x975E;&#x5E38;&#x6E05;&#x695A;&#x5730;&#x8BF4;&#x660E;&#xFF0C;XmlParser&#x8BA4;&#x4E3A;&#x60A8;&#x7684;XML&#x6587;&#x6863;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x8282;&#x70B9;&#x548C;&#x8282;&#x70B9;&#x5217;&#x8868;&#x3002;</p>
<p><strong>XmlSlurper</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.firstname
===&gt; Jane

println person.lastname
===&gt; Doe

println person.address.city
===&gt; Denver
</code></pre>
<p>XmlParser&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x89C6;&#x4E3A;<strong>&#x8282;&#x70B9;</strong>&#x6216;<strong>&#x8282;&#x70B9;&#x5217;&#x8868;</strong>&#xFF0C;&#x800C;XmlSlurper&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x89C6;&#x4E3A;<strong>GPath&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;</strong>&#x3002; &#x8FD9;&#x4F7F;&#x5F97;&#x5BFC;&#x822A;&#x8DEF;&#x5F84;&#x66F4;&#x52A0;&#x81EA;&#x7136;&#x3002;&#x5F53;&#x4F60;&#x95EE;<code>person.address.city</code>&#x65F6;&#x3002;&#x60A8;&#x662F;&#x5728;&#x9690;&#x5F0F;&#x5730;&#x8BF7;&#x6C42;&#x8BE5;&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x3002; &#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;XmlParser&#x5BF9;&#x5206;&#x652F;&#x6709;&#x5F88;&#x5F3A;&#x7684;&#x4EB2;&#x548C;&#x529B;&#x3002;XmlSlurper&#x6B63;&#x597D;&#x76F8;&#x53CD;:&#x5B83;&#x9488;&#x5BF9;&#x53F6;&#x5B50;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x591F;&#x5177;&#x4F53;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x4F60;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x6BEB;&#x65E0;&#x610F;&#x4E49;:</p>
<pre><code class="lang-groovy">println person
===&gt; JaneDoe123 Main StDenverCO80020
println person.address
===&gt; <span class="hljs-number">123</span> Main StDenverCO80020
</code></pre>
<p>&#x5728;&#x6BCF;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x90FD;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5206;&#x652F;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x7247;&#x53F6;&#x5B50;&#x3002;&#x786E;&#x4FDD;&#x4F60;&#x603B;&#x662F;&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x53F6;&#x5B50;&#x5C06;&#x6709;&#x52A9;&#x4E8E;&#x786E;&#x4FDD;&#x4F60;&#x5F97;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5408;&#x7406;&#x7684;&#x56DE;&#x7B54;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x8BE2;&#x95EE;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x5730;&#x5740;&#x7684;&#x57CE;&#x5E02;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person id=&quot;100&quot;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;address type=&quot;home&quot;&gt;
    &lt;street&gt;123 Main St&lt;/street&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80020&lt;/zip&gt;
  &lt;/address&gt;
  &lt;address type=&quot;work&quot;&gt;
    &lt;street&gt;987 Other Ave&lt;/street&gt;
    &lt;city&gt;Boulder&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zip&gt;80090&lt;/zip&gt;
  &lt;/address&gt;
&lt;/person&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.address.city
===&gt;DenverBoulder
println person.address[<span class="hljs-number">0</span>].city
===&gt;Denver
</code></pre>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x771F;&#x7684;&#x60F3;&#x8981;&#x6240;&#x6709;&#x57CE;&#x5E02;&#x7684;&#x5782;&#x76F4;&#x90E8;&#x5206;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x50CF;&#x6D4F;&#x89C8;&#x5176;&#x4ED6;&#x5217;&#x8868;&#x4E00;&#x6837;&#x6D4F;&#x89C8;&#x6BCF;&#x4E00;&#x4E2A;&#x57CE;&#x5E02;:</p>
<pre><code class="lang-groovy">person.address.city.each{println it}
===&gt;
Denver
Boulder
</code></pre>
<h3 id="7_9_Parsing_an_XML_Document_with_Namespaces"><a name="7_9_Parsing_an_XML_Document_with_Namespaces" class="anchor-navigation-ex-anchor" href="#7_9_Parsing_an_XML_Document_with_Namespaces"><i class="fa fa-link" aria-hidden="true"></i></a>7.9 &#x4F7F;&#x7528;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p_xml = <span class="hljs-string">&quot;&quot;&quot;
&lt;p:person
  xmlns:p=&quot;http://somewhere.org/person&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://somewhere.org/person
                      http://somewhere.org/person.xsd&quot;
  id=&quot;99&quot;&gt;
  &lt;p:firstname&gt;John&lt;/p:firstname&gt;
  &lt;p:last-name&gt;Smith&lt;/p:last-name&gt;
&lt;/p:person&gt;
&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlParser().parseText(p_xml)

<span class="hljs-comment">//&#x5982;&#x679C;&#x6CA1;&#x6709;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x5C31;&#x65E0;&#x6CD5;&#x627E;&#x5230;firstname&#x5143;&#x7D20;</span>
println person.firstname.text()
===&gt; []

<span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> groovy.xml.Namespace(<span class="hljs-string">&quot;http://somewhere.org/person&quot;</span>)
println person[p.firstname].text()
===&gt; John

println person[p.<span class="hljs-string">&apos;last-name&apos;</span>].text()
===&gt; Smith
</code></pre>
<p>&#x5F53;&#x4EBA;&#x4EEC;&#x62B1;&#x6028;XML&#x65F6;&#xFF0C;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x901A;&#x5E38;&#x6392;&#x5728;&#x9996;&#x4F4D;&#x3002;&#x201C;&#x8FD9;&#x4F7F;&#x4E8B;&#x60C5;&#x590D;&#x6742;&#x5316;&#x4E86;&#xFF0C;&#x201D;&#x4ED6;&#x4EEC;&#x4F4E;&#x58F0;&#x5495;&#x54DD;&#x7740;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;&#x597D;&#x5904;&#x662F;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x8868;&#x793A;&#x590D;&#x6742;&#x57DF;&#x7684;XML&#x6587;&#x6863;&#x3002;&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x5728;&#x4E0D;&#x540C;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;name&#x5143;&#x7D20;&#x7684;&#x6587;&#x6863;:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">product:name</span>&gt;</span>iPhone<span class="hljs-tag">&lt;/<span class="hljs-name">product:name</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">vendor:name</span>&gt;</span>Apple<span class="hljs-tag">&lt;/<span class="hljs-name">vendor:name</span>&gt;</span>
</code></pre>
<p>&#x540D;&#x79F0;&#x5143;&#x7D20;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x5B83;&#x4EEC;&#x5728;&#x7F3A;&#x7701;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E2D;&#x60DF;&#x4E00;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8981;&#x5408;&#x5E76;&#x6765;&#x81EA;&#x4E0D;&#x540C;&#x6765;&#x6E90;&#x7684;XML&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">product-name</span>&gt;</span>iPhone<span class="hljs-tag">&lt;/<span class="hljs-name">product-name</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">vendor-name</span>&gt;</span>Apple<span class="hljs-tag">&lt;/<span class="hljs-name">vendor-name</span>&gt;</span>
</code></pre>
<p>&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;Groovy&#x4F7F;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x53D8;&#x5F97;&#x5C3D;&#x53EF;&#x80FD;&#x4E0D;&#x5F15;&#x4EBA;&#x6CE8;&#x76EE;&#x3002;&#x60A8;&#x53EA;&#x9700;&#x58F0;&#x660E;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6240;&#x6709;&#x5143;&#x7D20;&#x5F15;&#x7528;&#x524D;&#x9762;&#x52A0;&#x4E0A;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x53D8;&#x91CF;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> groovy.xml.Namespace(<span class="hljs-string">&quot;http://somewhere.org/person&quot;</span>)
println person[p.firstname].text()
===&gt; John
</code></pre>
<p>&#x56E0;&#x4E3A;&#x70B9;&#x8FD0;&#x7B97;&#x7B26;&#x662F;&#x7528;&#x6765;&#x904D;&#x5386;&#x6811;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8BF7;&#x6C42;<code>person.p.firstname</code>&#x4F1A;&#x6709;&#x6B67;&#x4E49;&#x3002;&#x5728;&#x5904;&#x7406;&#x5E26;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;HashMap&#x8868;&#x793A;&#x6CD5;&#xFF0C;&#x5982;&#x7B2C;124&#x9875;&#x7B2C;7.5&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5373;&#x4F7F;&#x7528;&#x5143;&#x7D20;&#x7684;HashMap&#x8BED;&#x6CD5;:<code>person[p.firstname].text()</code>&#x3002;&#x5982;&#x679C;&#x60A8;&#x6709;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x5143;&#x7D20;&#x4E5F;&#x6709;&#x540D;&#x79F0;&#x7A7A;&#x95F4;, &#x53EA;&#x9700;&#x5F15;&#x7528;&#x5143;&#x7D20;&#x540D;&#x79F0;:<code>person[p. &apos;last-name&apos;].text()</code>&#x3002;</p>
<p><strong>&#x540D;&#x79F0;&#x7A7A;&#x95F4; &#x5728; XmlSlurper</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;p:person
  xmlns:p=&quot;http://somewhere.org/person&quot;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://somewhere.org/person
                      http://somewhere.org/person.xsd&quot;
  id=&quot;99&quot;&gt;
  &lt;p:firstname&gt;John&lt;/p:firstname&gt;
  &lt;p:last-name&gt;Smith&lt;/p:last-name&gt;
&lt;/p:person&gt;
&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> XmlSlurper().parseText(p)
println person.firstname
println person.<span class="hljs-string">&apos;last-name&apos;</span>
===&gt;
John
Smith
</code></pre>
<p>&#x5728;XML&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x65B9;&#x9762;&#xFF0C;XmlSlurper&#x4E0D;&#x540C;&#x4E8E;XmlParser&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;XmlSlurper&#x5FFD;&#x7565;&#x6240;&#x6709;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C; &#x800C;XmlParser&#x5173;&#x6CE8;&#x5B83;&#x4EEC;&#x3002;&#x8FD9;&#x4F7F;&#x5F97;&#x4EE5;&#x4E00;&#x79CD;&#x677E;&#x6563;(&#x5982;&#x679C;&#x4E0D;&#x662F;&#x5B8C;&#x5168;&#x6709;&#x6548;)&#x7684;&#x65B9;&#x5F0F;&#x6495;&#x88C2;XML&#x6587;&#x6863;&#x53D8;&#x5F97;&#x5F88;&#x5BB9;&#x6613;&#x3002; &#x5982;&#x679C;&#x60A8;&#x544A;&#x8BC9;XmlSlurper&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x5B83;&#x5C06;&#x5C0A;&#x91CD;&#x8FD9;&#x4E9B;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x3002;GPathResult&#x7C7B;&#x6709;&#x4E00;&#x4E2A;<code>declareNamespace()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;&#x6620;&#x5C04;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> itemXml = <span class="hljs-string">&quot;&quot;&quot;
&lt;item
  xmlns:product=&quot;urn:somecompany:products&quot;
  xmlns:vendor=&quot;urn:somecompany:vendors&quot; &gt;
  &lt;product:name&gt;iPhone&lt;/product:name&gt;
  &lt;vendor:name&gt;Apple&lt;/vendor:name&gt;
  &lt;quantity&gt;1&lt;/quantity&gt;
&lt;/item&gt;
&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> item = <span class="hljs-keyword">new</span> XmlSlurper().parseText(itemXml)
println item.name
===&gt; iPhoneApple

<span class="hljs-keyword">def</span> ns = [:]
ns.product = <span class="hljs-string">&quot;urn:somecompany:products&quot;</span>
ns.vendor = <span class="hljs-string">&quot;urn:somecompany:vendors&quot;</span>
item.declareNamespace(ns)

println item.<span class="hljs-string">&apos;product:name&apos;</span>
===&gt; iPhone
</code></pre>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x58F0;&#x660E;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x8C03;&#x7528;name&#x5143;&#x7D20;&#x5C06;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x540D;&#x79F0;&#x3002;&#x4E00;&#x65E6;GPathResult&#x77E5;&#x9053;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x5B83;&#x5C06;&#x5141;&#x8BB8;&#x60A8;&#x8C03;&#x7528;&#x9002;&#x5F53;&#x7684;&#x9650;&#x5B9A;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x60A8;&#x662F;&#x5426;&#x6CE8;&#x610F;&#x5230;XmlParser&#x8BA9;&#x60A8;&#x5728;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x548C;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x70B9;?XmlSlurper&#x518D;&#x6B21;&#x63A5;&#x8FD1;&#x4E8E;&#x5339;&#x914D;&#x539F;&#x59CB;XML&#x8BED;&#x6CD5;&#x3002;<code>item.&apos;product:name&apos;</code>&#x5BF9;&#x5E94;&#x4E8E;<code>&lt;item&gt;&lt;product:name&gt;</code>&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x7B26;&#x53F7;<code>:(&#x5192;&#x53F7;)</code>&#x3002; &#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5192;&#x53F7;&#x4E0D;&#x662F;&#x53D8;&#x91CF;&#x540D;&#x4E2D;&#x7684;&#x5408;&#x6CD5;&#x5B57;&#x7B26;&#x3002;&#x5728;XmlSlurper&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x5F15;&#x53F7;&#x62EC;&#x4F4F;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5143;&#x7D20;&#x540D;&#x3002;</p>
<h3 id="7_10_Populating_a_GroovyBean_from_XML"><a name="7_10_Populating_a_GroovyBean_from_XML" class="anchor-navigation-ex-anchor" href="#7_10_Populating_a_GroovyBean_from_XML"><i class="fa fa-link" aria-hidden="true"></i></a>7.10 &#x4ECE;XML&#x586B;&#x5145;GroovyBean </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> p = <span class="hljs-string">&quot;&quot;&quot;
&lt;person&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
&lt;/person&gt;
&quot;&quot;&quot;</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname
}

<span class="hljs-keyword">def</span> pxml = <span class="hljs-keyword">new</span> XmlParser().parseText(p)
<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> Person()

pxml.children().each{child -&gt;
  person.setProperty(child.name(), child.text())
}
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x8FD9;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x771F;&#x6B63;&#x7684;XML&#x5230;java&#x5C01;&#x9001;&#x89E3;&#x51B3;&#x65B9;&#x6848;(&#x6BD4;&#x5982;Castor<sup><a href="#fn_710" id="reffn_710">710</a></sup>)&#x7684;&#x4E30;&#x5BCC;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x60A8;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x4ECE;XML&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;GroovyBean&#x3002; <code>pxml.children()</code>&#x8FD4;&#x56DE;&#x8282;&#x70B9;&#x5217;&#x8868;&#x3002;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x6709;&#x4E00;&#x4E2A;name()&#x65B9;&#x6CD5;&#x548C;&#x4E00;&#x4E2A;text()&#x65B9;&#x6CD5;&#x3002;&#x5728;GroovyBean&#x4E0A;&#x4F7F;&#x7528;&#x539F;&#x751F;&#x7684;setProperty&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5730;&#x4ECE;XML&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x7C7B;&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x77E5;&#x9053;&#x5D4C;&#x5957;&#x7684;XML&#x7ED3;&#x6784;&#x66F4;&#x6DF1;&#x5165;&#xFF0C;&#x5219;&#x5E94;&#x8BE5;&#x9012;&#x5F52;&#x8C03;&#x7528;<code>children()</code>&#x3002; &#x5982;&#x679C;&#x60A8;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x4E0A;&#x8C03;&#x7528;<code>attributes()</code>&#x4EE5;&#x8FD4;&#x56DE;Map&#x3002; &#xFF08;&#x6709;&#x5173;XML&#x6587;&#x6863;&#x7ED3;&#x6784;&#x7684;&#x52A8;&#x6001;&#x5185;&#x7701;&#x7684;&#x66F4;&#x591A;&#x63D0;&#x793A;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;78&#x9875;&#x4E0A;&#x7684;&#x7B2C;7.8&#x8282;&#xFF0C;XmlParser:text(), children()&#x548C;value()&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x91CD;&#x70B9;&#x662F;&#x4E0D;&#x8981;&#x4E3A;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x63D0;&#x4F9B;&#x5B8C;&#x6574;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x53EF;&#x80FD;&#x7684;&#x60C5;&#x51B5; - &#x91CD;&#x70B9;&#x662F;&#x5C55;&#x793A;&#x4F7F;&#x7528;&#x65E5;&#x5E38;Groovy&#x7C7B;&#x5904;&#x7406;XML&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;</p>
<h2 id="8_Writing_XML"><a name="8_Writing_XML" class="anchor-navigation-ex-anchor" href="#8_Writing_XML"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;8&#x7AE0; &#x7F16;&#x5199;XML </h2>
<p>&#x5728;&#x7B2C;7&#x7AE0;&#xFF0C;XML&#x89E3;&#x6790;&#xFF0C;&#x7B2C;116&#x9875;&#xFF0C;&#x6211;&#x4EEC;&#x63A2;&#x8BA8;&#x4E86;&#x6444;&#x53D6;XML&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x6CD5;&#x3002;(&#x65E2;&#x7136;&#x60A8;&#x5DF2;&#x7ECF;&#x5B8C;&#x5168;&#x4E86;&#x89E3;&#x4E86;XmlSlurper&#xFF0C;&#x90A3;&#x4E48;&#x201C;slurp&#x201D;&#x542C;&#x8D77;&#x6765;&#x662F;&#x4E0D;&#x662F;&#x6BD4;&#x201C;ingest&#x201D;&#x9177;&#x591A;&#x4E86;?)&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x7814;&#x7A76;&#x7F16;&#x5199;XML&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x4E0E;Groovy&#x89E3;&#x6790;&#x5668;&#x4E00;&#x6837;&#xFF0C;&#x60A8;&#x6709;&#x4E24;&#x4E2A;&#x7528;&#x4E8E;&#x6784;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x7C7B;&#x4F3C;(&#x4F46;&#x7565;&#x6709;&#x4E0D;&#x540C;)&#x7C7B;&#x2014;&#x2014;markupbuilder&#x548C;StreamingMarkupBuilder&#x3002;&#x5728;&#x672C;&#x7AE0;&#x7ED3;&#x675F;&#x4E4B;&#x524D;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x66F4;&#x6E05;&#x695A;&#x5730;&#x4E86;&#x89E3;&#x6BCF;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#x3002;</p>
<h3 id="8_1_The__I_m_in_a_Hurry__Guide_to_Creating_an_XML_Document"><a name="8_1_The__I_m_in_a_Hurry__Guide_to_Creating_an_XML_Document" class="anchor-navigation-ex-anchor" href="#8_1_The__I_m_in_a_Hurry__Guide_to_Creating_an_XML_Document"><i class="fa fa-link" aria-hidden="true"></i></a>8.1 &#x5728;&#x201C;&#x6211;&#x6709;&#x6025;&#x4E8B;&#x201D;&#x6307;&#x5357;&#x7F16;&#x5199;XML </h3>
<pre><code class="lang-groovy">def xml = new groovy.xml.MarkupBuilder()
xml.person(id:99){
  firstname(&quot;John&quot;)
  lastname(&quot;Smith&quot;)
}
===&gt;
&lt;person id=&apos;99&apos;&gt;
&lt;firstname&gt;John&lt;/firstname&gt;
&lt;lastname&gt;Smith&lt;/lastname&gt;
&lt;/person&gt;
</code></pre>
<p>&#x5C31;&#x50CF;&#x9B54;&#x672F;&#x4E00;&#x6837;&#xFF0C;XML&#x6587;&#x6863;&#x4F3C;&#x4E4E;&#x5F88;&#x5BB9;&#x6613;&#x4ECE;Groovy&#x4E2D;&#x6D88;&#x5931;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;groovy.xml.MarkupBuilder&#x5177;&#x6709;&#x52A8;&#x6001;&#x7279;&#x6027;&#x3002;&#x50CF;person&#x3001;firstname&#x548C;lastname&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x662F;MarkupBuilder&#x539F;&#x751F;&#x7684;&#xFF0C; &#x5C3D;&#x7BA1;&#x534A;&#x79D2;&#x949F;&#x7684;&#x601D;&#x8003;&#x5C31;&#x80FD;&#x8BA9;&#x6211;&#x4EEC;&#x76F8;&#x4FE1;MarkupBuilder&#x6839;&#x672C;&#x4E0D;&#x53EF;&#x80FD;&#x5C06;&#x6574;&#x4E2A;&#x5355;&#x8BCD;&#x5B57;&#x5178;&#x4F5C;&#x4E3A;&#x65B9;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x628A;&#x529F;&#x52B3;&#x5F52;&#x4E8E;&#x6211;&#x4EEC;&#x652F;&#x6301;&#x52A8;&#x6001;&#x7684;&#x670B;&#x53CB;<code>invokeMethod()</code>&#xFF0C;&#x5982;&#x7B2C;10.8&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;(invokeMethod)&#xFF0C;&#x5728;&#x7B2C;193&#x9875;&#x3002;</p>
<p>&#x5F53;&#x60A8;&#x5728;MarkupBuilder&#x4E0A;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;<code>invokeMethod()</code>&#x4F1A;&#x6355;&#x83B7;&#x8FD9;&#x4E9B;&#x8C03;&#x7528;&#x5E76;&#x5C06;&#x5B83;&#x4EEC;&#x89E3;&#x91CA;&#x4E3A;XML&#x6587;&#x6863;&#x7684;&#x8282;&#x70B9;&#x3002;&#x4F5C;&#x4E3A;&#x4E0D;&#x5B58;&#x5728;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x7684;<code>name:value</code>&#x5BF9;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x5C5E;&#x6027;&#x3002;(Groovy&#x652F;&#x6301;&#x547D;&#x540D;&#x53C2;&#x6570;&#x548C;&#x53D8;&#x957F;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x7B2C;76&#x9875;&#x7B2C;4.5&#x8282;&#x201C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#x201D;&#x4E2D;&#x6240;&#x8FF0;&#x3002;)&#x5728;&#x6CA1;&#x6709;&#x540D;&#x79F0;&#x524D;&#x7F00;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F20;&#x5165;&#x7684;&#x503C;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x5143;&#x7D20;&#x7684;&#x4E3B;&#x4F53;&#x3002;&#x5D4C;&#x5957;&#x95ED;&#x5305;&#x5BF9;&#x5E94;&#x4E8E;XML&#x6587;&#x6863;&#x4E2D;&#x7684;&#x5D4C;&#x5957;&#x3002;</p>
<p><strong>&#x6355;&#x83B7;&#x8F93;&#x51FA;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> sw = <span class="hljs-keyword">new</span> StringWriter()
<span class="hljs-keyword">def</span> xml = <span class="hljs-keyword">new</span> groovy.xml.MarkupBuilder(sw)

<span class="hljs-keyword">def</span> fw = <span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">&quot;/path/to/some/file.xml&quot;</span> )
<span class="hljs-keyword">def</span> xml2 = <span class="hljs-keyword">new</span> groovy.xml.MarkupBuilder(fw)
</code></pre>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MarkupBuilder&#x5C06;&#x8F93;&#x51FA;&#x56DE;&#x663E;&#x5230;<code>System.out</code>&#x3002;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x6355;&#x83B7;&#x8F93;&#x51FA;&#xFF0C;&#x5907;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x63A5;&#x53D7;<code>Writer</code>&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x4F20;&#x5165;<code>StringWriter</code>&#x6765;&#x6355;&#x83B7;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>FileWriter</code>&#x5C06;&#x7ED3;&#x679C;&#x76F4;&#x63A5;&#x5199;&#x5165;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="8_2_Creating_Mixed_Case_Element_Names"><a name="8_2_Creating_Mixed_Case_Element_Names" class="anchor-navigation-ex-anchor" href="#8_2_Creating_Mixed_Case_Element_Names"><i class="fa fa-link" aria-hidden="true"></i></a>8.2 &#x521B;&#x5EFA;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x5143;&#x7D20;&#x540D;&#x79F0; </h3>
<pre><code class="lang-groovy">def xml = new groovy.xml.MarkupBuilder()
xml.PERSON(id:100){
  firstName(&quot;Jane&quot;)
  LastName(&quot;Doe&quot;)
}

===&gt;
&lt;PERSON id=&apos;100&apos;&gt;
&lt;firstName&gt;Jane&lt;/firstName&gt;
&lt;LastName&gt;Doe&lt;/LastName&gt;
&lt;/PERSON&gt;
</code></pre>
<p>&#x5982;&#x7B2C;125&#x9875;&#x7B2C;7.6&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5904;&#x7406;&#x6DF7;&#x5408;&#x5927;&#x5C0F;&#x5199;&#x5143;&#x7D20;&#x540D;&#x79F0;&#xFF0C;Groovy&#x4EE3;&#x7801;&#x7684;&#x76EE;&#x7684;&#x662F;&#x5C3D;&#x53EF;&#x80FD;&#x5339;&#x914D;XML&#x8F93;&#x51FA;&#x3002;&#x5C3D;&#x7BA1;&#x672C;&#x4F8B;&#x4E2D;&#x7684;&#x5947;&#x602A;&#x60C5;&#x51B5;&#x4E0D;&#x9075;&#x5FAA;<code>Java/Groovy</code>&#x7F16;&#x7801;&#x7EA6;&#x5B9A;(&#x7C7B;&#x4EE5;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x5F00;&#x5934;&#xFF0C;&#x53D8;&#x91CF;&#x4EE5;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x5F00;&#x5934;&#xFF0C;&#x5E38;&#x91CF;&#x5168;&#x90E8;&#x5927;&#x5199;)&#xFF0C;&#x4F46;Groovy&#x4FDD;&#x7559;&#x4E86;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4EE5;&#x4FBF;&#x60A8;&#x7684;&#x8F93;&#x51FA;&#x5B8C;&#x5168;&#x7B26;&#x5408;&#x60A8;&#x7684;&#x671F;&#x671B;&#x3002;</p>
<h3 id="8_3_Creating_Hyphenated_Element_Names"><a name="8_3_Creating_Hyphenated_Element_Names" class="anchor-navigation-ex-anchor" href="#8_3_Creating_Hyphenated_Element_Names"><i class="fa fa-link" aria-hidden="true"></i></a>8.3 &#x521B;&#x5EFA;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0; </h3>
<pre><code class="lang-groovy">def xml = new groovy.xml.MarkupBuilder()
xml.person(id:99){
  &quot;first-name&quot;(&quot;John&quot;)
  last_name(&quot;Smith&quot;)
}

===&gt;
&lt;person id=&apos;99&apos;&gt;
&lt;first-name&gt;John&lt;/first-name&gt;
&lt;last_name&gt;Smith&lt;/last_name&gt;
&lt;/person&gt;
</code></pre>
<p>&#x6B63;&#x5982;&#x7B2C;7.7&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5728;&#x7B2C;126&#x9875;&#x5904;&#x7406;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x65F6;&#xFF0C;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x5728;XML&#x4E2D;&#x5B8C;&#x5168;&#x6709;&#x6548;&#xFF0C;&#x4F46;&#x5728;Groovy&#x4E2D;&#x65E0;&#x6548;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528;MarkupBuilder&#x521B;&#x5EFA;&#x5E26;&#x8FDE;&#x5B57;&#x7B26;&#x7684;XML&#x5143;&#x7D20;&#x540D;&#x79F0;&#xFF0C;&#x53EA;&#x9700;&#x5C06;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x62EC;&#x5728;&#x5F15;&#x53F7;&#x4E2D;&#x3002;&#x56E0;&#x4E3A;&#x4E0B;&#x5212;&#x7EBF;&#x5728;Groovy&#x4E2D;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C;&#x6240;&#x4EE5;MarkupBuilder&#x4F1A;&#x4E0D;&#x52A0;&#x66F4;&#x6539;&#x5730;&#x4F20;&#x9012;&#x5B83;&#x4EEC;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x5FD8;&#x8BB0;&#x5728;&#x5F15;&#x53F7;&#x4E2D;&#x52A0;&#x4E0A;&#x8FDE;&#x5B57;&#x7B26;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;:</p>
<pre><code class="lang-groovy">def xml = new groovy.xml.MarkupBuilder()
xml.person(id:99){
  first-name(&quot;John&quot;)
  last_name(&quot;Smith&quot;)
}

===&gt;
Caught: groovy.lang.MissingPropertyException:
No such property: first for class: builder
</code></pre>
<h3 id="8_4_Creating_Namespaced_XML_Using_MarkupBuilder"><a name="8_4_Creating_Namespaced_XML_Using_MarkupBuilder" class="anchor-navigation-ex-anchor" href="#8_4_Creating_Namespaced_XML_Using_MarkupBuilder"><i class="fa fa-link" aria-hidden="true"></i></a>8.4 &#x4F7F;&#x7528;MarkupBuilder&#x521B;&#x5EFA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML </h3>
<pre><code class="lang-groovy">def xml = new groovy.xml.MarkupBuilder()
def params = [:]
params.&quot;xmlns:product&quot; = &quot;urn:somecompany:products&quot;
params.&quot;xmlns:vendor&quot; = &quot;urn:somecompany:vendors&quot;
params.id = 99
xml.person(params){
  &quot;product:name&quot;(&quot;iPhone&quot;)
  &quot;vendor:name&quot;(&quot;Apple&quot;)
  quantity(1)
}

===&gt;
&lt;person
xmlns:product=&apos;urn:somecompany:products&apos;
xmlns:vendor=&apos;urn:somecompany:vendors&apos;
id=&apos;99&apos;&gt;
&lt;product:name&gt;iPhone&lt;/product:name&gt;
&lt;vendor:name&gt;Apple&lt;/vendor:name&gt;
&lt;quantity&gt;1&lt;/quantity&gt;
&lt;/person&gt;
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;MarkupBuilder&#x8F7B;&#x677E;&#x5730;&#x521B;&#x5EFA;&#x5177;&#x6709;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;XML&#x6587;&#x6863;&#x3002;&#x6839;&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x58F0;&#x660E;&#x4E0E;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5C5E;&#x6027;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#x3002;&#x60A8;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x4E0E;&#x7528;&#x8FDE;&#x5B57;&#x7B26;&#x8FDE;&#x63A5;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#x2014;&#x2014;&#x60A8;&#x53EA;&#x9700;&#x5C06;&#x5B83;&#x4EEC;&#x62EC;&#x5728;&#x5F15;&#x53F7;&#x4E2D;&#x3002;</p>
<p>&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#xFF0C;MarkupBuilder&#x5E76;&#x4E0D;&#x7406;&#x89E3;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x59A8;&#x788D;&#x5B83;&#x8F7B;&#x677E;&#x5730;&#x5410;&#x51FA;&#x60A8;&#x8981;&#x6C42;&#x5B83;&#x5410;&#x51FA;&#x7684;&#x4EFB;&#x4F55;&#x5185;&#x5BB9;&#x3002;&#x5728;&#x7B2C;8.7&#x8282;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;StreamingMarkupBuilder&#x521B;&#x5EFA;&#x5E26;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;XML&#xFF0C;&#x5728;&#x7B2C;142&#x9875;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x652F;&#x6301;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x7684;&#x6784;&#x5EFA;&#x5668;&#x3002;</p>
<h3 id="8_5_Understanding_the_Difference_Between_MarkupBuilder_and_StreamingMarkupBuilder"><a name="8_5_Understanding_the_Difference_Between_MarkupBuilder_and_StreamingMarkupBuilder" class="anchor-navigation-ex-anchor" href="#8_5_Understanding_the_Difference_Between_MarkupBuilder_and_StreamingMarkupBuilder"><i class="fa fa-link" aria-hidden="true"></i></a>8.5 &#x7406;&#x89E3;MarkupBuilder&#x548C;StreamingMarkupBuilder&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B; </h3>
<pre><code class="lang-groovy">// MarkupBuilder
def xml = new groovy.xml.MarkupBuilder()
xml.person(id:100){
  firstname(&quot;Jane&quot;)
  lastname(&quot;Doe&quot;)
}

===&gt;
&lt;person id=&apos;100&apos;&gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
&lt;/person&gt;

// StreamingMarkupBuilder
def xml = new groovy.xml.StreamingMarkupBuilder().bind{
  person(id:100){
    firstname(&quot;Jane&quot;)
    lastname(&quot;Doe&quot;)
  }
}

println xml
===&gt;
&lt;person id=&apos;100&apos;&gt;&lt;firstname&gt;Jane&lt;/firstname&gt;&lt;lastname&gt;Doe&lt;/lastname&gt;&lt;/person&gt;
</code></pre>
<p>&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x5728;&#x7B2C;7.2&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x5144;&#x5F1F;XmlParser&#x548C;XmlSlurper&#x4E00;&#x6837;&#xFF0C;Groovy&#x5728;&#x7B2C;117&#x9875;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x751F;&#x6210;XML&#x3002;</p>
<p>MarkupBuilder&#x662F;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x4E2D;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x79CD;&#xFF0C;&#x4F46;&#x4E5F;&#x6BD4;&#x8F83;&#x6709;&#x9650;&#x3002;StreamingMarkupBuilder&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x5F53;&#x60A8;&#x7684;&#x9700;&#x6C42;&#x8D85;&#x51FA;MarkupBuilder&#x6240;&#x80FD;&#x63D0;&#x4F9B;&#x7684;&#x8303;&#x56F4;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x3002;</p>
<p><strong>MarkupBuilder&#x548C;StreamingMarkupBuilder&#x4E4B;&#x95F4;&#x6709;&#x4E09;&#x4E2A;&#x5173;&#x952E;&#x533A;&#x522B;:</strong>
::: alert-dark
*&#x3000;MarkupBuilder&#x9ED8;&#x8BA4;&#x5C06;&#x5176;&#x8F93;&#x51FA;&#x53D1;&#x9001;&#x5230;<code>System.out</code>; StreamingMarkupBuilder&#x662F;&#x9759;&#x9ED8;&#x7684;&#xFF0C;&#x76F4;&#x5230;&#x60A8;&#x660E;&#x786E;&#x5730;&#x5C06;&#x5176;&#x79FB;&#x4EA4;&#x7ED9;<code>Writer</code>&#x3002;</p>
<p>*&#x3000;MarkupBuilder&#x662F;&#x540C;&#x6B65;&#x7684;;StreamingMarkupBuilder&#x662F;&#x5F02;&#x6B65;&#x7684;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;MarkupBuilder&#x7ACB;&#x5373;&#x5199;&#x51FA;XML&#x6587;&#x6863;&#x3002;StreamingMarkupBuilder&#x5141;&#x8BB8;&#x60A8;&#x5355;&#x72EC;&#x5B9A;&#x4E49;<code>closure(&#x95ED;&#x5305;)</code>&#x3002;&#x5728;&#x5C06;StreamingMarkupBuilder&#x4F20;&#x9012;&#x7ED9;<code>Writer</code>&#x4E4B;&#x524D;&#xFF0C;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x6587;&#x6863;&#x3002;</p>
<p>*&#x3000;&#x6700;&#x540E;&#xFF0C;MarkupBuilder&#x6F02;&#x4EAE;&#x5730;&#x6253;&#x5370;&#x5B83;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x800C;StreamingMarkupBuilder&#x4E0D;&#x4F1A;&#x3002;(&#x4E3A;&#x4E86;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;&#x672C;&#x7AE0;&#x4E2D;StreamingMarkupBuilder&#x7684;&#x6240;&#x6709;&#x540E;&#x7EED;XML&#x8F93;&#x51FA;&#x90FD;&#x5C06;&#x8FDB;&#x884C;&#x6F02;&#x4EAE;&#x7684;&#x6253;&#x5370;&#x3002;)&#x5982;&#x679C;&#x9700;&#x8981;&#x6F02;&#x4EAE;&#x5730;&#x6253;&#x5370;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;Tidy<a href="&#x5927;&#x591A;&#x6570;Unix/Linux/Mac&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x6807;&#x51C6;&#x5DE5;&#x5177;&#xFF0C;&#x9002;&#x7528;&#x4E8E;Windows">^851</a>&#x6216;Java&#x5E93;JTidy<sup><a href="#fn_852" id="reffn_852">852</a></sup>&#x3002;
:::</p>
<p>&#x672C;&#x7AE0;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x5C06;&#x91CD;&#x70B9;&#x4ECB;&#x7ECD;StreamingMarkupBuilder&#x53CA;&#x5176;&#x4E3A;&#x56E2;&#x961F;&#x5E26;&#x6765;&#x7684;&#x9AD8;&#x7EA7;&#x529F;&#x80FD;&#x3002;</p>
<h3 id="8_6_Creating_Parts_of_the_XML_Document_Separately"><a name="8_6_Creating_Parts_of_the_XML_Document_Separately" class="anchor-navigation-ex-anchor" href="#8_6_Creating_Parts_of_the_XML_Document_Separately"><i class="fa fa-link" aria-hidden="true"></i></a>8.6 &#x5206;&#x522B;&#x521B;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x5404;&#x4E2A;&#x90E8;&#x5206; </h3>
<pre><code class="lang-groovy">def builder = new groovy.xml.StreamingMarkupBuilder()
def person = {
  person(id:99){
  firstname(&quot;John&quot;)
  lastname(&quot;Smith&quot;)
  }
}
println builder.bind(person)
===&gt;
&lt;person id=&apos;99&apos;&gt;&lt;firstname&gt;John&lt;/firstname&gt;&lt;lastname&gt;Smith&lt;/lastname&gt;&lt;/person&gt;
</code></pre>
<p>StreamingMarkupBuilder&#x5141;&#x8BB8;&#x60A8;&#x5B9A;&#x4E49;&#x95ED;&#x5305;&#x5E76;&#x5C06;&#x5176;&#x4F20;&#x9012;&#x7ED9;<code>bind()</code>&#x65B9;&#x6CD5;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EF;&#x4EE5;&#x89E3;&#x8026;&#x8FD9;&#x4E24;&#x8005;&#x2014;&#x2014;&#x72EC;&#x7ACB;&#x521B;&#x5EFA;&#x95ED;&#x5305;&#x5E76;&#x5728;&#x60A8;&#x60F3;&#x8981;&#x521B;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x786E;&#x5207;&#x65F6;&#x523B;&#x5C06;&#x5176;&#x7ED1;&#x5B9A;&#x5230;StreamingMarkupBuilder&#x3002;</p>
<p>&#x5982;&#x679C;&#x60A8;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x95ED;&#x5305;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x95ED;&#x5305;&#x5E76;&#x6839;&#x636E;&#x9700;&#x8981;&#x5C06;&#x5B83;&#x4EEC;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8FD9;&#x662F;&#x7406;&#x6240;&#x5F53;&#x7136;&#x7684;:</p>
<pre><code class="lang-groovy">def builder = new groovy.xml.StreamingMarkupBuilder()
def person1 = {
  person(id:99){
    firstname(&quot;John&quot;)
    lastname(&quot;Smith&quot;)
  }
}

def person2 = {
  person(id:100){
    firstname(&quot;Jane&quot;)
    lastname(&quot;Doe&quot;)
  }
}

def personList = {
  &quot;person-list&quot;{
    out &lt;&lt; person1
    out &lt;&lt; person2
  }
}

println builder.bind(personList)
===&gt;
&lt;person-list&gt;
  &lt;person id=&apos;99&apos;&gt;
    &lt;firstname&gt;John&lt;/firstname&gt;&lt;lastname&gt;Smith&lt;/lastname&gt;
  &lt;/person&gt;
  &lt;person id=&apos;100&apos;&gt;
    &lt;firstname&gt;Jane&lt;/firstname&gt;&lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;/person&gt;
&lt;/person-list&gt;
</code></pre>
<p>&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;personList&#x95ED;&#x5305;&#x5305;&#x542B;&#x5BF9;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x95ED;&#x5305;&#x7684;&#x5F15;&#x7528;:person1&#x548C;person2&#x3002;StreamingMarkupBuilder&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;<code>out</code>&#x76EE;&#x6807;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x5C06;&#x5D4C;&#x5165;&#x5F0F;&#x95ED;&#x5305;&#x6307;&#x5411;&#x8BE5;&#x76EE;&#x6807;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;<code>out</code>, StreamingMarkupBuilder&#x65E0;&#x6CD5;&#x533A;&#x5206;&#x5E0C;&#x671B;&#x53D1;&#x51FA;&#x7684;&#x5143;&#x7D20;(firstname)&#x548C;&#x9700;&#x8981;&#x53D6;&#x6D88;&#x5F15;&#x7528;&#x7684;&#x95ED;&#x5305;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#x3002;</p>
<h3 id="8_7_Creating_Namespaced_XML_Using_StreamingMarkupBuilder"><a name="8_7_Creating_Namespaced_XML_Using_StreamingMarkupBuilder" class="anchor-navigation-ex-anchor" href="#8_7_Creating_Namespaced_XML_Using_StreamingMarkupBuilder"><i class="fa fa-link" aria-hidden="true"></i></a>8.7 &#x4F7F;&#x7528;StreamingMarkupBuilder&#x521B;&#x5EFA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML </h3>
<pre><code class="lang-groovy">def builder = new groovy.xml.StreamingMarkupBuilder().bind{
  mkp.declareNamespace(&apos;&apos;:&apos;http://myDefaultNamespace&apos; )
  mkp.declareNamespace(&apos;location&apos;:&apos;http://someOtherNamespace&apos; )
  person(id:100){
    firstname(&quot;Jane&quot;)
    lastname(&quot;Doe&quot;)
    location.address(&quot;123 Main St&quot;)
  }
}

println builder
===&gt;
&lt;person id=&apos;100&apos;
        xmlns=&apos;http://myDefaultNamespace&apos;
        xmlns:location=&apos;http://someOtherNamespace&apos; &gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;location:address&gt;123 Main St&lt;/location:address&gt;
&lt;/person&gt;
</code></pre>
<p>&#x5728;&#x7B2C;8.4&#x8282;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;MarkupBuilder&#x521B;&#x5EFA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML&#xFF0C;&#x5728;&#x7B2C;138&#x9875;&#xFF0C;&#x6211;&#x4EEC;&#x6B3A;&#x9A97;MarkupBuilder&#x53D1;&#x51FA;&#x540D;&#x79F0;&#x7A7A;&#x95F4;XML&#x5143;&#x7D20;&#xFF0C;&#x5C3D;&#x7BA1;&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8BB2;&#x5B83;&#x5E76;&#x4E0D;&#x652F;&#x6301;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x3002; &#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;StreamingMarkupBuilder&#x662F;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x611F;&#x77E5;&#x7684;&#x3002;&#x5C06;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x58F0;&#x660E;&#x4F20;&#x9012;&#x5230;&#x4FDD;&#x7559;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;<code>mkp</code>&#x3002; &#x4EFB;&#x4F55;&#x4EE5;<code>mkp&#x4E3A;</code>&#x524D;&#x7F00;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x6784;&#x9020;&#x5668;&#x7684;&#x5185;&#x90E8;&#x6307;&#x4EE4;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5E94;&#x8BE5;&#x53D1;&#x51FA;&#x7684;&#x8F93;&#x51FA;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;<code>location.address</code>&#x662F;&#x4F5C;&#x4E3A;<code>location:address</code>&#x53D1;&#x51FA;&#x7684;&#xFF0C;&#x800C;<code>mkp.declareNamespace</code>&#x5728;&#x8F93;&#x51FA;&#x4E2D;&#x627E;&#x4E0D;&#x5230;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x952E;&#x6765;&#x6307;&#x5B9A;XML&#x6587;&#x6863;&#x7684;&#x9ED8;&#x8BA4;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x3002;</p>
<h3 id="8_8_Printing_Out_the_XML_Declaration"><a name="8_8_Printing_Out_the_XML_Declaration" class="anchor-navigation-ex-anchor" href="#8_8_Printing_Out_the_XML_Declaration"><i class="fa fa-link" aria-hidden="true"></i></a>8.8 &#x6253;&#x5370;XML&#x58F0;&#x660E; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> builder = <span class="hljs-keyword">new</span> groovy.xml.StreamingMarkupBuilder()
<span class="hljs-keyword">def</span> person = {
  mkp.xmlDeclaration()
}
println builder.bind(person)
===&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;MacRoman&quot;?&gt;

//setting the encoding
def builder2 = new groovy.xml.StreamingMarkupBuilder()
builder2.encoding = &quot;UTF-8&quot;
println builder2.bind{
  mkp.xmlDeclaration()
}
===&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</code></pre>
<p>&#x5728;&#x4FDD;&#x7559;&#x7684;<code>mkp</code>&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E0A;&#x8C03;&#x7528;xmlDeclaration()&#x65F6;&#xFF0C;&#x5C06;&#x6253;&#x5370;XML&#x58F0;&#x660E;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;StreamingMarkupBuilder&#x5B9E;&#x4F8B;&#x4E0A;&#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#xFF0C;&#x4EE5;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x7684;&#x7CFB;&#x7EDF;&#x7F16;&#x7801;&#x3002;</p>
<h3 id="8_9_Printing_Out_Processing_Instructions"><a name="8_9_Printing_Out_Processing_Instructions" class="anchor-navigation-ex-anchor" href="#8_9_Printing_Out_Processing_Instructions"><i class="fa fa-link" aria-hidden="true"></i></a>8.9 &#x6253;&#x5370;&#x8F93;&#x51FA;&#x5904;&#x7406;&#x6307;&#x4EE4; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> builder = <span class="hljs-keyword">new</span> groovy.xml.StreamingMarkupBuilder()
<span class="hljs-keyword">def</span> person = {
  mkp.pi(<span class="hljs-string">&quot;xml-stylesheet&quot;</span>: <span class="hljs-string">&quot;type=&apos;text/xsl&apos; href=&apos;myfile.xslt&apos;&quot;</span> )
}
println builder.bind(person)
===&gt;
&lt;?xml-stylesheet type=&apos;text/xsl&apos; href=&apos;myfile.xslt&apos;?&gt;
</code></pre>
<p>&#x5F53;&#x60A8;&#x5728;&#x4FDD;&#x7559;&#x7684;<code>mkp</code>&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E0A;&#x8C03;&#x7528;<code>pi()</code>&#x65F6;&#xFF0C;&#x5C06;&#x6253;&#x5370;&#x5904;&#x7406;&#x6307;&#x4EE4;&#xFF0C;&#x5982;&#x7528;&#x4E8E;XSLT&#x7684;&#x6307;&#x4EE4;&#x3002;</p>
<h3 id="8_10_Printing_Arbitrary_Strings__Comments__CDATA_"><a name="8_10_Printing_Arbitrary_Strings__Comments__CDATA_" class="anchor-navigation-ex-anchor" href="#8_10_Printing_Arbitrary_Strings__Comments__CDATA_"><i class="fa fa-link" aria-hidden="true"></i></a>8.10 &#x6253;&#x5370;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x6CE8;&#x91CA;&#xFF0C;CDATA&#xFF09; </h3>
<pre><code class="lang-groovy">def comment = &quot;&lt;!-- address is optional --&gt;&quot;
def builder = new groovy.xml.StreamingMarkupBuilder().bind{
  person(id:99){
    firstname(&quot;John&quot;)
    lastname(&quot;Smith&quot;)
    mkp.yieldUnescaped(comment)
    unescaped &lt;&lt; comment
  }
}
println builder
===&gt;
&lt;person id=&apos;99&apos;&gt;
  &lt;firstname&gt;John&lt;/firstname&gt;
  &lt;lastname&gt;Smith&lt;/lastname&gt;
  &lt;!-- address is optional --&gt;
  &lt;!-- address is optional --&gt;
&lt;/person&gt;
</code></pre>
<p>&#x4FDD;&#x7559;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;<code>mkp</code>&#x5728;&#x8FC7;&#x53BB;&#x51E0;&#x8282;&#x4E2D;&#x53D1;&#x6325;&#x4E86;&#x91CD;&#x8981;&#x4F5C;&#x7528;&#x3002;&#x8C03;&#x7528;<code>mks.declareNamespace()</code>&#x5141;&#x8BB8;&#x60A8;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x3002;&#x8C03;&#x7528;<code>mks.xmlDeclaration()</code>&#x5C06;&#x8F93;&#x51FA;&#x4E00;&#x4E2A;XML&#x58F0;&#x660E;&#x3002;&#x8C03;&#x7528;<code>mkp.pi()</code>&#x8F93;&#x51FA;&#x5904;&#x7406;&#x6307;&#x4EE4;&#x3002;&#x73B0;&#x5728;&#x60A8;&#x770B;&#x5230;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x8C03;&#x7528;<code>mks.yieldUnescaped()</code>&#x3002;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x5C06;&#x4E0D;&#x66F4;&#x6539;&#x5730;&#x6253;&#x5370;&#x4F20;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;<code>unescape &lt;&lt;</code>&#x662F;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x76F8;&#x540C;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x4FBF;&#x76EE;&#x6807;&#x3002;&#x8FD9;&#x7EAF;&#x7CB9;&#x662F;&#x4E00;&#x79CD;&#x98CE;&#x683C;&#x7684;&#x51B3;&#x5B9A;&#xFF0C;&#x4F60;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x5F62;&#x5F0F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5E0C;&#x671B;StreamingMarkupBuilder&#x4E3A;&#x60A8;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>mks .yield()</code>&#x6216;<code>out &lt;&lt;</code>&#x3002;(&#x8FD8;&#x8BB0;&#x5F97;&#x7B2C;8.6&#x8282;&#x5417;&#xFF0C;&#x5728;&#x7B2C;140&#x9875;&#x5355;&#x72EC;&#x521B;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x5404;&#x4E2A;&#x90E8;&#x5206;?)</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> comment = <span class="hljs-string">&quot;&lt;!-- address is optional --&gt;&quot;</span>
<span class="hljs-keyword">def</span> builder = <span class="hljs-keyword">new</span> groovy.xml.StreamingMarkupBuilder().bind{
  mkp.yieldUnescaped(comment)
  unescaped &lt;&lt; comment
  mkp.yield(comment)
  out &lt;&lt; comment
}
println builder
===&gt;
&lt;!-- address is optional --&gt;
&lt;!-- address is optional --&gt;
&amp;lt;!-- address is optional --&amp;gt;
&amp;lt;!-- address is optional --&amp;gt;
</code></pre>
<p><code>mkp.yield</code>&#x548C;<code>out &lt;&lt;</code>&#x7684;&#x4E00;&#x4E2A;&#x6709;&#x8DA3;&#x7279;&#x6027;&#x662F;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F46;&#x4E0D;&#x6539;&#x53D8;&#x4F20;&#x9012;&#x5176;&#x4ED6;&#x95ED;&#x5305;&#x3002;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x95ED;&#x5305;&#x4E4B;&#x95F4;&#x5207;&#x6362;&#xFF0C;&#x5C31;&#x4F1A;&#x4E0D;&#x6B62;&#x4E00;&#x6B21;&#x5730;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;&#x597D;&#x6D88;&#x606F;&#x662F;&#xFF0C;<code>mkp.yieldUnescaped</code>&#x548C;<code>unescape &lt;&lt;</code>&#x4E5F;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#x4F20;&#x9012;&#x95ED;&#x5305;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E8E;&#x95ED;&#x5305;&#xFF0C;&#x53EF;&#x4EE5;&#x4EA4;&#x66FF;&#x4F7F;&#x7528;<code>out</code>&#x548C;<code>unescape</code>&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x95ED;&#x5305;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x591A;&#x6001;&#x5207;&#x6362;&#xFF0C;<code>unescape</code>&#x53EF;&#x80FD;&#x6BD4;<code>out</code>&#x66F4;&#x597D;&#x3002;</p>
<p><strong>CDATA</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> cdata = <span class="hljs-string">&quot; &gt;&lt; &amp; Look &apos;at&apos; me &amp; &gt;&lt; &quot;</span>
<span class="hljs-keyword">def</span> builder = <span class="hljs-keyword">new</span> groovy.xml.StreamingMarkupBuilder().bind{
  unescaped &lt;&lt; <span class="hljs-string">&quot;&lt;![CDATA[&quot;</span> + cdata + <span class="hljs-string">&quot;]]&gt;&quot;</span>
}
println builder
===&gt;
&lt;![CDATA[ &gt;&lt; &amp; Look <span class="hljs-string">&apos;at&apos;</span> me &amp; &gt;&lt; ]]&gt;
</code></pre>
<p>&#x5728;XML&#x4E2D;&#xFF0C;CDATA<sup><a href="#fn_810" id="reffn_810">810</a></sup>&#x90E8;&#x5206;&#x63D0;&#x793A;&#x89E3;&#x6790;&#x5668;&#x4E0D;&#x8981;&#x5C06;&#x6587;&#x672C;&#x89C6;&#x4E3A;&#x6807;&#x8BB0;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x5B83;&#x5E94;&#x8BE5;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x666E;&#x901A;&#x7684;&#x65E7;&#x5B57;&#x7B26;&#x6570;&#x636E;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x901A;&#x5E38;&#x9700;&#x8981;&#x8F6C;&#x4E49;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;<code>&lt;, &gt;, &amp;</code>&#x548C;<code>&#x5F15;&#x53F7;</code>(&#x5355;&#x5F15;&#x53F7;&#x548C;&#x53CC;&#x5F15;&#x53F7;)&#x3002;</p>
<h3 id="8_11_Writing_StreamingMarkupBuilder_Output_to_a_File"><a name="8_11_Writing_StreamingMarkupBuilder_Output_to_a_File" class="anchor-navigation-ex-anchor" href="#8_11_Writing_StreamingMarkupBuilder_Output_to_a_File"><i class="fa fa-link" aria-hidden="true"></i></a>8.11 &#x5C06;StreamingMarkupBuilder&#x8F93;&#x51FA;&#x5199;&#x5165;&#x6587;&#x4EF6; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> writer = <span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">&quot;person.xml&quot;</span>)
writer &lt;&lt; builder.bind(person)
</code></pre>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5C06;StreamingMarkupBuilder&#x7684;&#x8F93;&#x51FA;&#x4F20;&#x9012;&#x7ED9;&#x5B9E;&#x73B0;<code>Writer</code>&#x63A5;&#x53E3;&#x7684;&#x4EFB;&#x4F55;Java&#x7C7B;&#x3002;</p>
<h3 id="8_12_StreamingMarkupBuilder_at_a_Glance"><a name="8_12_StreamingMarkupBuilder_at_a_Glance" class="anchor-navigation-ex-anchor" href="#8_12_StreamingMarkupBuilder_at_a_Glance"><i class="fa fa-link" aria-hidden="true"></i></a>8.12 StreamingMarkupBuilder&#x6982;&#x89C8; </h3>
<pre><code class="lang-groovy">def comment = &quot;&lt;!-- address is new to this release --&gt;&quot;
def builder = new groovy.xml.StreamingMarkupBuilder()
builder.encoding = &quot;UTF-8&quot;
def person = {
  mkp.xmlDeclaration()
  mkp.pi(&quot;xml-stylesheet&quot;: &quot;type=&apos;text/xsl&apos; href=&apos;myfile.xslt&apos;&quot; )
  mkp.declareNamespace(&apos;&apos;: &apos;http://myDefaultNamespace&apos; )
  mkp.declareNamespace(&apos;location&apos;: &apos;http://someOtherNamespace&apos; )
  person(id:100){
    firstname(&quot;Jane&quot;)
    lastname(&quot;Doe&quot;)
    mkp.yieldUnescaped(comment)
    location.address(&quot;123 Main&quot;)
  }
}
def writer = new FileWriter(&quot;person.xml&quot;)
writer &lt;&lt; builder.bind(person)

System.out &lt;&lt; builder.bind(person)
===&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-stylesheet type=&apos;text/xsl&apos; href=&apos;myfile.xslt&apos;?&gt;
&lt;person id=&apos;100&apos;
        xmlns=&apos;http://myDefaultNamespace&apos;
        xmlns:location=&apos;http://someOtherNamespace&apos; &gt;
  &lt;firstname&gt;Jane&lt;/firstname&gt;
  &lt;lastname&gt;Doe&lt;/lastname&gt;
  &lt;!-- address is new to this release --&gt;
  &lt;location:address&gt;123 Main&lt;/location:address&gt;
&lt;/person&gt;
</code></pre>
<p>&#x5C06;&#x60A8;&#x5728;&#x8FC7;&#x53BB;&#x51E0;&#x8282;&#x4E2D;&#x5B66;&#x5230;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x653E;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x60A8;&#x6784;&#x5EFA;&#x5404;&#x79CD;&#x590D;&#x6742;&#x7684;XML&#x6587;&#x6863;&#x63D0;&#x4F9B;&#x6240;&#x9700;&#x7684;&#x5DE5;&#x5177;&#x3002; MarkupBuilder&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x7B80;&#x5355;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x60A8;&#x9700;&#x8981;&#x6267;&#x884C;&#x590D;&#x6742;&#x7684;&#x5DE5;&#x4F5C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;StreamingMarkupBuilder&#x3002;</p>
<h3 id="8_13_Creating_HTML_on_the_Fly"><a name="8_13_Creating_HTML_on_the_Fly" class="anchor-navigation-ex-anchor" href="#8_13_Creating_HTML_on_the_Fly"><i class="fa fa-link" aria-hidden="true"></i></a>8.13 &#x5FEB;&#x901F;&#x521B;&#x5EFA;HTML </h3>
<pre><code class="lang-groovy">def x = new groovy.xml.MarkupBuilder()
x.html{
  head{
    title(&quot;Search Results&quot;)
    link(rel:&quot;stylesheet&quot;, type:&quot;text/css&quot;, href:&quot;http://main.css&quot;)
    script(type:&quot;text/javascript&quot;, src:&quot;http://main.js&quot;)
  }
  body{
    h1(&quot;Search Results&quot;)
    div(id:&quot;results&quot;, class:&quot;simple&quot;){
      table(border:1){
        tr{
          th(&quot;Name&quot;)
          th(&quot;Address&quot;)
        }
        tr{
          td{
            a(href:&quot;http://abc.org?id=100&quot; ,&quot;Jane Doe&quot;)
          }
          td(&quot;123 Main St&quot;)
        }
      }
    }
  }
}

===&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Search Results&lt;/title&gt;
    &lt;link rel=&apos;stylesheet&apos; type=&apos;text/css&apos; href=&apos;http://main.css&apos; /&gt;
    &lt;script type=&apos;text/javascript&apos; src=&apos;http://main.js&apos; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Search Results&lt;/h1&gt;
    &lt;div id=&apos;results&apos; class=&apos;simple&apos;&gt;
      &lt;table border=&apos;1&apos;&gt;
        &lt;tr&gt;
          &lt;th&gt;Name&lt;/th&gt;
          &lt;th&gt;Address&lt;/th&gt;
        &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;
          &lt;a href=&apos;http://abc.org?id=100&apos; &gt;Jane Doe&lt;/a&gt;
        &lt;/td&gt;
        &lt;td&gt;123 Main St&lt;/td&gt;
      &lt;/tr&gt;
      &lt;/table&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>MarkupBuilder&#x540C;&#x6837;&#x64C5;&#x957F;&#x751F;&#x6210;XML&#x6216;HTML&#x3002;&#x5728;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5FEB;&#x901F;HTML&#x9875;&#x9762;&#x3002;</p>
<p>&#x8BF7;&#x8BB0;&#x4F4F;&#xFF0C;&#x60A8;&#x5E76;&#x4E0D;&#x662F;&#x5728;Grails&#x8FD9;&#x6837;&#x7684;&#x5B8C;&#x6574;web&#x6846;&#x67B6;&#x4E2D;&#x3002;Grails&#x5728;&#x66F4;&#x9AD8;&#x7684;&#x62BD;&#x8C61;&#x7EA7;&#x522B;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x8FD9;&#x4F7F;&#x5F97;&#x5B83;&#x66F4;&#x5BB9;&#x6613;&#x751F;&#x6210;HTML&#x8868;&#x4E4B;&#x7C7B;&#x7684;&#x4E1C;&#x897F;&#x3002; Groovy Server Pages (GSPs)&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x7528;&#x624B;&#x5199;&#x51FA;&#x6240;&#x6709;HTML&#x66F4;&#x597D;&#x7684;&#x6A21;&#x677F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5C31;&#x50CF;&#x6211;&#x5728;&#x8FD9;&#x91CC;&#x6240;&#x505A;&#x7684;&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x50CF;jsp&#x901A;&#x5E38;&#x6BD4;&#x62E5;&#x6709;&#x4E00;&#x7CFB;&#x5217;<code>System.out</code>&#x66F4;&#x597D;&#x4E00;&#x6837;&#x3002;Servlet&#x7684;<code>doGet()</code>&#x65B9;&#x6CD5;&#x4E2D;&#x7684;println&#x8BED;&#x53E5;&#x3002; &#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x7684;&#x76EE;&#x7684;&#x662F;&#x6F14;&#x793A;Groovy&#x7684;DSL&#x529F;&#x80FD;&#x3002;(&#x6709;&#x5173;dsl&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;43&#x9875;&#x7684;&#x4FA7;&#x680F;&#x3002;)Groovy&#x4EE3;&#x7801;&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x5339;&#x914D;&#x751F;&#x6210;&#x7684;HTML&#x3002;&#x5BF9;&#x4E8E;&#x5728;Groovy&#x4E2D;&#x52A8;&#x6001;&#x5730;&#x7F16;&#x5199;&#x7279;&#x522B;&#x7684;HTML&#x9875;&#x9762;&#xFF0C;&#x6211;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x6BD4;MarkupBuilder&#x66F4;&#x597D;&#x7684;&#x4E1C;&#x897F;&#x3002;</p>
<p><strong>HTML and StreamingMarkupBuilder</strong></p>
<pre><code class="lang-groovy">def h = {
  head{
    title(&quot;Search Results&quot;)
    link(rel:&quot;stylesheet&quot;, type:&quot;text/css&quot;, href:&quot;http://main.css&quot;)
    script(type:&quot;text/javascript&quot;, src:&quot;http://main.js&quot;)
  }
}

def b = {
  body{
    h1(&quot;Search Results&quot;)
    div(id:&quot;results&quot;, class:&quot;simple&quot;){
      table(border:1){
        tr{
          th(&quot;Name&quot;)
          th(&quot;Address&quot;)
        }
        tr{
          td{
          a(href:&quot;http://abc.org?id=100&quot; ,&quot;Jane Doe&quot;)
          }
          td(&quot;123 Main St&quot;)
        }
      }
    }
  }
}

def html = new groovy.xml.StreamingMarkupBuilder().bind{
  unescaped &lt;&lt; &apos;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&apos; +
               &apos;&quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;&apos;
  html{
    out &lt;&lt; h
    out &lt;&lt; b
  }
}

def htmlWriter = new FileWriter(&quot;test.html&quot;)
htmlWriter &lt;&lt; html
</code></pre>
<p>&#x4F7F;&#x7528;StreamingMarkupBuilder&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5F02;&#x6B65;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x7684;&#x5757;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x9700;&#x8981;&#x5C06;&#x5B83;&#x4EEC;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x8FD9;&#x5141;&#x8BB8;&#x60A8;&#x7EC4;&#x5408;&#x4E00;&#x4E2A;&#x66F4;&#x5065;&#x58EE;&#x7684;&#x6A21;&#x677F;&#x7CFB;&#x7EDF;&#x3002;</p>
<h3 id="8_14_Converting_CSV_to_XML"><a name="8_14_Converting_CSV_to_XML" class="anchor-navigation-ex-anchor" href="#8_14_Converting_CSV_to_XML"><i class="fa fa-link" aria-hidden="true"></i></a>8.14 CSV&#x8F6C;&#x6362;&#x4E3A;XML </h3>
<pre><code class="lang-groovy">// input file (addresses.csv):
99,John Smith,456 Fleet St,Denver,CO,80021
100,Jane Doe,123 Main St,Denver,CO,80020
101,Frank Jones,345 Center Blvd,Omaha,NE,68124

// groovy file:
def fileIn = new File(&quot;addresses.csv&quot;)
def fileOut = new FileWriter(&quot;addresses.xml&quot;)
def xml = new groovy.xml.MarkupBuilder(fileOut)
xml.addressBook{
  fileIn.splitEachLine(&quot;,&quot;){ tokens -&gt;
    entry(id:tokens[0]){
      name(tokens[1])
      addresss(tokens[2])
      city(tokens[3])
      state(tokens[4])
      zipcode(tokens[5])
    }
  }
}

// output file (addresses.xml):
&lt;addressBook&gt;
  &lt;entry id=&apos;99&apos;&gt;
    &lt;name&gt;John Smith&lt;/name&gt;
    &lt;addresss&gt;456 Fleet St&lt;/addresss&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zipcode&gt;80021&lt;/zipcode&gt;
  &lt;/entry&gt;
  &lt;entry id=&apos;100&apos;&gt;
    &lt;name&gt;Jane Doe&lt;/name&gt;
    &lt;addresss&gt;123 Main St&lt;/addresss&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zipcode&gt;80020&lt;/zipcode&gt;
  &lt;/entry&gt;
  &lt;entry id=&apos;101&apos;&gt;
    &lt;name&gt;Frank Jones&lt;/name&gt;
    &lt;addresss&gt;345 Center Blvd&lt;/addresss&gt;
    &lt;city&gt;Omaha&lt;/city&gt;
    &lt;state&gt;NE&lt;/state&gt;
    &lt;zipcode&gt;68124&lt;/zipcode&gt;
  &lt;/entry&gt;
&lt;/addressBook&gt;
</code></pre>
<p>CSV&#x6587;&#x4EF6;&#x975E;&#x5E38;&#x5E38;&#x89C1;&#x3002;&#x5728;XML&#x4E4B;&#x524D;&#xFF0C;CSV&#x662F;&#x53E6;&#x4E00;&#x79CD;&#x4EE5;&#x4E0E;&#x4F9B;&#x5E94;&#x5546;&#x3001;&#x8BED;&#x8A00;&#x548C;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x7684;&#x65B9;&#x5F0F;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x7ED3;&#x5408;&#x7B2C;6.2&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;splitEachLine()&#x65B9;&#x6CD5;(&#x8BFB;&#x53D6;104&#x9875;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;)&#x548C;&#x7B2C;8.1&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;MarkupBuilder(&#x521B;&#x5EFA;XML&#x6587;&#x6863;&#x7684;&#x201C;&#x6211;&#x5F88;&#x7740;&#x6025;&#x201D;&#x6307;&#x5357;)&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;136&#x9875;&#x8F7B;&#x677E;&#x5730;&#x5C06;CSV&#x8F6C;&#x6362;&#x4E3A;XML&#x3002;</p>
<p><strong>Parsing Complex CSV</strong></p>
<pre><code class="lang-groovy">// input file
99,John Smith,&quot;456 Fleet St, Suite 123&quot;,Denver,CO,80021
100,Jane Doe,123 Main St,Denver,CO,80020
101,&quot;Frank Jones, Jr.&quot; ,345 Center Blvd,Omaha,NE,68124

// output file
&lt;addressBook&gt;
  &lt;entry id=&apos;99&apos;&gt;
    &lt;name&gt;John Smith&lt;/name&gt;
    &lt;addresss&gt;&quot;456 Fleet St&lt;/addresss&gt;
    &lt;city&gt; Suite 123&quot;&lt;/city&gt;
    &lt;state&gt;Denver&lt;/state&gt;
    &lt;zipcode&gt;CO&lt;/zipcode&gt;
  &lt;/entry&gt;
  &lt;entry id=&apos;100&apos;&gt;
    &lt;name&gt;Jane Doe&lt;/name&gt;
    &lt;addresss&gt;123 Main St&lt;/addresss&gt;
    &lt;city&gt;Denver&lt;/city&gt;
    &lt;state&gt;CO&lt;/state&gt;
    &lt;zipcode&gt;80020&lt;/zipcode&gt;
  &lt;/entry&gt;
  &lt;entry id=&apos;101&apos;&gt;
    &lt;name&gt;&quot;Frank Jones&lt;/name&gt;
    &lt;addresss&gt; Jr.&quot;&lt;/addresss&gt;
    &lt;city&gt;345 Center Blvd&lt;/city&gt;
    &lt;state&gt;Omaha&lt;/state&gt;
    &lt;zipcode&gt;NE&lt;/zipcode&gt;
  &lt;/entry&gt;
&lt;/addressBook&gt;
</code></pre>
<p>&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;CSV&#x5F88;&#x5C11;&#x50CF;&#x7B2C;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#x90A3;&#x6837;&#x6E05;&#x6670;&#x5730;&#x663E;&#x793A;&#x81EA;&#x5DF1;&#x3002;&#x6709;&#x65F6;&#x4F1A;&#x5728;&#x5B57;&#x6BB5;&#x4E2D;&#x5D4C;&#x5165;&#x9017;&#x53F7;&#xFF0C;&#x8981;&#x6C42;&#x6574;&#x4E2A;&#x5B57;&#x6BB5;&#x88AB;&#x5F15;&#x53F7;&#x5305;&#x56F4;&#x3002;(&#x60A8;&#x662F;&#x5426;&#x6355;&#x6349;&#x5230;&#x4E86;John Smith&#x548C;Frank Jones, Jr.&#x7684;&#x9519;&#x8BEF;XML&#x5730;&#x5740;?)</p>
<p>&#x8981;&#x89E3;&#x6790;&#x51FA;&#x8FD9;&#x4E9B;CSV&#x8BB0;&#x5F55;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x7B80;&#x5355;&#x5730;&#x5206;&#x5272;&#x9017;&#x53F7;&#x4E0A;&#x7684;&#x884C;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7A0D;&#x5FAE;&#x5065;&#x58EE;&#x4E00;&#x4E9B;&#x7684;CSV&#x89E3;&#x6790;&#x7C7B;SmartCsvParser&#xFF0C;&#x5B83;&#x5728;&#x5904;&#x7406;&#x5355;&#x4E2A;CSV&#x5B57;&#x6BB5;&#x4E2D;&#x7684;&#x5D4C;&#x5165;&#x9017;&#x53F7;&#x65B9;&#x9762;&#x505A;&#x5F97;&#x66F4;&#x597D;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> fileIn = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;addresses2.csv&quot;</span>)
<span class="hljs-keyword">def</span> fileOut = <span class="hljs-keyword">new</span> FileWriter(<span class="hljs-string">&quot;addresses2.xml&quot;</span>)
<span class="hljs-keyword">def</span> xml = <span class="hljs-keyword">new</span> groovy.xml.MarkupBuilder(fileOut)
xml.addressBook {
  use(SmartCsvParser) {
    fileIn.eachLine { line - &gt;
      <span class="hljs-keyword">def</span> fields = line.smartSplit()
      entry(<span class="hljs-string">id:</span> fields[<span class="hljs-number">0</span>]) {
        name(fields[<span class="hljs-number">1</span>])
        addresss(fields[<span class="hljs-number">2</span>])
        city(fields[<span class="hljs-number">3</span>])
        state(fields[<span class="hljs-number">4</span>])
        zipcode(fields[<span class="hljs-number">5</span>])
      }
    }
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SmartCsvParser</span> {</span>
  <span class="hljs-keyword">static</span> String[] smartSplit(String self) {
    <span class="hljs-keyword">def</span> list = []
    <span class="hljs-keyword">def</span> st = <span class="hljs-keyword">new</span> StringTokenizer(self, <span class="hljs-string">&quot;,&quot;</span>)
    <span class="hljs-keyword">while</span> (st.hasMoreTokens()) {
      <span class="hljs-keyword">def</span> thisToken = st.nextToken()
      <span class="hljs-keyword">while</span> (thisToken.startsWith(<span class="hljs-string">&quot;\&quot;&quot;</span>) &amp;&amp; !thisToken.endsWith(<span class="hljs-string">&quot;\&quot;&quot;</span>)) {
        thisToken += <span class="hljs-string">&quot;,&quot;</span> + st.nextToken()
      }
      list &lt;&lt; thisToken.noQuote()
    }
    <span class="hljs-keyword">return</span> list
  }
  <span class="hljs-keyword">static</span> String noQuote(String self) {
    <span class="hljs-keyword">if</span> (self.startsWith(<span class="hljs-string">&quot;\&quot;&quot;</span>) || self.startsWith(<span class="hljs-string">&quot;\&apos;&quot;</span>)) {
      <span class="hljs-keyword">return</span> self[<span class="hljs-number">1.</span>. - <span class="hljs-number">2</span>]
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> self
    }
  }
}
</code></pre>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x524D;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#x7814;&#x7A76;SmartCsvParser&#x3002;smartSplit&#x67E5;&#x770B;&#x6BCF;&#x4E2A;&#x4EE4;&#x724C;&#x3002;&#x5982;&#x679C;&#x4EE4;&#x724C;&#x4EE5;&#x53CC;&#x5F15;&#x53F7;&#x5F00;&#x59CB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EE5;&#x53CC;&#x5F15;&#x53F7;&#x7ED3;&#x675F;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x5B57;&#x6BB5;&#x3002;smartSplit&#x5C06;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0;&#x4EE4;&#x724C;&#xFF0C;&#x76F4;&#x5230;&#x627E;&#x5230;&#x7ED3;&#x675F;&#x62A5;&#x4EF7;&#x3002;&#x4E00;&#x65E6;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x6B63;&#x786E;&#x5730;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#xFF0C;noQuote&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x4ECE;&#x5B57;&#x6BB5;&#x503C;&#x4E2D;&#x5220;&#x9664;&#x5468;&#x56F4;&#x7684;&#x5F15;&#x53F7;&#x3002;</p>
<p>&#x60A8;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;(category &#x7C7B;&#x522B;)&#xFF08;&#x5982;&#x5728;&#x7B2C;10.10&#x8282;&#xFF0C;&#x5C06;&#x65B9;&#x6CD5;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#xFF08;Categories&#xFF09;&#xFF0C;&#x5728;&#x7B2C;196&#x9875;&#x4E2D;&#x6240;&#x8FF0;&#xFF09;&#x5C06;smartSplit&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;&#x4ECE;fileIn.eachLine&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x3002; &#x8FD9;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;smartSplit&#x4FDD;&#x7559;&#x5728;&#x672C;&#x5730;&#x3002; &#x5982;&#x679C;&#x60A8;&#x8BA4;&#x4E3A;&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5168;&#x5C40;&#x8303;&#x56F4;&#x5185;&#x53D7;&#x5230;&#x5173;&#x6CE8;&#xFF0C;&#x5219;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x6539;&#x7528;ExpandoMetaClass&#x7C7B;&#xFF08;&#x5982;&#x7B2C;198&#x9875;&#x4E0A;&#x7684;&#x7B2C;10.11&#x8282;&#x201C;&#x5C06;&#x65B9;&#x6CD5;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#x4E2D;&#xFF08;ExpandoMetaClass&#xFF09;&#x4E2D;&#x6240;&#x8FF0;&#xFF09;&#x201D;&#x3002;</p>
<h3 id="8_15_Converting_JDBC_ResultSets_to_XML"><a name="8_15_Converting_JDBC_ResultSets_to_XML" class="anchor-navigation-ex-anchor" href="#8_15_Converting_JDBC_ResultSets_to_XML"><i class="fa fa-link" aria-hidden="true"></i></a>8.15 &#x5C06;JDBC&#x7ED3;&#x679C;&#x96C6;&#x8F6C;&#x6362;&#x4E3A;XML </h3>
<pre><code class="lang-groovy"><span class="hljs-comment">//table addressbook:</span>
|name |address |city |st |zipcode
+------------+----------------+-------+---+-------
|John Smith |<span class="hljs-number">456</span> Fleet St |Denver |CO |<span class="hljs-number">80021</span>
|Jane Doe |<span class="hljs-number">123</span> Main St |Denver |CO |<span class="hljs-number">80020</span>
|Frank Jones |<span class="hljs-number">345</span> Center Blvd |Omaha |NE |<span class="hljs-number">68124</span>

<span class="hljs-comment">//groovy:</span>
<span class="hljs-keyword">def</span> sql = groovy.sql.Sql.newInstance(
  <span class="hljs-string">&quot;jdbc:derby://localhost:1527/MyDbTest;create=true&quot;</span> ,
  <span class="hljs-string">&quot;testUser&quot;</span>,
  <span class="hljs-string">&quot;testPassword&quot;</span>,
  <span class="hljs-string">&quot;org.apache.derby.jdbc.ClientDriver&quot;</span> )

<span class="hljs-keyword">def</span> xml = <span class="hljs-keyword">new</span> groovy.xml.MarkupBuilder()
xml.addressBook{
  sql.eachRow(<span class="hljs-string">&quot;select * from addressbook&quot;</span>){ row -&gt;
    entry{
      name(row.name)
      addresss(row.address)
      city(row.city)
      state(row.st)
      zipcode(row.zipcode)
    }
  }
}
</code></pre>
<p>&#x7C7B;&#x4F3C;&#x4E8E;<code>File.eachFil</code>e&#x5141;&#x8BB8;&#x60A8;&#x904D;&#x5386;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;&#x7B2C;6.1&#x8282;&#xFF0C;&#x5217;&#x51FA;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF0C;&#x7B2C;100&#x9875;&#xFF09;&#x548C;<code>List.each</code>&#x5141;&#x8BB8;&#x60A8;&#x904D;&#x5386;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#xFF08;&#x7B2C;3.14&#x8282;&#xFF0C;&#x5217;&#x8868;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF09; &#xFF0C;&#x5728;&#x7B2C;58&#x9875;&#xFF09;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>groovy.sql.Sql</code>&#x5BF9;&#x8C61;&#x4F7F;&#x7528;<code>eachRow</code>&#x95ED;&#x5305;&#x5BF9;JDBC ResultSet&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x3002; &#x5728;MarkupBuilder&#x4E2D;&#x6DF7;&#x5408;&#x53EF;&#x4EE5;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x900F;&#x660E;&#x7684;JDBC&#x5230;XML&#x8F6C;&#x6362;&#x5668;&#x3002;</p>
<h2 id="9_Web_Services"><a name="9_Web_Services" class="anchor-navigation-ex-anchor" href="#9_Web_Services"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;9&#x7AE0; Web&#x670D;&#x52A1; </h2>
<p>Web&#x670D;&#x52A1;&#x5982;&#x4ECA;&#x65E0;&#x5904;&#x4E0D;&#x5728;&#x3002;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x884C;&#x4E1A;&#xFF0C;&#x4E00;&#x65E6;&#x6211;&#x4EEC;&#x53D1;&#x73B0;XML&#x53EF;&#x4EE5;&#x901A;&#x8FC7;HTTP&#x548C;HTML&#x4F20;&#x9012;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x8FDB;&#x5165;&#x4E86;&#x9762;&#x5411;&#x670D;&#x52A1;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;(SOA)&#x7684;&#x65B0;&#x65F6;&#x4EE3;&#x3002;&#x8FD9;&#x79CD;&#x4ECE;&#x8FDC;&#x7A0B;&#x6570;&#x636E;&#x6E90;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x610F;&#x5473;&#x7740;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5FC5;&#x987B;&#x7406;&#x89E3;&#x5E95;&#x5C42;TCP/IP&#x548C;HTTP&#x7684;&#x673A;&#x5236;&#xFF0C;&#x4EE5;&#x53CA;&#x5404;&#x79CD;&#x66F4;&#x9AD8;&#x5C42;&#x7684;XML&#x65B9;&#x8A00;:SOAP&#x3001;REST&#x548C;XML-RPC&#x3002;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C;Groovy&#x5728;&#x6240;&#x6709;&#x65B9;&#x9762;&#x90FD;&#x5E2E;&#x52A9;&#x4E86;&#x6211;&#x4EEC;&#x3002;</p>
<p>&#x5728;&#x672C;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECE;&#x5982;&#x4F55;&#x786E;&#x5B9A;&#x672C;&#x5730;<code>TCP/IP</code>&#x5730;&#x5740;&#x548C;&#x57DF;&#x540D;&#x4EE5;&#x53CA;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#x7684;&#x57DF;&#x540D;&#x7684;&#x5E95;&#x5C42;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x5F00;&#x59CB;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5411;&#x4E0A;&#x79FB;&#x52A8;&#x5230;HTTP&#x2014;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x3001;&#x53D1;&#x5E03;&#x3001;&#x653E;&#x7F6E;&#x548C;&#x5220;&#x9664;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x4EE5;&#x5982;&#x4F55;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;SOAP&#x6D88;&#x606F;&#x3001;XML-RPC&#x6D88;&#x606F;&#x548C;RESTful&#x8BF7;&#x6C42;&#x7684;&#x793A;&#x4F8B;&#x7ED3;&#x675F;&#x672C;&#x7AE0;&#x3002;&#x6211;&#x4EEC;&#x751A;&#x81F3;&#x8FD8;&#x5C06;&#x89E3;&#x6790;&#x4E00;&#x4E9B;&#x9017;&#x53F7;&#x5206;&#x9694;&#x503C;(CSV)&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x4EE5;&#x524D;&#x7684;&#x9700;&#x8981;&#x3002;</p>
<h3 id="9_1_Finding_Your_Local_IP_Address_and_Name"><a name="9_1_Finding_Your_Local_IP_Address_and_Name" class="anchor-navigation-ex-anchor" href="#9_1_Finding_Your_Local_IP_Address_and_Name"><i class="fa fa-link" aria-hidden="true"></i></a>9.1 &#x67E5;&#x627E;&#x60A8;&#x7684;&#x672C;&#x5730;IP&#x5730;&#x5740;&#x548C;&#x540D;&#x79F0; </h3>
<pre><code class="lang-groovy">InetAddress.localHost.hostAddress
===&gt; <span class="hljs-number">63.246</span><span class="hljs-number">.7</span><span class="hljs-number">.76</span>

InetAddress.localHost.hostName
===&gt; myServer

InetAddress.localHost.canonicalHostName
===&gt; www.aboutgroovy.com
</code></pre>
<p>&#x5728;&#x4F60;&#x80FD;&#x548C;&#x522B;&#x4EBA;&#x4EA4;&#x6D41;&#x4E4B;&#x524D;&#xFF0C;&#x4E86;&#x89E3;&#x81EA;&#x5DF1;&#x603B;&#x662F;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x5C06;&#x53D1;&#x73B0;&#x60A8;&#x7684;IP&#x5730;&#x5740;&#x3001;&#x60A8;&#x7684;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x4F9B;&#x5176;&#x4ED6;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x7684;DNS&#x540D;&#x79F0;&#x3002;</p>
<p>InetAddress&#x7C7B;&#x6765;&#x81EA;<code>java.net</code>&#x5305;&#x3002; &#x60A8;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;InetAddress&#x7C7B;<code>def addr=new InetAddress()</code>&#xFF0C;&#x56E0;&#x4E3A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x662F;&#x79C1;&#x6709;&#x7684;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x6765;&#x8FD4;&#x56DE;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;InetAddress&#x3002; &#x8FD9;&#x91CC;&#x8BA8;&#x8BBA;&#x4E86;&#x83B7;&#x53D6;&#x672C;&#x5730;&#x4FE1;&#x606F;&#x7684;<code>getLocalHost()</code>&#x65B9;&#x6CD5;&#xFF1B; &#x4E0B;&#x4E00;&#x9875;&#x4E2D;&#x7684;&#x7B2C;9.2&#x8282;&#x201C;&#x67E5;&#x627E;&#x8FDC;&#x7A0B;IP&#x5730;&#x5740;&#x548C;&#x57DF;&#x540D;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x4E86;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x8FDC;&#x7A0B;&#x4FE1;&#x606F;&#x7684;<code>getByName()</code>&#x548C;<code>getAllByName()</code>&#x3002;</p>
<p><code>getLocalHost()</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;InetAddress&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x6216;&#x8FD0;&#x884C;&#x5176;&#x7684;&#x786C;&#x4EF6;&#x3002; &#x5982;&#x7B2C;72&#x9875;&#x7684;&#x7B2C;4.2&#x8282;&#x201C; Getter&#x548C;Setter&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x8BED;&#x6CD5;&#x201D;&#x4E2D;&#x6240;&#x8FF0;&#xFF0C;<code>getLocalHost()</code>&#x53EF;&#x5728;Groovy&#x4E2D;&#x7F29;&#x77ED;&#x4E3A;<code>localHost</code>&#x3002; &#x4E00;&#x65E6;&#x6709;&#x4E86;<code>localHost</code>&#x7684;&#x53E5;&#x67C4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>getHostAddress()</code>&#x6765;&#x83B7;&#x53D6;IP&#x5730;&#x5740;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x4EE5;&#x8C03;&#x7528;<code>getHostName()</code>&#x6765;&#x83B7;&#x53D6;&#x672C;&#x5730;&#x8BA1;&#x7B97;&#x673A;&#x540D;&#x79F0;&#x3002; &#x8BE5;&#x540D;&#x79F0;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x4E13;&#x7528;&#x540D;&#x79F0;&#xFF0C;&#x4E0E;&#x5728;DNS&#x4E2D;&#x6CE8;&#x518C;&#x7684;&#x540D;&#x79F0;&#x76F8;&#x5BF9;&#xFF0C;&#x4E16;&#x754C;&#x5176;&#x4ED6;&#x5730;&#x65B9;&#x90FD;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x3002; &#x8C03;&#x7528;<code>getCanonicalHostName()</code>&#x6267;&#x884C;DNS&#x67E5;&#x627E;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x6B63;&#x5982;&#x5728;&#x7B2C;89&#x9875;&#x7684;5.4&#x8282;&#xFF0C;&#x8FD0;&#x884C;Shell&#x547D;&#x4EE4;&#x4E2D;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x9644;&#x5E26;&#x7684;&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x4EC5;&#x9700;<code>execute()</code>&#x5C31;&#x53EF;&#x4F7F;&#x7528;&#x3002; &#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x4E0D;&#x50CF;InetAddress&#x65B9;&#x6CD5;&#x90A3;&#x6837;&#x5BB9;&#x6613;&#x89E3;&#x6790;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x60A8;&#x6240;&#x89C1;&#xFF0C;&#x5B83;&#x4EEC;&#x516C;&#x5F00;&#x4E86;&#x66F4;&#x591A;&#x7EC6;&#x8282;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-comment">// available on all operating systems</span>
<span class="hljs-string">&quot;hostname&quot;</span>.execute().text
===&gt; myServer

<span class="hljs-comment">// on Unix/Linux/Mac OS X</span>
println <span class="hljs-string">&quot;ifconfig&quot;</span>.execute().text
===&gt;
<span class="hljs-string">en2:</span> flags=<span class="hljs-number">8963</span>&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu <span class="hljs-number">1500</span>
    inet6 <span class="hljs-string">fe80:</span>:<span class="hljs-number">21</span><span class="hljs-string">c:</span><span class="hljs-number">42</span><span class="hljs-string">ff:</span><span class="hljs-string">fe00:</span><span class="hljs-number">0</span>%en2 prefixlen <span class="hljs-number">64</span> scopeid <span class="hljs-number">0x8</span>
    inet <span class="hljs-number">10.37</span><span class="hljs-number">.129</span><span class="hljs-number">.3</span> netmask <span class="hljs-number">0xffffff00</span> broadcast <span class="hljs-number">10.37</span><span class="hljs-number">.129</span><span class="hljs-number">.255</span>
    ether <span class="hljs-number">00</span>:<span class="hljs-number">1</span><span class="hljs-string">c:</span><span class="hljs-number">42</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
<span class="hljs-symbol">    media:</span> autoselect <span class="hljs-string">status:</span> active
    supported <span class="hljs-string">media:</span> autoselect

<span class="hljs-comment">// on Windows</span>
println <span class="hljs-string">&quot;ipconfig /all&quot;</span>.execute().text
===&gt;
Windows IP Configuration
    Host Name . . . . . . . . . . . . : scottdavis1079
    Primary Dns Suffix . . . . . . . :
    Node Type . . . . . . . . . . . . : Unknown
    IP Routing Enabled. . . . . . . . : No
    WINS Proxy Enabled. . . . . . . . : No

Ethernet adapter Local Area <span class="hljs-string">Connection:</span>
    Connection-specific DNS Suffix . :
    Description . . . . . . . . . . . : Parallels Network Adapter
    Physical Address. . . . . . . . . : <span class="hljs-number">00</span><span class="hljs-number">-61</span><span class="hljs-number">-20</span><span class="hljs-number">-5</span>C<span class="hljs-number">-3</span>B-B9
    Dhcp Enabled. . . . . . . . . . . : Yes
    Autoconfiguration Enabled . . . . : Yes
    IP Address. . . . . . . . . . . . : <span class="hljs-number">10.211</span><span class="hljs-number">.55</span><span class="hljs-number">.3</span>
    Subnet Mask . . . . . . . . . . . : <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span>
    Default Gateway . . . . . . . . . : <span class="hljs-number">10.211</span><span class="hljs-number">.55</span><span class="hljs-number">.1</span>
    DHCP Server . . . . . . . . . . . : <span class="hljs-number">10.211</span><span class="hljs-number">.55</span><span class="hljs-number">.1</span>
    DNS Servers . . . . . . . . . . . : <span class="hljs-number">10.211</span><span class="hljs-number">.55</span><span class="hljs-number">.1</span>
    Lease Obtained. . . . . . . . . . : Tuesday, October <span class="hljs-number">09</span>, <span class="hljs-number">2007</span> <span class="hljs-number">2</span>:<span class="hljs-number">53</span>:<span class="hljs-number">02</span> PM
    Lease Expires . . . . . . . . . . : Tuesday, October <span class="hljs-number">16</span>, <span class="hljs-number">2007</span> <span class="hljs-number">2</span>:<span class="hljs-number">53</span>:<span class="hljs-number">02</span> PM
</code></pre>
<h3 id="9_2_Finding_a_Remote_IP_Address_and_Domain_Name"><a name="9_2_Finding_a_Remote_IP_Address_and_Domain_Name" class="anchor-navigation-ex-anchor" href="#9_2_Finding_a_Remote_IP_Address_and_Domain_Name"><i class="fa fa-link" aria-hidden="true"></i></a>9.2 &#x67E5;&#x627E;&#x8FDC;&#x7A0B;IP&#x5730;&#x5740;&#x548C;&#x57DF;&#x540D; </h3>
<pre><code class="lang-groovy">InetAddress.getByName(<span class="hljs-string">&quot;www.aboutgroovy.com&quot;</span>)
===&gt; www.aboutgroovy.com/<span class="hljs-number">63.246</span><span class="hljs-number">.7</span><span class="hljs-number">.76</span>

InetAddress.getAllByName(<span class="hljs-string">&quot;www.google.com&quot;</span>).each{println it}
===&gt;
www.google.com/<span class="hljs-number">64.233</span><span class="hljs-number">.167</span><span class="hljs-number">.99</span>
www.google.com/<span class="hljs-number">64.233</span><span class="hljs-number">.167</span><span class="hljs-number">.104</span>
www.google.com/<span class="hljs-number">64.233</span><span class="hljs-number">.167</span><span class="hljs-number">.147</span>

InetAddress.getByName(<span class="hljs-string">&quot;www.google.com&quot;</span>).hostAddress
===&gt; <span class="hljs-number">64.233</span><span class="hljs-number">.167</span><span class="hljs-number">.99</span>

InetAddress.getByName(<span class="hljs-string">&quot;64.233.167.99&quot;</span>).canonicalHostName
===&gt; py-<span class="hljs-keyword">in</span>-f99.google.com
</code></pre>
<p>&#x9664;&#x4E86;&#x8FD4;&#x56DE;&#x6709;&#x5173;&#x672C;&#x5730;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x4FE1;&#x606F;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;InetAddress&#x67E5;&#x627E;&#x6709;&#x5173;&#x8FDC;&#x7A0B;<code>systems.getByName()</code>&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BE5;&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x683C;&#x5F0F;&#x826F;&#x597D;&#x7684;InetAddress&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x4EE3;&#x8868;&#x8FDC;&#x7A0B;<code>systems.getByName()</code>&#x63A5;&#x53D7;&#x4EFB;&#x4E00;&#x57DF;&#x540D; &#xFF08;&#x4F8B;&#x5982;<code>www.aboutgroovy.com</code>&#xFF09;&#x6216;IP&#x4F4D;&#x5740;&#xFF08;&#x4F8B;&#x5982;<code>64.233.167.99</code>&#xFF09;&#x3002; &#x4E00;&#x65E6;&#x62E5;&#x6709;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x53E5;&#x67C4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8981;&#x6C42;&#x5176;<code>hostAddress</code>&#x548C;<code>canonicalHostName</code>&#x3002;</p>
<p>&#x6709;&#x65F6;&#xFF0C;DNS&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x4E3A;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684;IP&#x5730;&#x5740;&#x3002; &#x5BF9;&#x4E8E;&#x7E41;&#x5FD9;&#x7684;&#x7F51;&#x7AD9;&#x5C24;&#x5176;&#x5982;&#x6B64;&#xFF0C;&#x8FD9;&#x4E9B;&#x7F51;&#x7AD9;&#x5728;&#x8BB8;&#x591A;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x4E86;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x3002; &#x5982;&#x679C;DNS&#x540D;&#x79F0;&#x89E3;&#x6790;&#x4E3A;&#x591A;&#x4E2A;IP&#x5730;&#x5740;&#xFF0C;&#x5219;<code>getByName()</code>&#x5C06;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;&#xFF0C;&#x800C;<code>getAllByName()</code>&#x5C06;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x8FD9;&#x4E9B;IP&#x5730;&#x5740;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x901A;&#x5E38;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x6765;&#x67E5;&#x8BE2;&#x8FDC;&#x7A0B;&#x7CFB;&#x7EDF;&#xFF1A;</p>
<pre><code class="lang-groovy">// on Unix/Linux/Mac OS X
println &quot;dig www.aboutgroovy.com&quot;.execute().text
===&gt;
; &lt;&lt;&gt;&gt; DiG 9.3.4 &lt;&lt;&gt;&gt; www.aboutgroovy.com
;; global options: printcmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 55649
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2

;; QUESTION SECTION:
;www.aboutgroovy.com. IN A

;; ANSWER SECTION:
www.aboutgroovy.com. 300 IN A 63.246.7.76

;; AUTHORITY SECTION:
aboutgroovy.com. 82368 IN NS ns1.contegix.com.
aboutgroovy.com. 82368 IN NS ns2.contegix.com.
;; ADDITIONAL SECTION:
ns1.contegix.com. 11655 IN A 63.246.7.200
ns2.contegix.com. 11655 IN A 63.246.22.100

;; Query time: 204 msec
;; SERVER: 66.174.92.14#53(66.174.92.14)
;; WHEN: Tue Oct 9 15:16:16 2007
;; MSG SIZE rcvd: 130

// on Windows
println &quot;nslookup www.aboutgroovy.com&quot;.execute().text
===&gt;
Server: UnKnown
Address: 10.211.55.1

Name: www.aboutgroovy.com
Address: 63.246.7.76
</code></pre>
<h3 id="9_3_Making_an_HTTP_GET_Request"><a name="9_3_Making_an_HTTP_GET_Request" class="anchor-navigation-ex-anchor" href="#9_3_Making_an_HTTP_GET_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.3 &#x53D1;&#x51FA;HTTP GET&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> page = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>).text
===&gt;
&lt;html&gt;&lt;head&gt;&lt;title&gt;...

<span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>).eachLine{line -&gt;
  println line
}

===&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;
...
</code></pre>
<p>&#x83B7;&#x53D6;HTML&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7684;&#x6700;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#x662F;&#x5728;URL&#x4E0A;&#x8C03;&#x7528;<code>getText()</code>&#x3002; &#x8FD9;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x6574;&#x4E2A;&#x54CD;&#x5E94;&#x5B58;&#x50A8;&#x5728;String&#x53D8;&#x91CF;&#x4E2D;&#x3002; &#x5982;&#x679C;&#x9875;&#x9762;&#x592A;&#x5927;&#x800C;&#x4E0D;&#x80FD;&#x8212;&#x9002;&#x5730;&#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>eachLine()</code>&#x9010;&#x884C;&#x904D;&#x5386;&#x54CD;&#x5E94;&#x3002;</p>
<p>Groovy&#x5728;<code>java.lang.String</code>&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;<code>toURL()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7A0D;&#x5FAE;&#x7B80;&#x5316;&#x4E00;&#x4E9B;&#x7684;&#x8BED;&#x6CD5;&#x6765;&#x53D1;&#x51FA;&#x76F8;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>.toURL().text
<span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>.toURL().eachLine{...}
</code></pre>
<p>&#x6211;&#x4EEC;&#x5C06;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x7B80;&#x5316;&#x6B64;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EE5;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x5730;&#x5728;&#x7B2C;198&#x9875;&#x4E0A;&#x7684;&#x7B2C;10.11&#x8282;&#x201C;&#x5C06;&#x65B9;&#x6CD5;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#xFF08;ExpandoMetaClass&#xFF09;&#x201D;&#x4E2D;&#x8C03;&#x7528;<code>&quot;http://www.aboutgroovy.com&quot;.get()</code>&#x3002;</p>
<p><strong>&#x6839;&#x636E;HTTP&#x54CD;&#x5E94;&#x4EE3;&#x7801;&#x5904;&#x7406;&#x8BF7;&#x6C42;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()
<span class="hljs-keyword">if</span>(connection.responseCode == <span class="hljs-number">200</span>){
  println connection.content.text
} <span class="hljs-keyword">else</span>{
  println <span class="hljs-string">&quot;An error occurred:&quot;</span>
  println connection.responseCode
  println connection.responseMessage
}
</code></pre>
<p>&#x76F4;&#x63A5;&#x5728;URL&#x5BF9;&#x8C61;&#x4E0A;&#x8C03;&#x7528;<code>getText()</code>&#x610F;&#x5473;&#x7740;&#x60A8;&#x5E0C;&#x671B;&#x4E00;&#x5207;&#x987A;&#x5229;&#x2014;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;404&#xFF0C;&#x7B49;&#x7B49;&#x3002; &#x5C3D;&#x7BA1;&#x60A8;&#x7684;&#x4E50;&#x89C2;&#x6001;&#x5EA6;&#x503C;&#x5F97;&#x79F0;&#x8D5E;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x60A8;&#x60F3;&#x7F16;&#x5199;&#x7A0D;&#x5FAE;&#x66F4;&#x591A;&#x7684;&#x5BB9;&#x9519;&#x4EE3;&#x7801;&#xFF0C;&#x5219;&#x5E94;&#x8BE5;&#x5728;URL&#x4E0A;&#x8C03;&#x7528;<code>openConnection()</code>&#x3002;</p>
<p>&#x8FD9;&#x5C06;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<code>java.net.URLConnection</code>&#x5BF9;&#x8C61;&#xFF0C;&#x8BE5;&#x5BF9;&#x8C61;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;URL&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x66F4;&#x8BE6;&#x7EC6;&#x7684;&#x5DE5;&#x4F5C;&#x3002; <code>connection.content.text</code>&#x8FD4;&#x56DE;&#x4E0E;<code>url.text</code>&#x76F8;&#x540C;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x5BF9;200&#x6216;404&#x7684;&#x54CD;&#x5E94;&#x8FDB;&#x884C;&#x66F4;&#x591A;&#x7684;&#x81EA;&#x7701;-<code>connection.responseCode</code>&#xFF1B; <code>connection.responseMessage</code>&#x7528;&#x4E8E;OK&#x6216;&#x627E;&#x4E0D;&#x5230;&#x6587;&#x4EF6;&#x3002;</p>
<p><strong>&#x83B7;&#x53D6;HTTP&#x54CD;&#x5E94;&#x5143;&#x6570;&#x636E;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://www.aboutgroovy.com&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()
connection.responseCode
===&gt; <span class="hljs-number">200</span>
connection.responseMessage
===&gt; OK
connection.contentLength
===&gt; <span class="hljs-number">4216</span>
connection.contentType
===&gt; text/html
connection.date
===&gt; <span class="hljs-number">1191250061000</span>
connection.expiration
===&gt; <span class="hljs-number">0</span>
connection.lastModified
===&gt; <span class="hljs-number">0</span>

connection.headerFields.each{println it}
===&gt;
Content-Length=[<span class="hljs-number">4216</span>]
Set-Cookie=[JSESSIONID=<span class="hljs-number">3</span>B2DE7CBDAE3D58EC46D5A8DF5AF89D1; Path=/]
Date=[Mon, <span class="hljs-number">01</span> Oct <span class="hljs-number">2007</span> <span class="hljs-number">14</span>:<span class="hljs-number">47</span>:<span class="hljs-number">41</span> GMT]
<span class="hljs-literal">null</span>=[HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK]
Server=[Apache-Coyote/<span class="hljs-number">1.1</span>]
Content-Type=[text/html]
</code></pre>
<p>&#x4E00;&#x65E6;&#x62E5;&#x6709;<code>URLConnection</code>&#x7684;&#x53E5;&#x67C4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x5168;&#x8BBF;&#x95EE;&#x968F;&#x9644;&#x7684;&#x54CD;&#x5E94;&#x5143;&#x6570;&#x636E;&#x3002; &#x9664;&#x4E86;<code>responseCode</code>&#x548C;<code>responseMessage</code>&#x4E4B;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x8BF8;&#x5982;<code>contentLength</code>&#x548C;<code>contentType</code>&#x4E4B;&#x7C7B;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x9010;&#x4E2A;&#x8FED;&#x4EE3;&#x6BCF;&#x4E2A;&#x54CD;&#x5E94;&#x5934;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4FBF;&#x6377;&#x7684;GET&#x7C7B;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Get</span>{</span>
  String url
  String queryString
  URLConnection connection
  String text

  String getText(){
    <span class="hljs-keyword">def</span> thisUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-keyword">this</span>.toString())
    connection = thisUrl.openConnection()
    <span class="hljs-keyword">if</span>(connection.responseCode == <span class="hljs-number">200</span>){
      <span class="hljs-keyword">return</span> connection.content.text
    } <span class="hljs-keyword">else</span>{
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Something bad happened\n&quot;</span> +
      <span class="hljs-string">&quot;URL: &quot;</span> + <span class="hljs-keyword">this</span>.toString() + <span class="hljs-string">&quot;\n&quot;</span> +
      connection.responseCode + <span class="hljs-string">&quot;: &quot;</span> +
      connection.responseMessage
    }
  }

  String toString(){
    <span class="hljs-keyword">return</span> url + <span class="hljs-string">&quot;?&quot;</span> + queryString
  }
}

<span class="hljs-keyword">def</span> get = <span class="hljs-keyword">new</span> Get(<span class="hljs-string">url:</span><span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>)
get.queryString = <span class="hljs-string">&quot;p=groovy&quot;</span>
println get
===&gt; <span class="hljs-string">http:</span><span class="hljs-comment">//search.yahoo.com/search?p=groovy</span>

println get.text
===&gt; &lt;html&gt;&lt;head&gt;...

get.url = <span class="hljs-string">&quot;http://www.yahoo.com/no.such.page&quot;</span>
println get.text
===&gt;
Something bad happened
<span class="hljs-string">URL:</span> <span class="hljs-string">http:</span><span class="hljs-comment">//www.yahoo.com/no.such.page?p=groovy</span>
<span class="hljs-number">404</span>: Not Found
</code></pre>
<p>&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x60A8;&#x5DF2;&#x7ECF;&#x7F16;&#x5199;&#x4E86;&#x4E00;&#x4E9B;&#x975E;&#x5E38;&#x7A0B;&#x5E8F;&#x5316;&#x7684;&#x4EE3;&#x7801;<sup><a href="#fn_901" id="reffn_901">901</a></sup>&#x3002;&#x5B83;&#x786E;&#x5B9E;&#x5B8C;&#x6210;&#x4E86;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x7F3A;&#x4E4F;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x65B9;&#x9762;&#xFF0C;&#x5B83;&#x53EA;&#x53D7;&#x5230;&#x4E00;&#x70B9;&#x70B9;&#x5F71;&#x54CD;&#x3002;(&#x4F60;&#x6562;&#x8BF4;&#x201C;&#x590D;&#x5236;&#x7C98;&#x8D34;&#x201D;&#x662F;&#x4E00;&#x79CD;&#x6709;&#x6548;&#x7684;&#x91CD;&#x7528;&#x5417;?&#x4F60;&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7A0B;&#x5E8F;&#x5458;&#x2014;&#x2014;&#x4F60;&#x600E;&#x4E48;&#x80FD;&#x60F3;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#x60C5;&#x5462;?)&#x8FD9;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;Get&#x7C7B;&#x5C06;&#x60A8;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x5B66;&#x5230;&#x7684;&#x6240;&#x6709;&#x4E1C;&#x897F;&#x5305;&#x88C5;&#x6210;&#x53EF;&#x91CD;&#x7528;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x5B83;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x7B80;&#x5355;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x9690;&#x85CF;&#x4E86;&#x8DB3;&#x591F;&#x591A;&#x7684;HttpConnection&#x590D;&#x6742;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x503C;&#x5F97;&#x60A8;&#x82B1;&#x65F6;&#x95F4;&#x53BB;&#x4F7F;&#x7528;&#x5B83;&#x3002;</p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x6BD4;<code>&quot;http://www.aboutgroovy.com&quot;.toURL().text</code>&#x66F4;&#x7B80;&#x5355;&#x7684;&#x4E86;&#x3002;&#x4E0E;&#x4E4B;&#x76F8;&#x5BF9;&#x7684;&#x662F;<code>Jakarta Commons HttpClient</code><sup><a href="#fn_902" id="reffn_902">902</a></sup>&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5B8C;&#x6574;&#x7684;&#x5E93;&#xFF0C;&#x6BD4;&#x6211;&#x81EA;&#x5DF1;&#x4E00;&#x4E2A;&#x4EBA;&#x7684;&#x5E93;&#x8981;&#x5B8C;&#x6574;&#x5F97;&#x591A;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x7F3A;&#x70B9;&#x662F;&#x5411;&#x9879;&#x76EE;&#x6DFB;&#x52A0;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#x9879;&#x3002;&#x81EA;&#x5B9A;&#x4E49;Get&#x7C7B;&#x5F88;&#x597D;&#x5730;&#x5206;&#x5272;&#x4E86;&#x8FD9;&#x79CD;&#x5DEE;&#x5F02;&#x3002;&#x5B83;&#x6BD4;<code>&quot;&quot;. tourl().text</code>&#x7A0D;&#x5FAE;&#x5065;&#x58EE;&#x4E00;&#x4E9B;&#xFF0C;&#x4F46;&#x5B83;&#x662F;&#x5728;&#x7EAF;Groovy&#x4E2D;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x7C7B;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;JAR&#x81A8;&#x80C0;&#x3002;</p>
<p>&#x8FD8;&#x6709;&#x4E00;&#x4EF6;&#x4E8B;&#xFF1A;Get&#x7C7B;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x652F;&#x6301;&#x3002; &#x8FD9;&#x662F;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x9644;&#x52A0;&#x5230;URL&#x7684;&#x672B;&#x5C3E;&#x4EE5;&#x8FDB;&#x4E00;&#x6B65;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;9.4&#x8282;&#xFF0C;&#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p><strong>RESTful GET&#x8BF7;&#x6C42;</strong></p>
<pre><code class="lang-groovy">&quot;http://search.yahooapis.com/WebSearchService/V1/webSearch?
appid=YahooDemo&amp;query=groovy&amp;results=10&quot;.toURL().text

//alternately, using our Get class
def get = new Get()
get.url = &quot;http://search.yahooapis.com/WebSearchService/V1/webSearch&quot;
get.queryString = &quot;appid=YahooDemo&amp;query=groovy&amp;results=10&quot;
def results = get.text
</code></pre>
<p>RESTful Web&#x670D;&#x52A1;&#x662F;&#x4E00;&#x79CD;Web&#x670D;&#x52A1;&#x3002; REST&#x4EE3;&#x8868;&#x4EE3;&#x8868;&#x6027;&#x72B6;&#x6001;&#x8F6C;&#x79FB;<sup><a href="#fn_903" id="reffn_903">903</a></sup>&#x3002; &#x5C3D;&#x7BA1;&#x5BF9;&#x4E8E;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;RESTful&#x7684;&#x542B;&#x4E49;&#x6709;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x4F46;&#x901A;&#x5E38;&#x516C;&#x8BA4;&#x7684;&#x662F;&#xFF0C;&#x8FD4;&#x56DE;XML&#x7ED3;&#x679C;&#xFF08;&#x4E0E;HTML&#x6216;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x76F8;&#x5BF9;&#xFF09;&#x7684;HTTP GET&#x8BF7;&#x6C42;&#x6784;&#x6210;&#x4E86;RESTful Web&#x670D;&#x52A1;&#x7684;&#x6700;&#x7B80;&#x5355;&#x5F62;&#x5F0F;&#x3002;</p>
<p>Yahoo&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;RESTful API <sup><a href="#fn_904" id="reffn_904">904</a></sup>&#xFF0C;&#x8BE5;API&#x4EE5;XML&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002; &#x6B64;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x641C;&#x7D22;&#x8BCD;groovy&#x7684;&#x524D;&#x5341;&#x4E2A;&#x5339;&#x914D;&#x3002; &#x6709;&#x5173;&#x6B64;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x53CA;&#x5176;&#x89E3;&#x6790;&#x65B9;&#x6CD5;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;9.1&#x9875;&#x7684;&#x7B2C;9.12&#x8282;&#x201C;&#x5C06;Yahoo Search&#x7ED3;&#x679C;&#x89E3;&#x6790;&#x4E3A;XML&#x201D;&#x3002;</p>
<h3 id="9_4_Working_with_Query_Strings"><a name="9_4_Working_with_Query_Strings" class="anchor-navigation-ex-anchor" href="#9_4_Working_with_Query_Strings"><i class="fa fa-link" aria-hidden="true"></i></a>9.4 &#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32; </h3>
<pre><code class="lang-javascript"><span class="hljs-string">&quot;http://search.yahoo.com/search?p=groovy&quot;</span>.toURL().text
</code></pre>
<p>&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x5141;&#x8BB8;&#x60A8;&#x901A;&#x8FC7;&#x5728;&#x5730;&#x5740;&#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x6765;&#x53D1;&#x51FA;&#x66F4;&#x590D;&#x6742;&#x7684;HTTP GET&#x8BF7;&#x6C42;&#x3002; &#x73B0;&#x5728;&#xFF0C;&#x60A8;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x5728;<code>http://search.yahoo.com</code>&#x4E0A;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5BF9;&#x5305;&#x542B;groovy&#x4E00;&#x8BCD;&#x7684;&#x6240;&#x6709;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x52A8;&#x6001;&#x67E5;&#x8BE2;&#x3002;</p>
<p>Web&#x4ECE;&#x7B80;&#x5355;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8F6C;&#x6362;&#x4E3A;&#x5B8C;&#x5168;&#x53EF;&#x7F16;&#x7A0B;&#x7684;Web <sup><a href="#fn_905" id="reffn_905">905</a></sup>&#x3002; &#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x53D1;&#x51FA;HTTP GET&#x8BF7;&#x6C42;&#x7684;&#x673A;&#x5236;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#xFF0C;&#x8FD9;&#x6CA1;&#x6709;&#x6BD4;&#x6211;&#x4EEC;&#x5728;&#x7B2C;155&#x9875;&#x7684;9.3&#x8282;&#x201C;&#x53D1;&#x51FA;HTTP GET&#x8BF7;&#x6C42;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x590D;&#x6742;&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x8BED;&#x4E49;&#x4E3A;&#x7F16;&#x7A0B;&#x53EF;&#x80FD;&#x6027;&#x5F00;&#x8F9F;&#x4E86;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x4E16;&#x754C;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5355;&#x4E2A;URL&#x4E2D;&#x6355;&#x83B7;&#x590D;&#x6742;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x4F8B;&#x5982;&#x663E;&#x793A;&#x4E39;&#x4F5B;&#x56FD;&#x9645;&#x673A;&#x573A;&#x7684;Google&#x5730;&#x56FE;&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x5355;&#x51FB;&#x9875;&#x9762;&#x53F3;&#x4E0A;&#x89D2;&#x7684;&#x201C;&#x94FE;&#x63A5;&#x5230;&#x6B64;&#x9875;&#x9762;&#x201D;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x8D85;&#x94FE;&#x63A5;&#xFF0C;&#x6DFB;&#x52A0;&#x4E66;&#x7B7E;&#x6216;&#x5C06;&#x5176;&#x901A;&#x8FC7;&#x7535;&#x5B50;&#x90AE;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;&#x670B;&#x53CB;&#x3002; &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4EE3;&#x8868;&#x5730;&#x56FE;&#x7684;&#x4E0D;&#x540C;&#x65B9;&#x9762;&#xFF1A;ll&#x4EE3;&#x8868;&#x5730;&#x56FE;&#x7684;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x4E2D;&#x5FC3;&#x70B9;&#xFF08;39.87075&#xFF0C;-104.694214&#xFF09;&#xFF0C;z&#x4EE3;&#x8868;&#x7F29;&#x653E;&#x7EA7;&#x522B;&#xFF08;11&#xFF09;&#xFF0C;t&#x4EE3;&#x8868;&#x7C7B;&#x578B;&#xFF08;h&#x6216;&#x6DF7;&#x5408;&#xFF09; &#xFF09;&#xFF0C;&#x4F9D;&#x6B64;&#x7C7B;&#x63A8;&#x3002;</p>
<pre><code class="lang-javascript">&quot;http://maps.google.com/maps?f=q&amp;hl=en&amp;geocode=&amp;time=&amp;date=&amp;ttype=
&amp;q=dia&amp;sll=37.0625,-95.677068&amp;sspn=34.038806,73.125&amp;ie=UTF8
&amp;ll=39.87075,-104.694214&amp;spn=0.2577,0.571289&amp;z=11&amp;iwloc=addr&amp;om=1&amp;t=h&quot;
.toURL().text
</code></pre>
<p><strong>&#x4ECE;&#x5217;&#x8868;&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> queryString = []
queryString &lt;&lt; <span class="hljs-string">&quot;n=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;20&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;vd=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;m3&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;vl=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;lang_en&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;vf=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;pdf&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;p=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;groovy grails&quot;</span>)

<span class="hljs-keyword">def</span> address = <span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>
<span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(address + <span class="hljs-string">&quot;?&quot;</span> + queryString.join(<span class="hljs-string">&quot;&amp;&quot;</span>))
println url
===&gt;
<span class="hljs-string">http:</span><span class="hljs-comment">//search.yahoo.com/search?n=20&amp;vd=m3&amp;vl=lang_en&amp;vf=pdf&amp;p=groovy+grails</span>

println url.text
</code></pre>
<p>&#x901A;&#x5E38;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x8D1F;&#x8D23;&#x4ECE;&#x4EFB;&#x610F;&#x6570;&#x636E;&#x503C;&#x96C6;&#x5408;&#x4E2D;&#x7EC4;&#x88C5;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x79D8;&#x8BC0;&#x662F;&#x786E;&#x4FDD;&#x503C;&#x662F;&#x7ECF;&#x8FC7;URL&#x7F16;&#x7801;&#x7684;<sup><a href="#fn_906" id="reffn_906">906</a></sup>&#xFF08;&quot;foo bar baz&quot; ==&gt; &quot;foo+bar+baz&quot;&#xFF09;&#xFF0C;&#x800C;&#x540D;&#x79F0;&#x90E8;&#x5206;&#xFF08;nonsense =&#xFF09;&#x4ECD;&#x4E3A;&#x7EAF;&#x6587;&#x672C;&#x3002; &#x5982;&#x679C;&#x5C1D;&#x8BD5;&#x5C06;&#x540D;&#x79F0;&#x548C;&#x503C;URL&#x7F16;&#x7801;&#x4E3A;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x201C;unsense=foo bar baz&#x201D;&#xFF09;&#xFF0C;&#x5219;&#x7B49;&#x53F7;&#xFF08;=&#xFF09;&#x5C06;&#x8F6C;&#x6362;&#x4E3A;<code>%3D</code>&#xFF0C;&#x5E76;&#x4E14;&#x60A8;&#x7684;Web&#x670D;&#x52A1;&#x5668;&#x5F88;&#x53EF;&#x80FD;&#x4F1A;&#x62D2;&#x7EDD;&#x8BE5;&#x8BF7;&#x6C42;&#x3002;</p>
<p>&#x672C;&#x793A;&#x4F8B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>&#x540D;&#x79F0;/&#x503C;&#x5BF9;</code>&#x5217;&#x8868;&#xFF0C;&#x786E;&#x4FDD;&#x4EC5;&#x4F7F;&#x7528;<code>java.net.URLEncoder</code>&#x5BF9;&#x503C;&#x8FDB;&#x884C;URL&#x7F16;&#x7801;&#x3002; &#x7A0D;&#x540E;&#xFF0C;&#x5F53;&#x60A8;&#x9700;&#x8981;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;&#x8BF7;&#x8C03;&#x7528;<code>queryString.join(&quot;&amp;&quot;)</code>&#x3002; &#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;3.14&#x8282;&#x201C;&#x8FDE;&#x63A5;&#x201D;&#xFF08;&#x7B2C;60&#x9875;&#xFF09;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x5B83;&#x4EE5;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x5217;&#x8868;&#xFF0C;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x4E0E;&#x60A8;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x6267;&#x884C;&#x9AD8;&#x7EA7;Yahoo&#x641C;&#x7D22;&#x5E76;&#x4ECE;&#x7ED3;&#x679C;URL&#x4E2D;&#x6311;&#x9009;&#x6709;&#x8DA3;&#x7684;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x6765;&#x6784;&#x5EFA;&#x6B64;&#x7279;&#x5B9A;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002; n&#x8FD4;&#x56DE;&#x4E8C;&#x5341;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x5341;&#x4E2A;&#x7ED3;&#x679C;&#x3002; vd&#x5C06;&#x7ED3;&#x679C;&#x9650;&#x5236;&#x4E3A;&#x8FC7;&#x53BB;&#x4E09;&#x4E2A;&#x6708;&#x4E2D;&#x53D1;&#x5E03;&#x7684;&#x7ED3;&#x679C;&#x3002; vl&#x4EC5;&#x8FD4;&#x56DE;&#x82F1;&#x6587;&#x9875;&#x9762;&#x3002; vf&#x4EC5;&#x8FC7;&#x6EE4;PDF&#x6587;&#x6863;&#x7684;&#x7ED3;&#x679C;&#x3002; &#x6700;&#x540E;&#xFF0C;p&#x5BFB;&#x627E;&#x63D0;&#x5230;&#x5F02;&#x5E38;&#x6216;&#x7C97;&#x7CD9;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p><strong>&#x4ECE;Map&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> map = [<span class="hljs-string">n:</span><span class="hljs-number">20</span>, <span class="hljs-string">vf:</span><span class="hljs-string">&quot;pdf&quot;</span>, <span class="hljs-string">p:</span><span class="hljs-string">&quot;groovy grails&quot;</span>]
<span class="hljs-keyword">def</span> list = []
map.each{name,value-&gt;
  list &lt;&lt; <span class="hljs-string">&quot;$name=&quot;</span> + URLEncoder.encode(value.toString())
}
println list.join(<span class="hljs-string">&quot;&amp;&quot;</span>)
===&gt; n=<span class="hljs-number">20</span>&amp;vf=pdf&amp;p=groovy+grails
</code></pre>
<p>Groovy Maps&#x662F;&#x8868;&#x793A;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4E00;&#x79CD;&#x5F88;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x4E24;&#x8005;&#x81EA;&#x7136;&#x90FD;&#x6709;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x3002; &#x6B64;&#x793A;&#x4F8B;&#x4ECD;&#x7136;&#x4F7F;&#x7528;&#x4E34;&#x65F6;List&#x5B58;&#x50A8;URL&#x7F16;&#x7801;&#x7684;&#x503C;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;<code>join(&quot;&amp;&quot;)</code>&#x5728;&#x6700;&#x540E;&#x4E00;&#x5206;&#x949F;&#x5C06;&#x5B83;&#x4EEC;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>
<p>&#x6709;&#x4E00;&#x79CD;&#x6781;&#x7AEF;&#x7684;&#x60C5;&#x51B5;&#x4F7F;&#x5B83;&#x4E0D;&#x80FD;&#x6210;&#x4E3A;100&#xFF05;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x5141;&#x8BB8;&#x5177;&#x6709;&#x91CD;&#x590D;&#x7684;&#x547D;&#x540D;&#x5143;&#x7D20;&#xFF0C;&#x800C;Map&#x5F3A;&#x5236;&#x4F7F;&#x7528;&#x552F;&#x4E00;&#x7684;&#x540D;&#x79F0;&#x3002;</p>
<pre><code class="lang-javascript">http:<span class="hljs-comment">//localhost/order?book=Groovy+Recipes&amp;book=Groovy+In+Action</span>
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x53EF;&#x4EE5;&#x5FCD;&#x53D7;&#x6B64;&#x9650;&#x5236;&#xFF0C;&#x90A3;&#x4E48;Maps&#x662F;&#x5B8C;&#x7F8E;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x5982;&#x679C;&#x9700;&#x8981;&#x652F;&#x6301;&#x91CD;&#x590D;&#x7684;&#x547D;&#x540D;&#x5143;&#x7D20;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x90E8;&#x5206;9.4&#xFF0C;&#x521B;&#x5EFA;&#x4FBF;&#x6377;QueryString&#x7C7B;&#x4EE5;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4FBF;&#x6377;&#x7684;QueryString&#x7C7B;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QueryString</span>{</span>
  Map params = [:]

  <span class="hljs-comment">//this constructor allows you to pass in a Map</span>
  QueryString(Map params){
    <span class="hljs-keyword">if</span>(params){
      <span class="hljs-keyword">this</span>.params.putAll(params)
    }
  }

  <span class="hljs-comment">//this method allows you to add name/value pairs</span>
  <span class="hljs-keyword">void</span> add(String name, Object value){
    params.put(name, value)
  }

  <span class="hljs-comment">//this method returns a well-formed QueryString</span>
  String toString(){
    <span class="hljs-keyword">def</span> list = []
    params.each{name,value-&gt;
      list &lt;&lt; <span class="hljs-string">&quot;$name=&quot;</span> + URLEncoder.encode(value.toString())
    }
    <span class="hljs-keyword">return</span> list.join(<span class="hljs-string">&quot;&amp;&quot;</span>)
  }
}

<span class="hljs-keyword">def</span> qs = <span class="hljs-keyword">new</span> QueryString(<span class="hljs-string">n:</span><span class="hljs-number">20</span>, <span class="hljs-string">vf:</span><span class="hljs-string">&quot;pdf&quot;</span>, <span class="hljs-string">p:</span><span class="hljs-string">&quot;groovy grails&quot;</span>)
println qs
===&gt; n=<span class="hljs-number">20</span>&amp;vf=pdf&amp;p=groovy+grails

<span class="hljs-keyword">def</span> qs2 = <span class="hljs-keyword">new</span> QueryString()
qs2.params.put(<span class="hljs-string">&quot;firstname&quot;</span>, <span class="hljs-string">&quot;Scott&quot;</span>)
qs2.add(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-number">99</span>)
qs2.add <span class="hljs-string">&quot;updated&quot;</span>, <span class="hljs-keyword">new</span> Date()
println qs2
===&gt; firstname=Scott&amp;id=<span class="hljs-number">99</span>&amp;updated=Wed+Oct+<span class="hljs-number">10</span>+<span class="hljs-number">20</span>%<span class="hljs-number">3</span>A17%<span class="hljs-number">3</span>A34+MDT+<span class="hljs-number">2007</span>
</code></pre>
<p>&#x521B;&#x5EFA;&#x4FBF;&#x6377;&#x7C7B;&#x53EF;&#x4EE5;&#x4F7F;&#x60A8;&#x5C06;&#x6784;&#x5EFA;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x673A;&#x5236;&#x5C01;&#x88C5;&#x5230;&#x53EF;&#x91CD;&#x7528;&#x7684;&#x7EC4;&#x4EF6;&#x4E2D;&#x3002;</p>
<p>qs&#x5BF9;&#x8C61;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x63A5;&#x53D7;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#xFF0C;&#x8FD9;&#x4E9B;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x88AB;&#x5F3A;&#x5236;&#x8F6C;&#x6362;&#x6210;&#x6620;&#x5C04;&#x3002;(&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x73B0;&#x6709;&#x7684;&#x6620;&#x5C04;&#x4F20;&#x9012;&#x7ED9;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;)qs2&#x5BF9;&#x8C61;&#x6F14;&#x793A;&#x4E86;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x4F20;&#x9012;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x2014;&#x2014;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x65B9;&#x4FBF;&#x7684;&#x5E26;&#x62EC;&#x53F7;&#x7684;<code>add()</code>&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;params&#x6620;&#x5C04;&#xFF0C;&#x6700;&#x540E;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x76F8;&#x540C;&#x7684;<code>add()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x540C;&#x65F6;&#x5229;&#x7528;Groovy&#x7684;&#x53EF;&#x9009;&#x62EC;&#x53F7;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;<code>add()</code>&#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x503C;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x5141;&#x8BB8;&#x60A8;&#x5B58;&#x50A8;&#x6574;&#x6570;&#x548C;&#x7C7B;&#x7B49;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x8C03;&#x7528;<code>URLEncoder.encode(value.toString())</code>&#x786E;&#x4FDD;&#x6B63;&#x786E;&#x5730;&#x5C06;&#x503C;&#x63D2;&#x5165;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p>&#x5C06;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E0E;&#x7B2C;9.3&#x8282;&#x4E2D;&#x521B;&#x5EFA;&#x7684;Get&#x7C7B;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;Get&#x7C7B;&#xFF0C;&#x5728;&#x7B2C;157&#x9875;&#x5F00;&#x59CB;&#x5C55;&#x793A;&#x7528;&#x5F88;&#x5C11;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x7EC4;&#x88C5;&#x7684;&#x80FD;&#x529B;&#x2014;&#x2014;Get&#x548C;QueryString&#x4E4B;&#x95F4;&#x7684;&#x4EE3;&#x7801;&#x4E0D;&#x5230;50&#x884C;&#x3002;</p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Get</span>{</span>
  String url
  QueryString queryString = <span class="hljs-keyword">new</span> QueryString()
  URLConnection connection
  String text

  String getText(){
    <span class="hljs-keyword">def</span> thisUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-keyword">this</span>.toString())
    connection = thisUrl.openConnection()
    <span class="hljs-keyword">if</span>(connection.responseCode == <span class="hljs-number">200</span>){
      <span class="hljs-keyword">return</span> connection.content.text
    } <span class="hljs-keyword">else</span>{
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Something bad happened\n&quot;</span> +
             <span class="hljs-string">&quot;URL: &quot;</span> + <span class="hljs-keyword">this</span>.toString() + <span class="hljs-string">&quot;\n&quot;</span> +
             connection.responseCode + <span class="hljs-string">&quot;: &quot;</span> +
             connection.responseMessage
    }
  }

  String toString(){
    <span class="hljs-keyword">return</span> url + <span class="hljs-string">&quot;?&quot;</span> + queryString.toString()
  }
}
<span class="hljs-keyword">def</span> get = <span class="hljs-keyword">new</span> Get(<span class="hljs-string">url:</span><span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>)
get.queryString.add(<span class="hljs-string">&quot;n&quot;</span>, <span class="hljs-number">20</span>)
get.queryString.add(<span class="hljs-string">&quot;vf&quot;</span>, <span class="hljs-string">&quot;pdf&quot;</span>)
get.queryString.add(<span class="hljs-string">&quot;p&quot;</span>, <span class="hljs-string">&quot;groovy grails&quot;</span>)

println get
===&gt; <span class="hljs-string">http:</span><span class="hljs-comment">//search.yahoo.com/search?n=20&amp;vf=pdf&amp;p=groovy+grails</span>

println get.text
===&gt; &lt;html&gt;&lt;head&gt;...
</code></pre>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5C06;&#x60A8;&#x7684;queryString&#x5B57;&#x6BB5;&#x4ECE;String&#x5347;&#x7EA7;&#x5230;&#x5B8C;&#x6574;&#x7684;QueryString&#x5BF9;&#x8C61;&#x4EC5;&#x9700;&#x8981;&#x5728;&#x4E24;&#x4E2A;&#x4F4D;&#x7F6E;&#x63A5;&#x89E6;Get&#x7C7B;&#x3002; &#x73B0;&#x5728;&#xFF0C;&#x8BE5;&#x5B57;&#x6BB5;&#x58F0;&#x660E;&#x5C06;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;<code>QueryString()</code>&#xFF0C;&#x5E76;&#x4F7F;&#x7528;<code>toString()</code>&#x65B9;&#x6CD5;&#x8C03;&#x7528;<code>queryString.toString()</code>&#x3002; &#x73B0;&#x5728;&#xFF0C;&#x6B64;&#x5347;&#x7EA7;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x8BA9;Get&#x7C7B;&#x521B;&#x5EFA;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;QueryString&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F3A;&#x8FEB;&#x60A8;&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x3002; &#x8BF8;&#x5982;<code>get.queryString.add(&quot;p&quot;,&quot;groovy grails&quot;)</code>&#x4E4B;&#x7C7B;&#x7684;&#x8C03;&#x7528;&#x5728;&#x5E55;&#x540E;&#x505A;&#x4E86;&#x6B63;&#x786E;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x786E;&#x4FDD;&#x503C;&#x6B63;&#x786E;&#x5730;&#x8FDB;&#x884C;&#x4E86;URL&#x7F16;&#x7801;&#x3002;</p>
<p>&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x5728;&#x7B2C;161&#x9875;&#x7684;&#x7B2C;9.4&#x8282;&#x201C;&#x4ECE;&#x6620;&#x5C04;&#x4E2D;&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;/&#x54C8;&#x5E0C;&#x6620;&#x5C04;&#x4E0D;&#x5339;&#x914D;&#x5417;&#xFF1F; &#x56E0;&#x4E3A;QueryString&#x7C7B;&#x5F53;&#x524D;&#x5DF2;&#x5B9E;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;<code>qs.add()</code>&#x7684;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x66FF;&#x6362;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x3002; &#x4E3A;&#x4E86;&#x652F;&#x6301;&#x91CD;&#x590D;&#x7684;&#x547D;&#x540D;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x679C;&#x540D;&#x79F0;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x91CD;&#x6784;QueryString&#x7C7B;&#x4EE5;&#x5C06;&#x503C;&#x8FFD;&#x52A0;&#x5230;List&#x3002; &#x6709;&#x5173;&#x5982;&#x4F55;&#x6DFB;&#x52A0;&#x6B64;&#x529F;&#x80FD;&#x7684;&#x60F3;&#x6CD5;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;193&#x9875;&#xFF0C;&#x7B2C;10.8&#x8282;&#x201C;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;&#xFF08;invokeMethod&#xFF09;&#x201D;&#x3002;</p>
<h3 id="9_5_Making_an_HTTP_POST_Request"><a name="9_5_Making_an_HTTP_POST_Request" class="anchor-navigation-ex-anchor" href="#9_5_Making_an_HTTP_POST_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.5 &#x53D1;&#x51FA;HTTP POST&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()

<span class="hljs-comment">//switch the method to POST (GET is the default)</span>
connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)

<span class="hljs-comment">//write the data</span>
<span class="hljs-keyword">def</span> queryString = <span class="hljs-string">&quot;n=20&amp;vf=pdf&amp;p=groovy+grails&quot;</span>
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(queryString)
writer.flush()
writer.close()
connection.connect()

<span class="hljs-comment">//print the results</span>
println connection.content.text
===&gt; &lt;html&gt;&lt;head&gt;...
</code></pre>
<p>&#x53D1;&#x51FA;HTTP POST&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;URL&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;&#x4E0E;&#x8FDB;&#x884C;GET&#x8BF7;&#x6C42;&#x65F6;&#x76F8;&#x540C;&#x7684;<code>getText()</code>&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002; &#x60A8;&#x5FC5;&#x987B;&#x83B7;&#x53D6;URLConnection&#xFF0C;&#x4EE5;&#x4FBF;&#x53EF;&#x4EE5;&#x5C06;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E3A;POST&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;GET&#xFF09;&#x3002; &#x5BF9;&#x4E8E;GET&#x8BF7;&#x6C42;&#xFF0C;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x5C06;&#x9644;&#x52A0;&#x5230;URL&#x5BF9;&#x8C61;&#x7684;&#x672B;&#x5C3E;&#x3002; &#x76F8;&#x53CD;&#xFF0C;POST&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x5D4C;&#x5165;&#x5728;&#x8BF7;&#x6C42;&#x7684;&#x4E3B;&#x4F53;&#x4E2D;&#x3002; &#x4E3A;&#x6B64;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x505A;&#x4E09;&#x4EF6;&#x4E8B;&#xFF1A;&#x5C06;URLConnection&#x7684;doOutput&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;true&#xFF0C;&#x83B7;&#x53D6;outputStream&#xFF0C;&#x5E76;&#x5728;&#x8C03;&#x7528;<code>connect()</code>&#x4E4B;&#x524D;&#x5411;&#x5176;&#x4E2D;&#x5199;&#x5165;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002;</p>
<p><strong>&#x4ECE;&#x5217;&#x8868;&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> queryString = []
queryString &lt;&lt; <span class="hljs-string">&quot;n=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;20&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;vf=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;pdf&quot;</span>)
queryString &lt;&lt; <span class="hljs-string">&quot;p=&quot;</span> + URLEncoder.encode(<span class="hljs-string">&quot;groovy grails&quot;</span>)

<span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()
connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(queryString.join(<span class="hljs-string">&quot;&amp;&quot;</span>))
writer.flush()
writer.close()
connection.connect()

<span class="hljs-keyword">def</span> results = conn.content.text
</code></pre>
<p>&#x6B63;&#x5982;&#x5728;&#x7B2C;160&#x9875;&#x7684;&#x7B2C;9.4&#x8282;&#x201C;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x201D;&#x4E2D;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x6784;&#x5EFA;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x79D8;&#x8BC0;&#x662F;&#x786E;&#x4FDD;&#x503C;&#x7ECF;&#x8FC7;URL&#x7F16;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5143;&#x7D20;&#x4E0E;<code>&amp;</code>&#x8FDE;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4FBF;&#x5229;&#x7684;Post&#x7C7B;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Post</span>{</span>
  String url
  QueryString queryString = <span class="hljs-keyword">new</span> QueryString()
  URLConnection connection
  String text

  String getText(){
    <span class="hljs-keyword">def</span> thisUrl = <span class="hljs-keyword">new</span> URL(url)
    connection = thisUrl.openConnection()
    connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)
    connection.doOutput = <span class="hljs-literal">true</span>
    Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
    writer.write(queryString.toString())
    writer.flush()
    writer.close()
    connection.connect()
    <span class="hljs-keyword">return</span> connection.content.text
  }

  String toString(){
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;POST:\n&quot;</span> +
           url + <span class="hljs-string">&quot;\n&quot;</span> +
    queryString.toString()
  }
}

<span class="hljs-keyword">def</span> post = <span class="hljs-keyword">new</span> Post(<span class="hljs-string">url:</span><span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;n&quot;</span>, <span class="hljs-number">20</span>)
post.queryString.add(<span class="hljs-string">&quot;vf&quot;</span>, <span class="hljs-string">&quot;pdf&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;p&quot;</span>, <span class="hljs-string">&quot;groovy grails&quot;</span>)

println post
===&gt;
<span class="hljs-string">POST:</span>
<span class="hljs-string">http:</span><span class="hljs-comment">//search.yahoo.com/search</span>
n=<span class="hljs-number">20</span>&amp;vf=pdf&amp;p=groovy+grails

println post.text
===&gt; &lt;html&gt;&lt;head&gt;...
</code></pre>
<p>&#x5C06;&#x6240;&#x6709;&#x590D;&#x6742;&#x7684;&#x8FDE;&#x63A5;&#x903B;&#x8F91;&#x653E;&#x5230;Post&#x7C7B;&#x4E2D;&#xFF08;&#x4E0E;&#x60A8;&#x5728;9.4&#x8282;&#xFF0C;&#x521B;&#x5EFA;&#x4FBF;&#x6377;QueryString&#x7C7B;&#xFF0C;&#x5728;&#x7B2C;161&#x9875;&#x4E2D;&#x521B;&#x5EFA;&#x7684;QueryString&#x7C7B;&#x76F8;&#x7ED3;&#x5408;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x975E;&#x5E38;&#x5F15;&#x4EBA;&#x6CE8;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#x7ECF;&#x9A8C;&#x3002;</p>
<p><strong>&#x6A21;&#x62DF;HTML&#x8868;&#x5355;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;</strong></p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;http://localhost:8888/jaw/controller&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;action&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;saveCar&quot;</span> /&gt;</span>
  Make: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;make&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  Model: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;model&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  Year: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;modelYear&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;save&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Save&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<p>&#x73B0;&#x5728;&#x60A8;&#x6709;&#x4E86;Post&#x7C7B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x4F7F;&#x7528;&#x4EE3;&#x7801;&#x6765;&#x6A21;&#x62DF;HTML&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x3002; &#x4F7F;&#x7528;&#x6B64;HTML&#x8868;&#x5355;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x6A21;&#x62DF;&#x7528;&#x6237;&#x586B;&#x5199;&#x8868;&#x5355;&#x5E76;&#x5355;&#x51FB;Submit&#x6309;&#x94AE;&#xFF1A;</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> post = <span class="hljs-keyword">new</span> Post(<span class="hljs-string">url:</span><span class="hljs-string">&quot;http://localhost:8888/jaw/controller&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;action&quot;</span>, <span class="hljs-string">&quot;saveCar&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;make&quot;</span>, <span class="hljs-string">&quot;Toyota&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;model&quot;</span>, <span class="hljs-string">&quot;Prius&quot;</span>)
post.queryString.add(<span class="hljs-string">&quot;modelYear&quot;</span>, <span class="hljs-number">2012</span>)
println post.text
</code></pre>
<p>&#x6B64;&#x65F6;&#x5269;&#x4E0B;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5728;<code>post.text</code>&#x4E0A;&#x5199;&#x65AD;&#x8A00;&#xFF0C;&#x4EE5;&#x9A8C;&#x8BC1;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x662F;&#x5426;&#x6B63;&#x786E;&#x6267;&#x884C;&#x3002;</p>
<p><strong>&#x4F7F;&#x7528;XML&#x7684;RESTful POST&#x8BF7;&#x6C42;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> xml = <span class="hljs-string">&quot;&quot;&quot;&lt;car&gt;
  &lt;make&gt;Toyota&lt;/make&gt;
  &lt;model-year&gt;2012&lt;/model-year&gt;
  &lt;model&gt;Prius&lt;/model&gt;
&lt;/car&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://localhost:8888/jaw/car&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()

<span class="hljs-comment">//set the metadata</span>
connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)
connection.setRequestProperty(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;application/xml&quot;</span>)

<span class="hljs-comment">//write the data</span>
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(xml)
writer.flush()
writer.close()
connection.connect()
<span class="hljs-keyword">def</span> results = connection.content.text
</code></pre>
<p>&#x5728;RESTful Web&#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x7528;&#x4E8E;&#x8BF7;&#x6C42;&#x7684;HTTP&#x52A8;&#x8BCD;&#x5177;&#x6709;&#x6DF1;&#x5C42;&#x7684;&#x8BED;&#x4E49;&#x3002; &#x5E38;&#x89C1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x9690;&#x55BB;-&#x521B;&#x5EFA;&#xFF0C;&#x68C0;&#x7D22;&#xFF0C;&#x66F4;&#x65B0;&#xFF0C;&#x5220;&#x9664;&#xFF08;CRUD&#xFF09;-&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;RESTful&#x5E94;&#x7528;&#x7A0B;&#x5E8F;<sup><a href="#fn_907" id="reffn_907">907</a></sup>&#xFF0C; &#x5C3D;&#x7BA1;SQL&#x8BED;&#x53E5;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x52A8;&#x8BCD;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002; &#x60A8;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x6267;&#x884C;&#x7684;SELECT&#x7C7B;&#x4F3C;&#x4E8E;HTTP GET&#x3002; &#x60A8;&#x5C06;&#x8BB0;&#x5F55;&#x63D2;&#x5165;&#x8868;&#x4E2D;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5C06;&#x8868;&#x5355;&#x6570;&#x636E;POST&#x5230;&#x7F51;&#x7AD9;&#x4E2D;&#x3002; HTTP PUT&#x7B49;&#x6548;&#x4E8E;&#x6570;&#x636E;&#x5E93;UPDATE&#x3002; DELETE&#x662F;&#x6700;&#x4EE4;&#x4EBA;&#x60CA;&#x8BB6;&#x7684;&#xFF0C;&#x5B83;&#x5728;SQL&#x548C;HTTP&#x4E2D;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x542B;&#x4E49;&#x3002;</p>
<p>RESTful Web&#x670D;&#x52A1;&#x901A;&#x5E38;&#x671F;&#x671B;POST&#x4E3B;&#x4F53;&#x4E2D;&#x5305;&#x542B;XML&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#x5C55;&#x793A;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x8981;&#x4F20;&#x9012;XML&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x5BF9;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x4E24;&#x4E2A;&#x5C0F;&#x7684;&#x66F4;&#x6539;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x60A8;&#x5F88;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5C06;<code>Content-Type</code>&#x4ECE;<code>application/www-form-urlencoded</code>&#xFF08;POST&#x7684;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF09;&#x66F4;&#x6539;&#x4E3A;<code>application/xml</code>&#x3002; &#xFF08;&#x786E;&#x5207;&#x7684;Content-Type&#x53D6;&#x51B3;&#x4E8E;&#x60A8;&#x6B63;&#x5728;&#x8C03;&#x7528;&#x7684;RESTful&#x670D;&#x52A1;&#x3002;&#xFF09;&#x60A8;&#x9700;&#x8981;&#x505A;&#x7684;&#x53E6;&#x4E00;&#x4EF6;&#x4E8B;&#x4E0D;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;URL&#x7F16;&#x7801;, XML&#x6709;&#x6548;&#x8D1F;&#x8F7D;&#x5E94;&#x4EE5;&#x5176;&#x672C;&#x673A;&#x683C;&#x5F0F;&#x4F20;&#x8F93;&#x3002; &#x6709;&#x5173;POST XML&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;9.10&#x8282;&#xFF0C;&#x53D1;&#x51FA;SOAP&#x8BF7;&#x6C42;&#xFF0C;&#x7B2C;172&#x9875;&#x3002;</p>
<h3 id="9_6_Making_an_HTTP_PUT_Request"><a name="9_6_Making_an_HTTP_PUT_Request" class="anchor-navigation-ex-anchor" href="#9_6_Making_an_HTTP_PUT_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.6 &#x53D1;&#x51FA;HTTP PUT&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> xml = <span class="hljs-string">&quot;&quot;&quot;&lt;car id=&quot;142&quot;&gt;
  &lt;make&gt;Toyota&lt;/make&gt;
  &lt;model-year&gt;2012&lt;/model-year&gt;
  &lt;model&gt;Prius, Luxury Edition&lt;/model&gt;
&lt;/car&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> url = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://localhost:8888/jaw/car/142&quot;</span>)
<span class="hljs-keyword">def</span> connection = url.openConnection()
connection.setRequestMethod(<span class="hljs-string">&quot;PUT&quot;</span>)
connection.setRequestProperty(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;application/xml&quot;</span>)
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(xml)
writer.flush()
writer.close()
connection.connect()

<span class="hljs-keyword">def</span> result = connection.content.text
</code></pre>
<p>&#x6267;&#x884C;HTTP PUT&#x5728;&#x8BED;&#x6CD5;&#x4E0A;&#x4E0E;&#x6267;&#x884C;POST&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x6709;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;-<code>connection.setRequestMethod(&quot;PUT&quot;)</code>&#x3002; &#x5982;&#x4E0A;&#x4E00;&#x8282;&#x4E2D;&#x7684;&#x7B2C;9.5&#x8282;&#x201C;&#x4F7F;&#x7528;XML&#x8FDB;&#x884C;RESTful POST&#x8BF7;&#x6C42;&#x201D;&#x4E2D;&#x6240;&#x8FF0;&#xFF0C;PUT&#x5728;&#x8BED;&#x4E49;&#x4E0A;&#x662F;UPDATE&#xFF0C;&#x800C;POST&#x7B49;&#x6548;&#x4E8E;SQL INSERT&#x3002; &#x672C;&#x793A;&#x4F8B;&#x5C06;&#x6A21;&#x578B;&#x63CF;&#x8FF0;&#x66F4;&#x65B0;&#x4E3A;&#x5305;&#x62EC;&#x201C;&#x8C6A;&#x534E;&#x7248;&#x201D;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;Put&#x7C7B;</strong></p>
<pre><code class="lang-groovy">class Put{
  String url
  String body
  String contentType = &quot;application/xml&quot;
  URLConnection connection
  String text

  String getText(){
    def thisUrl = new URL(url)
    connection = thisUrl.openConnection()
    connection.setRequestMethod(&quot;PUT&quot;)
    connection.setRequestProperty(&quot;Content-Type&quot;, contentType)
    connection.doOutput = true
    Writer writer = new OutputStreamWriter(connection.outputStream)
    writer.write(body)
    writer.flush()
    writer.close()
    connection.connect()
    return connection.content.text
  }

  String toString(){
    return &quot;PUT:\n&quot; +
            contentType + &quot;\n&quot; +
            url + &quot;\n&quot; +
            body
  }
}

def xml = &quot;&quot;&quot;&lt;car id=&quot;142&quot;&gt;
  &lt;make&gt;Toyota&lt;/make&gt;
  &lt;model-year&gt;2012&lt;/model-year&gt;
  &lt;model&gt;Prius, Luxury Edition&lt;/model&gt;
&lt;/car&gt;&quot;&quot;&quot;

def put = new Put(url:&quot;http://localhost:8888/jaw/car/142&quot;)
put.body = xml
println put
===&gt;
PUT:
application/xml
http://localhost:8888/jaw/car/142
&lt;car id=&quot;142&quot;&gt;
  &lt;make&gt;Toyota&lt;/make&gt;
  &lt;model-year&gt;2012&lt;/model-year&gt;
  &lt;model&gt;Prius, Luxury Edition&lt;/model&gt;
&lt;/car&gt;
def result = put.text
</code></pre>
<p>Put&#x7C7B;&#x4E0E;Post&#x7C7B;&#x51E0;&#x4E4E;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x5177;&#x6709;&#x4E09;&#x4E2A;&#x533A;&#x522B;&#x3002; &#x5C06;queryString&#x5B57;&#x6BB5;&#x4EA4;&#x6362;&#x4E3A;&#x666E;&#x901A;&#x7684;String&#x5B57;&#x6BB5;&#x3002; &#x53E6;&#x5916;&#xFF0C;&#x60A8;&#x516C;&#x5F00;&#x4E00;&#x4E2A;contentType&#x5B57;&#x6BB5;&#xFF0C;&#x4EE5;&#x4FBF;&#x60A8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#x3002; &#x6700;&#x540E;&#xFF0C;&#x5C06;requestMethod&#x8BBE;&#x7F6E;&#x4E3A;PUT&#x3002;</p>
<h3 id="9_7_Making_an_HTTP_DELETE_Request"><a name="9_7_Making_an_HTTP_DELETE_Request" class="anchor-navigation-ex-anchor" href="#9_7_Making_an_HTTP_DELETE_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.7 &#x53D1;&#x51FA;HTTP DELETE&#x8BF7;&#x6C42; </h3>
<pre><code>def url = new URL(&quot;http://localhost:8888/jaw/car/142&quot;)
def connection = url.openConnection()
connection.setRequestMethod(&quot;DELETE&quot;)
connection.connect()
def result = connection.content.text
</code></pre><p>&#x6267;&#x884C;HTTP DELETE&#x5728;&#x8BED;&#x6CD5;&#x4E0A;&#x4E0E;&#x6267;&#x884C;GET&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x6709;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;-<code>connection.setRequestMethod(&quot;DELETE&quot;)</code>&#x3002; POST&#x548C;PUT&#x8BF7;&#x6C42;&#x7684;&#x6B63;&#x6587;&#x4E2D;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x800C;GET&#x548C;DELETE&#xFF08;&#x4EE5;&#x53CA;HEAD&#xFF0C;OPTION&#x548C;&#x5176;&#x4ED6;HTTP&#x52A8;&#x8BCD;&#xFF09;&#x53EA;&#x6709;&#x4E00;&#x4E2A;URL&#x3002; &#x5982;&#x7B2C;166&#x9875;&#x7684;&#x7B2C;9.5&#x8282;&#x201C;&#x4F7F;&#x7528;XML&#x8FDB;&#x884C;RESTful POST&#x8BF7;&#x6C42;&#x201D;&#x4E2D;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;DELETE&#x5B8C;&#x5168;&#x6309;&#x7167;&#x60A8;&#x7684;&#x671F;&#x671B;&#x6267;&#x884C;&#x64CD;&#x4F5C;-&#x6709;&#x6548;&#x5730;&#x4ECE;id=142&#x7684;&#x6C7D;&#x8F66;&#x4E2D;&#x5220;&#x9664;&#x3002;</p>
<p><strong>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;Delete&#x7C7B;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Delete</span>{</span>
  String url
  QueryString queryString = <span class="hljs-keyword">new</span> QueryString()
  URLConnection connection
  String text

  String getText(){
    <span class="hljs-keyword">def</span> thisUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-keyword">this</span>.toString())
    connection = thisUrl.openConnection()
    connection.setRequestMethod(<span class="hljs-string">&quot;DELETE&quot;</span>)
    <span class="hljs-keyword">if</span>(connection.responseCode == <span class="hljs-number">200</span>){
      <span class="hljs-keyword">return</span> connection.content.text
    } <span class="hljs-keyword">else</span>{
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Something bad happened\n&quot;</span> +
             <span class="hljs-string">&quot;URL: &quot;</span> + <span class="hljs-keyword">this</span>.toString() + <span class="hljs-string">&quot;\n&quot;</span> +
             connection.responseCode + <span class="hljs-string">&quot;: &quot;</span> +
             connection.responseMessage
    }
  }

  String toString(){
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;DELETE:\n&quot;</span> +
    url + <span class="hljs-string">&quot;?&quot;</span> + queryString.toString()
  }
}

<span class="hljs-keyword">def</span> delete = <span class="hljs-keyword">new</span> Delete(<span class="hljs-string">url:</span><span class="hljs-string">&quot;http://localhost:8888/jaw/car/142&quot;</span>)
println delete
===&gt;
<span class="hljs-string">DELETE:</span>
<span class="hljs-string">http:</span><span class="hljs-comment">//localhost:8888/jaw/car/142</span>
<span class="hljs-keyword">def</span> results = delete.text
</code></pre>
<p>Delete&#x7C7B;&#x4E0E;Get&#x7C7B;&#x51E0;&#x4E4E;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x6709;&#x4E00;&#x4E2A;&#x533A;&#x522B;:requestMethod&#x8BBE;&#x7F6E;&#x4E3A;DELETE&#x3002;</p>
<h3 id="9_8_Making_a_RESTful_Request"><a name="9_8_Making_a_RESTful_Request" class="anchor-navigation-ex-anchor" href="#9_8_Making_a_RESTful_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.8 &#x53D1;&#x51FA;RESTful&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> partialRestRequest = <span class="hljs-string">&quot;http://geocoder.us/service/rest/geocode?address=&quot;</span>
<span class="hljs-keyword">def</span> address = <span class="hljs-string">&quot;1600 Pennsylvania Ave, Washington DC&quot;</span>
<span class="hljs-keyword">def</span> restUrl = <span class="hljs-keyword">new</span> URL(partialRestRequest + URLEncoder.encode(address))
<span class="hljs-keyword">def</span> restResponse = restUrl.text
</code></pre>
<p>&#x6B64;&#x8BF7;&#x6C42;&#x4EE5;XML&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x767D;&#x5BAB;&#x7684;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x3002; &#x968F;&#x610F;&#x66FF;&#x6362;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x5730;&#x5740;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;<code>http://geocoder.us</code>&#x6216;&#x5728;&#x4EFB;&#x4F55;&#x4E3B;&#x8981;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#x7684;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x5750;&#x6807;&#x5BF9;&#x6765;&#x67E5;&#x770B;&#x5730;&#x56FE;&#x4E0A;&#x7684;&#x8FD4;&#x56DE;&#x70B9;&#x3002;</p>
<p><strong>&#x89E3;&#x6790;RESTful&#x54CD;&#x5E94;</strong></p>
<pre><code class="lang-groovy">//Response:
&lt;rdf:RDF
  xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;
  xmlns:geo=&quot;http://www.w3.org/2003/01/geo/wgs84_pos#&quot;
  xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
  &lt;geo:Point rdf:nodeID=&quot;aid76408515&quot;&gt;
    &lt;dc:description&gt;
      1600 Pennsylvania Ave NW, Washington DC 20502
    &lt;/dc:description&gt;
    &lt;geo:long&gt;-77.037684&lt;/geo:long&gt;
    &lt;geo:lat&gt;38.898748&lt;/geo:lat&gt;
  &lt;/geo:Point&gt;
&lt;/rdf:RDF&gt;

def restResponse = restUrl.text
def RDF = new XmlSlurper().parseText(restResponse)
println RDF.Point.description
println RDF.Point.long
println RDF.Point.lat
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002;</p>
<p>::: alert-info
<strong>Web&#x670D;&#x52A1;&#x6848;&#x4F8B;&#x7814;&#x7A76;&#xFF1A;Geocoder.us</strong>
&#x5982;&#x679C;&#x60A8;&#x66FE;&#x7ECF;&#x4F7F;&#x7528;&#x8FC7;Google Maps*&#xFF0C; Yahoo! &#x5730;&#x56FE;&#x2020;&#xFF0C;MapQuest&#x2021;&#xFF0C;Microsoft LiveSearch&#xA7;&#x6216;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#xFF0C;&#x60A8;&#x4E00;&#x76F4;&#x5728;&#x4F7F;&#x7528;Web&#x670D;&#x52A1;&#xFF0C;&#x751A;&#x81F3;&#x6CA1;&#x6709;&#x610F;&#x8BC6;&#x5230;&#x5B83;&#x3002; &#x60A8;&#x952E;&#x5165;&#x7AD9;&#x70B9;&#x7684;&#x5730;&#x5740;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;123 Main St.&#xFF09;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x662F;&#x53EF;&#x6620;&#x5C04;&#x7684;&#x3002; &#x8981;&#x5728;&#x5730;&#x56FE;&#x4E0A;&#x7ED8;&#x5236;&#x5730;&#x5740;&#xFF0C;&#x5FC5;&#x987B;&#x5C06;&#x8857;&#x9053;&#x5730;&#x5740;&#x8F6C;&#x6362;&#x4E3A;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x70B9;&#x3002; &#x8FDB;&#x884C;&#x8FD9;&#x79CD;&#x8F6C;&#x6362;&#x7684;Web&#x670D;&#x52A1;&#x7C7B;&#x578B;&#x79F0;&#x4E3A;&#x5730;&#x5740;&#x89E3;&#x6790;&#x5668;&#x3002;</p>
<p>&#x6240;&#x6709;&#x4E3B;&#x8981;&#x7684;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#x90FD;&#x63D0;&#x4F9B;&#x5730;&#x7406;&#x7F16;&#x7801;API&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5730;&#x7406;&#x7F16;&#x7801;&#x7F51;&#x7AD9;&#x5728;&#x672C;&#x7AE0;&#x7684;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#x4E2D;&#x8D77;&#x7740;&#x91CD;&#x8981;&#x4F5C;&#x7528;&#x3002;Geocoder.us&#xB6;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x5730;&#x7528;&#x4F5C;&#x4E0A;&#x4E00;&#x9875;&#x7B2C;9.8&#x8282;&#x201C;&#x53D1;&#x51FA;RESTful&#x8BF7;&#x6C42;&#x201D;&#x7684;&#x8349;&#x6599;&#xFF1B; &#x7B2C;9.9&#x8282;&#x201C;&#x53D1;&#x51FA;CSV&#x8BF7;&#x6C42;&#x201D;&#xFF1B; &#x4E0B;&#x4E00;&#x9875;&#x4E0A;&#x7684;&#x7B2C;9.10&#x8282;&#xFF0C;&#x53D1;&#x51FA;SOAP&#x8BF7;&#x6C42;&#xFF1B; &#x4EE5;&#x53CA;&#x7B2C;9.1&#x9875;&#x7684;&#x53D1;&#x51FA;XML-RPC&#x8BF7;&#x6C42;&#xFF0C;&#x7B2C;174&#x9875;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7684;Web&#x670D;&#x52A1;&#x65B9;&#x8A00;&#x8FDB;&#x884C;&#x76F8;&#x540C;&#x7684;&#x57FA;&#x672C;&#x67E5;&#x8BE2;&#x3002; Geocoder.us&#x662F;&#x4E00;&#x9879;&#x57FA;&#x4E8E;&#x7F8E;&#x56FD;&#x4EBA;&#x53E3;&#x666E;&#x67E5;&#x5C40;&#x63D0;&#x4F9B;&#x7684;&#x514D;&#x8D39;&#x6570;&#x636E;&#x7684;&#x975E;&#x5546;&#x4E1A;&#x6027;&#x514D;&#x8D39;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x5728;&#x64B0;&#x5199;&#x672C;&#x6587;&#x65F6;&#xFF0C;Geocoder.us&#x8FD8;&#x4E0D;&#x652F;&#x6301;&#x5176;&#x4ED6;&#x51E0;&#x79CD;&#x683C;&#x5F0F;-RSS&#x548C;Atom&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;AboutGroovy.com&#xFF0C;&#x4EE5;&#x83B7;&#x53D6;&#x6709;&#x5173;&#x5B83;&#x4EEC;&#x7684;&#x771F;&#x5B9E;&#x793A;&#x4F8B;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;Geocoder.us&#x6709;&#x65F6;&#x5C06;&#x8FD9;&#x4E9B;&#x683C;&#x5F0F;&#x6DFB;&#x52A0;&#x5230;&#x7EC4;&#x5408;&#x4E2D;&#xFF0C;&#x8BF7;&#x4E0D;&#x8981;&#x611F;&#x5230;&#x60CA;&#x8BB6;&#x3002; GeoRSS&#x548C;GeoAtom&#x90FD;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x8D8A;&#x6765;&#x8D8A;&#x6D41;&#x884C;&#x3002; &#x4F8B;&#x5982;&#xFF0C;Flickr&#xFF0C;k&#x5728;&#x6BCF;&#x4E2A;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x7684;&#x5E95;&#x90E8;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;GeoRSS&#x63D0;&#x8981;&#x3002;</p>
<p>&#x2217;. <a href="http://maps.google.com" target="_blank">http://maps.google.com</a>
&#x2020;. <a href="http://maps.yahoo.com" target="_blank">http://maps.yahoo.com</a>
&#x2021;. <a href="http://www.mapquest.com" target="_blank">http://www.mapquest.com</a>
&#xA7;. <a href="http://maps.live.com/" target="_blank">http://maps.live.com/</a>
&#xB6;. <a href="http://geocoder.us" target="_blank">http://geocoder.us</a>
k. <a href="http://flickr.com" target="_blank">http://flickr.com</a>
:::</p>
<h3 id="9_9_Making_a_CSV_Request"><a name="9_9_Making_a_CSV_Request" class="anchor-navigation-ex-anchor" href="#9_9_Making_a_CSV_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.9 &#x53D1;&#x51FA;CSV&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> partialCsvRequest = <span class="hljs-string">&quot;http://geocoder.us/service/csv/geocode?address=&quot;</span>
<span class="hljs-keyword">def</span> address = <span class="hljs-string">&quot;1600 Pennsylvania Ave, Washington DC&quot;</span>
<span class="hljs-keyword">def</span> csvUrl = <span class="hljs-keyword">new</span> URL(partialCsvRequest + URLEncoder.encode(address))
<span class="hljs-keyword">def</span> csvResponse = csvUrl.text
</code></pre>
<p>&#x6B64;&#x8BF7;&#x6C42;&#x4EE5;CSV&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x767D;&#x5BAB;&#x7684;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x3002; &#x968F;&#x610F;&#x66FF;&#x6362;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x5730;&#x5740;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;<code>http://geocoder.us</code>&#x6216;&#x5728;&#x4EFB;&#x4F55;&#x4E3B;&#x8981;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#x7684;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x5750;&#x6807;&#x5BF9;&#x6765;&#x67E5;&#x770B;&#x5730;&#x56FE;&#x4E0A;&#x7684;&#x8FD4;&#x56DE;&#x70B9;&#x3002;</p>
<p><strong>&#x89E3;&#x6790;CSV&#x54CD;&#x5E94;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">//Response:</span>
<span class="hljs-number">38.898748</span>,<span class="hljs-number">-77.037684</span>,<span class="hljs-number">1600</span> Pennsylvania Ave NW,Washington,DC,<span class="hljs-number">20502</span>
<span class="hljs-number">39.</span>
<span class="hljs-keyword">def</span> csvResponse = csvUrl.text
<span class="hljs-keyword">def</span> tokens = csvResponse.split(<span class="hljs-string">&quot;,&quot;</span>)
println <span class="hljs-string">&quot;Latitude: [${tokens[0]}]&quot;</span>
println <span class="hljs-string">&quot;Longitude: [${tokens[1]}]&quot;</span>
println <span class="hljs-string">&quot;Address: [${tokens[2]}]&quot;</span>
println <span class="hljs-string">&quot;City: [${tokens[3]}]&quot;</span>
println <span class="hljs-string">&quot;State: [${tokens[4]}]&quot;</span>
println <span class="hljs-string">&quot;Zip: [${tokens[5]}]&quot;</span>
</code></pre>
<p>&#x5728;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x8C03;&#x7528;<code>split(&quot;,&quot;)</code>&#x53EF;&#x8BA9;&#x60A8;&#x8F7B;&#x677E;&#x8BBF;&#x95EE;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x89E3;&#x6790;CSV&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;148&#x9875;&#xFF0C;&#x7B2C;8.14&#x8282;&#x201C;&#x5C06;CSV&#x8F6C;&#x6362;&#x4E3A;XML&#x201D;&#x3002;</p>
<h3 id="9_10_Making_a_SOAP_Request"><a name="9_10_Making_a_SOAP_Request" class="anchor-navigation-ex-anchor" href="#9_10_Making_a_SOAP_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.10 &#x53D1;&#x51FA;SOAP&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> address = <span class="hljs-string">&quot;1600 Pennsylvania Av, Washington, DC&quot;</span>
<span class="hljs-keyword">def</span> soapRequest = <span class="hljs-string">&quot;&quot;&quot;&lt;SOAP-ENV:Envelope
  xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;
  xmlns:xsi=&quot;http://www.w3.org/1999/XMLSchema-instance&quot;
  xmlns:xsd=&quot;http://www.w3.org/1999/XMLSchema&quot;
  xmlns:tns=&quot;http://rpc.geocoder.us/Geo/Coder/US/&quot;&gt;
  &lt;SOAP-ENV:Body&gt;
    &lt;tns:geocode
      SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;
        &lt;location xsi:type=&quot;xsd:string&quot;&gt;${address}&lt;/location&gt;
    &lt;/tns:geocode&gt;
  &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> soapUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://geocoder.us/service/soap&quot;</span>)
<span class="hljs-keyword">def</span> connection = soapUrl.openConnection()

connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)
connection.setRequestProperty(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;application/xml&quot;</span>)
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(soapRequest)
writer.flush()
writer.close()
connection.connect()
<span class="hljs-keyword">def</span> soapResponse = connection.content.text
</code></pre>
<p>&#x8FD9;&#x5C06;&#x767D;&#x5BAB;&#x7684;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x4F5C;&#x4E3A;SOAP&#x8FD4;&#x56DE;&#x3002; &#x968F;&#x610F;&#x66FF;&#x6362;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x5730;&#x5740;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;<code>http://geocoder.us</code>&#x6216;&#x5728;&#x4EFB;&#x4F55;&#x4E3B;&#x8981;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#x7684;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x5750;&#x6807;&#x5BF9;&#x6765;&#x67E5;&#x770B;&#x5730;&#x56FE;&#x4E0A;&#x7684;&#x8FD4;&#x56DE;&#x70B9;&#x3002;</p>
<p>&#x60A8;&#x5728;&#x8FD9;&#x91CC;&#x770B;&#x5230;&#x7684;&#x662F;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x53D1;&#x5E03;SOAP&#x4FE1;&#x5C01;&#x6765;&#x53D1;&#x51FA;&#x539F;&#x59CB;SOAP&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x5728;<code>http://geocoder.us/dist/eg/clients/GeoCoder.wsdl</code>&#x4E2D;&#x627E;&#x5230;&#x6B64;&#x670D;&#x52A1;&#x7684;WSDL&#x6587;&#x6863;&#x3002; &#x62E5;&#x6709;WSDL&#x4E4B;&#x540E;&#xFF0C;&#x60A8;&#x59CB;&#x7EC8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5927;&#x591A;&#x6570;SOAP&#x6846;&#x67B6;&#x9644;&#x5E26;&#x7684;&#x4EFB;&#x4F55;&#x6807;&#x51C6;<code>wsdl2java/java2wsdl</code>&#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</p>
<p><strong>&#x89E3;&#x6790;SOAP&#x54CD;&#x5E94;</strong></p>
<pre><code class="lang-groovy">//Response:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;SOAP-ENV:Envelope xmlns:xsi=&quot;http://www.w3.org/1999/XMLSchema-instance&quot; xmlns:SOAP-ENC=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/1999/XMLSchema&quot; SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;
  &lt;SOAP-ENV:Body&gt;
    &lt;namesp9:geocodeResponse xmlns:namesp9=&quot;http://rpc.geocoder.us/Geo/Coder/US/&quot;&gt;
      &lt;geo:s-gensym111 xsi:type=&quot;SOAP-ENC:Array&quot; xmlns:geo=&quot;http://rpc.geocoder.us/Geo/Coder/US/&quot; SOAP-ENC:arrayType=&quot;geo:GeocoderAddressResult[1]&quot;&gt;
        &lt;item xsi:type=&quot;geo:GeocoderAddressResult&quot;&gt;
          &lt;number xsi:type=&quot;xsd:int&quot;&gt;1600&lt;/number&gt;
          &lt;lat xsi:type=&quot;xsd:float&quot;&gt;38.898748&lt;/lat&gt;
          &lt;street xsi:type=&quot;xsd:string&quot;&gt;Pennsylvania&lt;/street&gt;
          &lt;state xsi:type=&quot;xsd:string&quot;&gt;DC&lt;/state&gt;
          &lt;city xsi:type=&quot;xsd:string&quot;&gt;Washington&lt;/city&gt;
          &lt;zip xsi:type=&quot;xsd:int&quot;&gt;20502&lt;/zip&gt;
          &lt;suffix xsi:type=&quot;xsd:string&quot;&gt;NW&lt;/suffix&gt;
          &lt;long xsi:type=&quot;xsd:float&quot;&gt;-77.037684&lt;/long&gt;
          &lt;type xsi:type=&quot;xsd:string&quot;&gt;Ave&lt;/type&gt;
          &lt;prefix xsi:type=&quot;xsd:string&quot;/&gt;
        &lt;/item&gt;
      &lt;/geo:s-gensym111&gt;
    &lt;/namesp9:geocodeResponse&gt;
  &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;

def soapResponse = connection.content.text
def Envelope = new XmlSlurper().parseText(soapResponse)
println Envelope.Body.geocodeResponse.&apos;s-gensym111&apos;.item.long
println Envelope.Body.geocodeResponse.&apos;s-gensym111&apos;.item.lat

//since the array&apos;s name (&apos;s-gensym111&apos;) changes with each request
// we can deal with it generically as such:
def itor = Envelope.Body.geocodeResponse.breadthFirst()
while(itor.hasNext()){
  def fragment = itor.next()
  if(fragment.name() == &quot;item&quot;){
    println fragment.lat
    println fragment.long
  }
}
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002;</p>
<p>Geocoder.us&#x7684;SOAP&#x63A5;&#x53E3;&#x6709;&#x70B9;&#x4E0D;&#x5178;&#x578B;&#x3002; geocodeResponse&#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x548C;&#x5176;&#x4E2D;&#x7684;array&#x5143;&#x7D20;&#x7684;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x56E0;&#x54CD;&#x5E94;&#x800C;&#x5F02;&#x3002; &#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x5C06;GPath&#x786C;&#x7F16;&#x7801;&#x5230;lat&#x548C;long&#x7684;&#x6DF1;&#x5C42;&#x5143;&#x7D20;&#x4E0A;&#x3002; &#x5728;&#x6211;&#x5904;&#x7406;&#x8FC7;&#x7684;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x57FA;&#x4E8E;SOAP&#x7684;Web&#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x5143;&#x7D20;&#x540D;&#x79F0;&#x548C;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x90FD;&#x5F88;&#x7A33;&#x5B9A;&#xFF0C;&#x5F88;&#x5C11;&#x66F4;&#x6539;&#x3002;</p>
<p>&#x5C3D;&#x7BA1;&#x6709;&#x8FD9;&#x4E9B;bug&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x51B3;&#x5B9A;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x7AD9;&#x70B9;&#x4F5C;&#x4E3A;SOAP&#x793A;&#x4F8B;&#x3002;&#x80FD;&#x591F;&#x7528;&#x56DB;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x8A00;&#x5BF9;&#x76F8;&#x540C;&#x7684;&#x670D;&#x52A1;&#x63D0;&#x51FA;&#x76F8;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x518D;&#x52A0;&#x4E0A;&#x80FD;&#x591F;&#x5C55;&#x793A;&#x5982;&#x4F55;&#x7075;&#x6D3B;&#x5730;&#x5904;&#x7406;&#x54CD;&#x5E94;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x201C;&#x597D;&#x5904;&#x201D;&#xFF0C;&#x8FD9;&#x8BA9;&#x4EBA;&#x96BE;&#x4EE5;&#x62D2;&#x7EDD;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x8BD5;&#x56FE;&#x5411;&#x60A8;&#x5C55;&#x793A;&#x7684;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x89C4;&#x8303;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7AEF;SOAP&#x793A;&#x4F8B;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x8BA4;&#x4E3A;&#x60A8;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x4E00;&#x4E24;&#x4E2A;&#x969C;&#x788D;&#x3002;</p>
<h3 id="9_11_Making_an_XML_RPC_Request"><a name="9_11_Making_an_XML_RPC_Request" class="anchor-navigation-ex-anchor" href="#9_11_Making_an_XML_RPC_Request"><i class="fa fa-link" aria-hidden="true"></i></a>9.11 &#x53D1;&#x51FA;XML-RPC&#x8BF7;&#x6C42; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> address = <span class="hljs-string">&quot;1600 Pennsylvania Av, Washington, DC&quot;</span>
<span class="hljs-keyword">def</span> xmlrpcRequest = <span class="hljs-string">&quot;&quot;&quot;&lt;methodCall&gt;
&lt;methodName&gt;geocode&lt;/methodName&gt;
&lt;params&gt;
&lt;param&gt;
&lt;value&gt;&lt;string&gt;${address}&lt;/string&gt;&lt;/value&gt;
&lt;/param&gt;
&lt;/params&gt;
&lt;/methodCall&gt;&quot;&quot;&quot;</span>

<span class="hljs-keyword">def</span> xmlrpcUrl = <span class="hljs-keyword">new</span> URL(<span class="hljs-string">&quot;http://geocoder.us/service/xmlrpc&quot;</span>)
<span class="hljs-keyword">def</span> connection = xmlrpcUrl.openConnection()
connection.setRequestMethod(<span class="hljs-string">&quot;POST&quot;</span>)
connection.setRequestProperty(<span class="hljs-string">&quot;Content-Type&quot;</span>,<span class="hljs-string">&quot;application/xml&quot;</span>)
connection.doOutput = <span class="hljs-literal">true</span>
Writer writer = <span class="hljs-keyword">new</span> OutputStreamWriter(connection.outputStream)
writer.write(xmlrpcRequest)
writer.flush()
writer.close()
connection.connect()

<span class="hljs-keyword">def</span> xmlrpcResponse = connection.content.text
</code></pre>
<p>&#x8BE5;&#x8BF7;&#x6C42;&#x4EE5;XML-RPC&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x767D;&#x5BAB;&#x7684;&#x7EAC;&#x5EA6;/&#x7ECF;&#x5EA6;&#x3002; &#x968F;&#x610F;&#x66FF;&#x6362;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x5730;&#x5740;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;<code>http://geocoder.us</code>&#x6216;&#x5728;&#x4EFB;&#x4F55;&#x4E3B;&#x8981;&#x5730;&#x56FE;&#x7F51;&#x7AD9;&#x7684;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x952E;&#x5165;&#x5750;&#x6807;&#x5BF9;&#x6765;&#x67E5;&#x770B;&#x5730;&#x56FE;&#x4E0A;&#x7684;&#x8FD4;&#x56DE;&#x70B9;&#x3002;</p>
<p><strong>Parsing an XML-RPC Response</strong></p>
<pre><code class="lang-groovy">//Response:
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;methodResponse&gt;
  &lt;params&gt;
    &lt;param&gt;
      &lt;value&gt;
        &lt;array&gt;
          &lt;data&gt;
            &lt;value&gt;
              &lt;struct&gt;
                &lt;member&gt;
                  &lt;name&gt;number&lt;/name&gt;
                  &lt;value&gt;
                    &lt;int&gt;1600&lt;/int&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;lat&lt;/name&gt;
                  &lt;value&gt;
                    &lt;double&gt;38.898748&lt;/double&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;street&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string&gt;Pennsylvania&lt;/string&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;state&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string&gt;DC&lt;/string&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;city&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string&gt;Washington&lt;/string&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;zip&lt;/name&gt;
                  &lt;value&gt;
                    &lt;int&gt;20502&lt;/int&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;suffix&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string&gt;NW&lt;/string&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;long&lt;/name&gt;
                  &lt;value&gt;
                    &lt;double&gt;-77.037684&lt;/double&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;type&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string&gt;Ave&lt;/string&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
                &lt;member&gt;
                  &lt;name&gt;prefix&lt;/name&gt;
                  &lt;value&gt;
                    &lt;string/&gt;
                  &lt;/value&gt;
                &lt;/member&gt;
              &lt;/struct&gt;
            &lt;/value&gt;
          &lt;/data&gt;
        &lt;/array&gt;
      &lt;/value&gt;
    &lt;/param&gt;
  &lt;/params&gt;
&lt;/methodResponse&gt;


def xmlrpcResponse = connection.content.text
def methodResponse = new XmlSlurper().parseText(xmlrpcResponse)
methodResponse.params.param.value.array.data.value.struct.member.each{member -&gt;
  if(member.name == &quot;lat&quot; || member.name == &quot;long&quot;){
    println &quot;${member.name}: ${member.value.double}&quot;
  }
}
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002; &#x5C3D;&#x7BA1;&#x5D4C;&#x5957;&#x54CD;&#x5E94;&#x7684;&#x6DF1;&#x5EA6;&#x51E0;&#x4E4E;&#x662F;&#x53EF;&#x7B11;&#x7684;&#xFF08;&#x60A8;&#x7684;&#x76EE;&#x6807;&#x7ECF;&#x7EAC;&#x5EA6;&#x548C;&#x957F;&#x5143;&#x7D20;&#x6DF1;&#x5EA6;&#x4E3A;11&#x4E2A;&#x7EA7;&#x522B;&#xFF09;&#xFF0C;&#x4F46;&#x60A8;&#x4ECD;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5730;&#x627E;&#x5230;&#x5B83;&#x4EEC;&#x5E76;&#x6253;&#x5370;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="9_12_Parsing_Yahoo_Search_Results_as_XML"><a name="9_12_Parsing_Yahoo_Search_Results_as_XML" class="anchor-navigation-ex-anchor" href="#9_12_Parsing_Yahoo_Search_Results_as_XML"><i class="fa fa-link" aria-hidden="true"></i></a>9.12 &#x5C06;Yahoo&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x89E3;&#x6790;&#x4E3A;XML </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> yahooAddress = <span class="hljs-string">&quot;http://search.yahooapis.com/WebSearchService/V1/webSearch?&quot;</span>
<span class="hljs-keyword">def</span> queryString = <span class="hljs-string">&quot;appid=YahooDemo&amp;query=groovy&amp;results=10&quot;</span>
<span class="hljs-keyword">def</span> xmlResponse = <span class="hljs-string">&quot;${yahooAddress}${queryString}&quot;</span>.toURL().text
</code></pre>
<p>&#x5982;&#x7B2C;159&#x9875;&#x7684;&#x7B2C;9.3&#x8282;&#x201C; RESTful GET&#x8BF7;&#x6C42;&#x201D;&#x4E2D;&#x6240;&#x8FF0;&#xFF0C;Yahoo&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;RESTful API&#xFF0C;&#x8BE5;API&#x4EE5;XML&#x800C;&#x4E0D;&#x662F;&#x901A;&#x5E38;&#x7684;HTML&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x5730;&#x8C03;&#x6574;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E0A;&#x7684;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#xFF0C;&#x4EE5;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x8C03;&#x6574;&#x67E5;&#x8BE2;&#x3002;</p>
<p><strong>&#x89E3;&#x6790;XML Yahoo&#x641C;&#x7D22;&#x7ED3;&#x679C;</strong></p>
<pre><code class="lang-groovy">//Response:
&lt;ResultSet xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;urn:yahoo:srch&quot; xsi:schemaLocation=&quot;urn:yahoo:srch
http://api.search.yahoo.com/WebSearchService/V1/WebSearchResponse.xsd&quot; type=&quot;web&quot; totalResultsAvailable=&quot;20700000&quot; totalResultsReturned=&quot;10&quot; firstResultPosition=&quot;1&quot; moreSearch=&quot;/WebSearchService/V1/webSearch?query=groovy&amp;amp;appid=YahooDemo&quot;&gt;
  &lt;Result&gt;
    &lt;Title&gt;Groovy - Home&lt;/Title&gt;
    &lt;Summary&gt;Groovy ... &lt;/Summary&gt;
    &lt;Url&gt;http://groovy.codehaus.org/&lt;/Url&gt;
    &lt;ClickUrl&gt;http://uk.wrs.yahoo.com/&lt;/ClickUrl&gt;
    &lt;DisplayUrl&gt;groovy.codehaus.org/&lt;/DisplayUrl&gt;
    &lt;ModificationDate&gt;1191394800&lt;/ModificationDate&gt;
    &lt;MimeType&gt;text/html&lt;/MimeType&gt;
    &lt;Cache&gt;
      &lt;Url&gt;http://uk.wrs.yahoo.com/&lt;/Url&gt;
      &lt;Size&gt;39661&lt;/Size&gt;
    &lt;/Cache&gt;
  &lt;/Result&gt;
&lt;/ResultSet&gt;

def ResultSet = new XmlSlurper().parseText(xmlResponse)
ResultSet.Result.each{
  println it.Title
  println it.Url
  println &quot;-----&quot;
}
===&gt;
Groovy - Home
http://groovy.codehaus.org/
-----
Groovy - Wikipedia, the free encyclopedia
http://en.wikipedia.org/wiki/Groovy
-----
...
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;7.9&#x9875;&#x7684;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002;</p>
<h3 id="9_13_Parsing_an_Atom_Feed"><a name="9_13_Parsing_an_Atom_Feed" class="anchor-navigation-ex-anchor" href="#9_13_Parsing_an_Atom_Feed"><i class="fa fa-link" aria-hidden="true"></i></a>9.13 &#x89E3;&#x6790;Atom Feed </h3>
<pre><code>def atom = &quot;http://aboutgroovy.com/item/atom&quot;.toURL().text
</code></pre><p>&#x4E3A;<code>AboutGroovy.com</code>&#x83B7;&#x53D6;Atom<sup><a href="#fn_908" id="reffn_908">908</a></sup>&#x8054;&#x5408;feed&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x3002;&#x7531;&#x4E8E;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;HTTP GET&#xFF0C;&#x751A;&#x81F3;&#x4E0D;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E0E;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x7ECF;&#x5386;&#x7684;&#x53D1;&#x5E03;SOAP&#x8BF7;&#x6C42;&#x7684;&#x82F1;&#x52C7;&#x6B65;&#x9AA4;&#x76F8;&#x6BD4;&#xFF0C;&#x5B83;&#x4F3C;&#x4E4E;&#x6709;&#x70B9;&#x864E;&#x5934;&#x86C7;&#x5C3E;&#x3002;</p>
<pre><code class="lang-groovy">//Response:
&lt;feed xmlns=&quot;http://www.w3.org/2005/Atom&quot;&gt;
  &lt;title type=&quot;text&quot;&gt;aboutGroovy.com&lt;/title&gt;
  &lt;link rel=&quot;alternate&quot; type=&quot;text/html&quot; href=&quot;http://aboutGroovy.com&quot;/&gt;
  &lt;link rel=&quot;self&quot; type=&quot;application/atom+xml&quot; href=&quot;http://aboutGroovy.com/item/atom&quot;/&gt;
  &lt;updated&gt;2007-10-10T13:15:23-07:00&lt;/updated&gt;
  &lt;author&gt;
    &lt;name&gt;Scott Davis&lt;/name&gt;
  &lt;/author&gt;
  &lt;id&gt;tag:aboutgroovy.com,2006-12-18:thisIsUnique&lt;/id&gt;
  &lt;generator uri=&quot;http://aboutGroovy.com&quot; version=&quot;0.0.2&quot;&gt;
Hand-rolled Grails code&lt;/generator&gt;
  &lt;entry xmlns=&apos;http://www.w3.org/2005/Atom&apos;&gt;
    &lt;author&gt;
      &lt;name&gt;Scott Davis&lt;/name&gt;
    &lt;/author&gt;
    &lt;published&gt;2007-10-10T10:44:48-07:00&lt;/published&gt;
    &lt;updated&gt;2007-10-10T10:44:48-07:00&lt;/updated&gt;
    &lt;link href=&apos;http://aboutGroovy.com/item/show/258&apos; rel=&apos;alternate&apos; title=&apos;G2One, Inc. -- Professional Support for Groovy and Grails&apos; type=&apos;text/html&apos;/&gt;
    &lt;id&gt;tag:aboutgroovy.com,2006:/item/show/258&lt;/id&gt;
    &lt;title type=&apos;text&apos;&gt;
G2One, Inc. -- Professional Support for Groovy and Grails
&lt;/title&gt;
    &lt;content type=&apos;xhtml&apos;&gt;
      &lt;div xmlns=&apos;http://www.w3.org/1999/xhtml&apos;&gt;
        &lt;p&gt;Category: news&lt;/p&gt;
        &lt;p&gt;
          &lt;a href=&apos;http://www.g2one.com/&apos;&gt;Original Source&lt;/a&gt;
        &lt;/p&gt;
        &lt;p&gt;Groovy and Grails now have a corporate home -- G2One. The project
leads for both Groovy and Grails (Guillaume Laforge and Graeme
Rocher) have joined forces with Alex Tkachman (until recently
with JetBrains) to form a new company.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/content&gt;
  &lt;/entry&gt;
&lt;/feed&gt;


def feed = new XmlSlurper().parseText(atom)
feed.entry.each{
  println it.title
  println it.published
  println &quot;-----&quot;
}

===&gt;
SAP Adds Groovy/Grails Support
2007-10-10T10:52:21-07:00
-----
G2One, Inc. -- Professional Support for Groovy and Grails
2007-10-10T10:44:48-07:00
-----
...
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;132&#x9875;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002;</p>
<p>Atom&#x662F;REST&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#xFF0C;&#x5B83;&#x5DF2;&#x7ECF;&#x8D85;&#x8D8A;&#x4E86;&#x7B80;&#x5355;&#x7684;Blogsphere&#x8054;&#x5408;&#x7EC4;&#x7EC7;&#x800C;&#x53D7;&#x5230;&#x6B22;&#x8FCE;&#x3002; Google&#x4E8E;2006&#x5E74;12&#x6708;&#x6B63;&#x5F0F;&#x5F03;&#x7528;&#x4E86;&#x5176;SOAP API&#x3002;&#x6839;&#x636E;GData <sup><a href="#fn_909" id="reffn_909">909</a></sup>&#x7684;&#x5021;&#x8BAE;&#xFF0C;&#x5B83;&#x5C06;&#x6240;&#x6709;Web&#x670D;&#x52A1;&#x8FC1;&#x79FB;&#x5230;Atom&#x3002; &#x6709;&#x5173;&#x5B8C;&#x5168;RESTful API&#xFF08;&#x5305;&#x542B;&#x4F7F;&#x7528;HTTP GET&#xFF0C;POST&#xFF0C;PUT&#x548C;DELETE&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x548C;&#x5B8C;&#x6574;CRUD&#x7684;&#x793A;&#x4F8B;&#xFF09;&#x7684;&#x5145;&#x5206;&#x8BB0;&#x5F55;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;Google Calendar API&#x3002;</p>
<p>&#x6709;&#x5173;&#x5982;&#x4F55;&#x521B;&#x5EFA;Atom&#x63D0;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;12.4&#x8282;&#xFF0C;&#x8BBE;&#x7F6E;Atom&#x63D0;&#x8981;&#xFF0C;&#x89C1;&#x7B2C;239&#x9875;&#x3002;</p>
<h3 id="9_14_Parsing_an_RSS_Feed"><a name="9_14_Parsing_an_RSS_Feed" class="anchor-navigation-ex-anchor" href="#9_14_Parsing_an_RSS_Feed"><i class="fa fa-link" aria-hidden="true"></i></a>9.14 &#x89E3;&#x6790;RSS Feed </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> rssFeed = <span class="hljs-string">&quot;http://aboutgroovy.com/podcast/rss&quot;</span>.toURL().text
</code></pre>
<p>&#x83B7;&#x53D6;RSS feed&#x5C31;&#x50CF;&#x53D1;&#x51FA;&#x666E;&#x901A;&#x7684;&#x65E7;&#x7684;HTTP GET&#x8BF7;&#x6C42;&#x4E00;&#x6837;&#x7B80;&#x5355;&#x3002;</p>
<pre><code class="lang-groovy">//Response:
&lt;rss xmlns:itunes=&quot;http://www.itunes.com/dtds/podcast-1.0.dtd&quot; version=&quot;2.0&quot;&gt;
  &lt;channel&gt;
    &lt;title&gt;About Groovy Podcasts&lt;/title&gt;
    &lt;link&gt;http://aboutGroovy.com&lt;/link&gt;
    &lt;language&gt;en-us&lt;/language&gt;
    &lt;copyright&gt;2007 AboutGroovy.com&lt;/copyright&gt;
    &lt;itunes:subtitle&gt;
Your source for the very latest Groovy and Grails news
&lt;/itunes:subtitle&gt;
    &lt;itunes:author&gt;Scott Davis&lt;/itunes:author&gt;
    &lt;itunes:summary&gt;About Groovy interviews&lt;/itunes:summary&gt;
    &lt;description&gt;About Groovy interviews&lt;/description&gt;
    &lt;itunes:owner&gt;
      &lt;itunes:name&gt;Scott Davis&lt;/itunes:name&gt;
      &lt;itunes:email&gt;scott@aboutGroovy.com&lt;/itunes:email&gt;
    &lt;/itunes:owner&gt;
    &lt;itunes:image href=&quot;http://aboutgroovy.com/images/aboutGroovy3.png&quot;/&gt;
    &lt;itunes:category text=&quot;Technology&quot;/&gt;
    &lt;itunes:category text=&quot;Java&quot;/&gt;
    &lt;itunes:category text=&quot;Groovy&quot;/&gt;
    &lt;itunes:category text=&quot;Grails&quot;/&gt;
    &lt;item&gt;
      &lt;title&gt;AboutGroovy Interviews Neal Ford&lt;/title&gt;
      &lt;itunes:author&gt;Scott Davis&lt;/itunes:author&gt;
      &lt;itunes:subtitle&gt;&lt;/itunes:subtitle&gt;
      &lt;itunes:summary&gt;Neal Ford of ThoughtWorks is truly a polyglot programmer.
In this exclusive interview, Neal opines on Groovy, Ruby, Java, DSLs, and the future of programming languages. Opinionated and entertaining, Neal
doesn&apos;t pull any punches. Enjoy.
&lt;/itunes:summary&gt;
      &lt;enclosure url=&quot;http://aboutgroovy.com/podcasts/NealFord.mp3&quot; length=&quot;33720522&quot; type=&quot;audio/mpeg&quot;/&gt;
      &lt;guid&gt;http://aboutgroovy.com/podcasts/NealFord.mp3&lt;/guid&gt;
      &lt;pubDate&gt;2007-04-17T01:15:00-07:00&lt;/pubDate&gt;
      &lt;itunes:duration&gt;44:19&lt;/itunes:duration&gt;
      &lt;itunes:keywords&gt;java,groovy,grails&lt;/itunes:keywords&gt;
    &lt;/item&gt;
  &lt;/channel&gt;
&lt;/rss&gt;

def rss = new XmlSlurper().parseText(rssFeed)
rss.channel.item.each{
  println it.title
  println it.pubDate
  println it.enclosure.@url
  println it.duration
  println &quot;-----&quot;
}

===&gt;
AboutGroovy Interviews Neal Ford
2007-04-17T01:15:00-07:00
http://aboutgroovy.com/podcasts/NealFord.mp3
44:19
-----
AboutGroovy Interviews Jeremy Rayner
2007-03-13T01:18:00-07:00
http://aboutgroovy.com/podcasts/JeremyRayner.mp3
50:54
-----
...
</code></pre>
<p>XmlSlurper&#x5141;&#x8BB8;&#x60A8;&#x907F;&#x514D;&#x5904;&#x7406;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x5E76;&#x63D0;&#x53D6;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x3002; &#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;7.9&#x8282;&#x201C;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x89E3;&#x6790;XML&#x6587;&#x6863;&#x201D;&#x3002;</p>
<p>&#x96C5;&#x864E;&#x6709;&#x8BB8;&#x591A;RSS&#x6E90;&#xFF0C;&#x5B83;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x4E0D;&#x4EC5;&#x662F;&#x7B80;&#x5355;&#x7684;&#x535A;&#x5BA2;&#x8054;&#x5408;&#x7EC4;&#x7EC7;&#x3002; &#x6709;&#x5173;&#x901A;&#x8FC7;&#x6709;&#x7EBF;&#x53D1;&#x9001;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x7684;RSS&#x4F9B;&#x7A3F;&#x7684;&#x51E0;&#x4E2A;&#x793A;&#x4F8B;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;<code>http://developer.yahoo.com/weather/</code>&#x4EE5;&#x53CA;<code>http://developer.yahoo.com/traffic/</code>&#x3002;</p>
<h2 id="10_Metaprogramming"><a name="10_Metaprogramming" class="anchor-navigation-ex-anchor" href="#10_Metaprogramming"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7B2C;10&#x7AE0; &#x5143;&#x7F16;&#x7A0B; </h2>
<p>&#x5143;&#x7F16;&#x7A0B;<sup><a href="#fn_1001" id="reffn_1001">1001</a></sup>&#x662F;&#x7F16;&#x5199;&#x80FD;&#x591F;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x52A8;&#x6001;&#x6539;&#x53D8;&#x5176;&#x884C;&#x4E3A;&#x7684;&#x4EE3;&#x7801;&#x3002;(&#x6211;&#x5E0C;&#x671B;&#x8FD9;&#x4E2A;&#x7C7B;&#x73B0;&#x5728;&#x5C31;&#x6709;&#x90A3;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;)&#x5B83;&#x4E3A;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x63D0;&#x4F9B;&#x4E86;&#x6D41;&#x52A8;&#x6027;&#x548C;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x7CBE;&#x901A;C&#x6216;Java&#x4E4B;&#x7C7B;&#x7684;&#x9759;&#x6001;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x90A3;&#x4E48;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x4F1A;&#x975E;&#x5E38;&#x964C;&#x751F;&#x3002;&#x50CF;Smalltalk&#x548C;Ruby&#x8FD9;&#x6837;&#x7684;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x5C31;&#x6709;&#x8FD9;&#x79CD;&#x529F;&#x80FD;&#xFF0C;&#x73B0;&#x5728;Groovy&#x5141;&#x8BB8;&#x60A8;&#x5728;Java&#x73AF;&#x5883;&#x4E2D;&#x505A;&#x76F8;&#x540C;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<p>&#x6CA1;&#x6709;&#x53CD;&#x5C04;<sup><a href="#fn_1002" id="reffn_1002">1002</a></sup>&#x7684;&#x8865;&#x5145;&#x6982;&#x5FF5;&#xFF0C;&#x5373;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8BE2;&#x95EE;&#x81EA;&#x5DF1;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x81EA;&#x91CD;&#x7684;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x4F1A;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x3002;(&#x6B64;&#x7C7B;&#x5177;&#x6709;&#x54EA;&#x4E9B;&#x5B57;&#x6BB5;&#xFF1F;&#x5B83;&#x5C06;&#x54CD;&#x5E94;&#x4EC0;&#x4E48;&#x65B9;&#x6CD5;&#xFF1F;)&#x5C3D;&#x7BA1;&#x5728;Java&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;Reflection API&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x5F88;&#x5C11;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x6709;&#x4EBA;&#x53EF;&#x80FD;&#x4F1A;&#x4E89;&#x8FA9;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E9B;&#x6982;&#x5FF5;&#x5728;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x8A00;&#x4E2D;&#x6BD4;&#x5728;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x8A00;&#x4E2D;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x91CD;&#x8981;&#x2014;&#x6BD5;&#x7ADF;&#xFF0C;&#x4E00;&#x65E6;&#x7528;Java&#x5B9A;&#x4E49;&#x4E86;&#x63A5;&#x53E3;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8BE2;&#x95EE;&#x8BE5;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x4E86;&#x54EA;&#x4E9B;&#x65B9;&#x6CD5;&#xFF1F; &#x60A8;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x5148;&#x9A8C;&#x95EE;&#x9898;&#x7684;&#x7B54;&#x6848;&#xFF0C;&#x5E76;&#x4E14;&#x5728;Java&#x4E2D;&#xFF0C;&#x63A5;&#x53E3;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002; &#xFF08;&#x591A;&#x6001;&#x6027;&#x57FA;&#x4E8E;&#x6B64;&#x6982;&#x5FF5;&#x3002;&#xFF09;</p>
<p>&#x5728;&#x7B2C;41&#x9875;&#x7684;&#x7B2C;3&#x7AE0;&#xFF0C;&#x5BF9;Groovy&#x5165;&#x95E8;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;Java&#x8BED;&#x8A00;&#x7684;&#x6709;&#x8DA3;&#x9644;&#x52A0;&#x7EC4;&#x4EF6;&#x3002; &#x5927;&#x591A;&#x6570;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;<code>java.util.ArrayList</code>&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x56E0;&#x6B64;&#x6307;&#x51FA;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x5F88;&#x68D2;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x79CD;&#x4EE5;&#x65B0;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#x719F;&#x6089;&#x7684;&#x7C7B;&#x7684;&#x7EC3;&#x4E60;&#x3002;&#x9664;&#x975E;&#x60A8;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;Java&#x4E2D;&#x7684;Reflection API&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6216;&#x8005;&#x9664;&#x975E;&#x4E60;&#x60EF;&#x901A;&#x8FC7;<code>Class.forName()</code>&#x5B9E;&#x4F8B;&#x5316;&#x6240;&#x6709;&#x7C7B;&#xFF0C;&#x5426;&#x5219;&#x672C;&#x7AE0;&#x4E2D;&#x7684;&#x60F3;&#x6CD5;&#x53EF;&#x80FD;&#x4F1A;&#x671D;&#x7740;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x65B9;&#x5411;&#x5EF6;&#x4F38;&#x3002; &#xFF08;&#x4E3A;&#x4EC0;&#x4E48;&#x60A8;&#x5E94;&#x8BE5;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8BE2;&#x95EE;&#x6B64;&#x7C7B;&#x662F;&#x5426;&#x5177;&#x6709;&#x5B57;&#x6BB5;&#x6216;&#x5BF9;&#x7279;&#x5B9A;&#x65B9;&#x6CD5;&#x4F5C;&#x51FA;&#x54CD;&#x5E94;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x60A8;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x4E3A;&#x60A8;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x5417;&#xFF1F;&#xFF09;</p>
<p>&#x672C;&#x7AE0;&#x4ECB;&#x7ECD;&#x4E86;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x8BE2;&#x95EE;&#x60A8;&#x7684;&#x7C7B;&#x6709;&#x54EA;&#x4E9B;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x6211;&#x4EEC;&#x8FD8;&#x5C06;&#x7814;&#x7A76;&#x5982;&#x4F55;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x901A;&#x8FC7;MetaClass&#x7C7B;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x8BA8;&#x8BBA;&#x4F7F;&#x7528;<code>invokeMethod()</code>&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x3002; &#x751A;&#x81F3;&#x6709;&#x79F0;&#x4E3A;Expandos&#x7684;&#x5BF9;&#x8C61;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x5B8C;&#x5168;&#x521B;&#x5EFA;&#x3002; &#x5C3D;&#x4EAB;Groovy&#x98CE;&#x683C;&#x7684;&#x5143;&#x7F16;&#x7A0B;&#x3002;</p>
<h3 id="10_1_Discovering_the_Class"><a name="10_1_Discovering_the_Class" class="anchor-navigation-ex-anchor" href="#10_1_Discovering_the_Class"><i class="fa fa-link" aria-hidden="true"></i></a>10.1 &#x53D1;&#x73B0;&#x7C7B; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> s = <span class="hljs-string">&quot;Hello&quot;</span>
println s.<span class="hljs-keyword">class</span>
===&gt; java.lang.String
</code></pre>
<p>Java&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x4E00;&#x4E2A;<code>getClass()</code>&#x65B9;&#x6CD5;&#x3002;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x7F29;&#x77ED;&#x5BF9;&#x7C7B;&#x7684;&#x8C03;&#x7528;&#x3002;(&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x89C1;&#x7B2C;72&#x9875;4.2&#x8282;&#xFF0C;Getter&#x548C;Setter&#x5FEB;&#x6377;&#x8BED;&#x6CD5;&#x3002;)</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x4F7F;&#x7528;duck&#x7C7B;&#x578B;&#x6765;&#x58F0;&#x660E;&#x53D8;&#x91CF;s-def&#xFF0C;&#x800C;&#x4E0D;&#x662F;String&#x3002;&#x5C3D;&#x7BA1;&#x5982;&#x6B64;&#xFF0C;&#x5F53;&#x88AB;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x53D8;&#x91CF;&#x6B63;&#x786E;&#x5730;&#x5C06;&#x81EA;&#x5DF1;&#x6807;&#x8BC6;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;(&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;3.5&#x8282;&#xFF0C;&#x53EF;&#x9009;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;(Duck Typing)&#xFF0C;&#x89C1;&#x7B2C;47&#x9875;&#x3002;)</p>
<p>&#x4E00;&#x65E6;&#x6709;&#x4E86;&#x8FD9;&#x6837;&#x7684;class&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x95EE;&#x5404;&#x79CD;&#x6709;&#x8DA3;&#x7684;&#x95EE;&#x9898;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E4F;&#x5473;&#x7684;&#x65E7;&#x7C7B;<code>java.lang.Class</code>&#x83B7;&#x5F97;&#x3002;Groovy&#x53EA;&#x662F;&#x4E3A;&#x8FED;&#x4EE3;&#x6DFB;&#x52A0;&#x4E86;<code>each()</code>&#x8BED;&#x6CD5;&#x7CD6;&#xFF0C;&#x4EE5;&#x53CA;&#x9ED8;&#x8BA4;&#x7684;it&#x53D8;&#x91CF;&#x3002;(&#x6709;&#x5173;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;3.14&#x8282;&#xFF0C;List&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#xFF0C;&#x89C1;&#x7B2C;58&#x9875;&#x3002;)</p>
<pre><code class="lang-groovy">String.constructors.each{println it}
===&gt;
<span class="hljs-keyword">public</span> java.lang.String()
<span class="hljs-keyword">public</span> java.lang.String(<span class="hljs-keyword">char</span>[])
<span class="hljs-keyword">public</span> java.lang.String(<span class="hljs-keyword">byte</span>[])
<span class="hljs-keyword">public</span> java.lang.String(java.lang.StringBuffer)
<span class="hljs-keyword">public</span> java.lang.String(java.lang.StringBuilder)
<span class="hljs-keyword">public</span> java.lang.String(java.lang.String)
...

String.interfaces.each{println it}
===&gt;
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">java</span>.<span class="hljs-title">io</span>.<span class="hljs-title">Serializable</span>
<span class="hljs-title">interface</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">Comparable</span>
<span class="hljs-title">interface</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">CharSequence</span>
</span></code></pre>
<h3 id="10_2_Discovering_the_Fields_of_a_Class"><a name="10_2_Discovering_the_Fields_of_a_Class" class="anchor-navigation-ex-anchor" href="#10_2_Discovering_the_Fields_of_a_Class"><i class="fa fa-link" aria-hidden="true"></i></a>10.2 &#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x5B57;&#x6BB5; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()
println d.properties
===&gt; {month=<span class="hljs-number">8</span>, day=<span class="hljs-number">6</span>, calendarDate=<span class="hljs-number">2007</span><span class="hljs-number">-09</span><span class="hljs-number">-01</span><span class="hljs-string">T08:</span><span class="hljs-number">38</span>:<span class="hljs-number">55.348</span><span class="hljs-number">-0600</span>,
time=<span class="hljs-number">1188657535348</span>, timeImpl=<span class="hljs-number">1188657535348</span>, <span class="hljs-class"><span class="hljs-keyword">class</span>=<span class="hljs-title">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">util</span>.<span class="hljs-title">Date</span>,
<span class="hljs-title">timezoneOffset</span>=360, <span class="hljs-title">date</span>=1, <span class="hljs-title">hours</span>=8, <span class="hljs-title">minutes</span>=38, <span class="hljs-title">year</span>=107,
<span class="hljs-title">julianCalendar</span>=<span class="hljs-title">sun</span>.<span class="hljs-title">util</span>.<span class="hljs-title">calendar</span>.<span class="hljs-title">JulianCalendar</span>@<span class="hljs-title">d085f8</span>, <span class="hljs-title">seconds</span>=55}
</span></code></pre>
<p>&#x5728;&#x7C7B;&#x4E0A;&#x8C03;&#x7528;<code>getProperties()</code>&#x5C06;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x7684;<code>java.util.HashMap</code>&#x3002;&#x5BF9;&#x4E8E;&#x7A0D;&#x5FAE;&#x6F02;&#x4EAE;&#x4E00;&#x4E9B;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x8C03;&#x7528;HashMap&#x4E0A;&#x7684;<code>each()</code>&#x3002;(&#x8FD8;&#x8BB0;&#x5F97;&#x5417;&#xFF0C;&#x5B83;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x8FED;&#x4EE3;&#x5668;&#x53D8;&#x91CF;&#xFF0C;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;59&#x9875;3.14&#x8282;&#x201C;&#x8FED;&#x4EE3;&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;&#x3002;)</p>
<pre><code class="lang-groovy">d.properties.each{println it}
===&gt;
month=<span class="hljs-number">8</span>
day=<span class="hljs-number">6</span>
calendarDate=<span class="hljs-number">2007</span><span class="hljs-number">-09</span><span class="hljs-number">-01</span><span class="hljs-string">T08:</span><span class="hljs-number">38</span>:<span class="hljs-number">55.348</span><span class="hljs-number">-0600</span>
time=<span class="hljs-number">1188657535348</span>
timeImpl=<span class="hljs-number">1188657535348</span>
<span class="hljs-class"><span class="hljs-keyword">class</span>=<span class="hljs-title">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">util</span>.<span class="hljs-title">Date</span>
<span class="hljs-title">timezoneOffset</span>=360
<span class="hljs-title">date</span>=1
<span class="hljs-title">hours</span>=8
<span class="hljs-title">minutes</span>=38
<span class="hljs-title">year</span>=107
<span class="hljs-title">julianCalendar</span>=<span class="hljs-title">sun</span>.<span class="hljs-title">util</span>.<span class="hljs-title">calendar</span>.<span class="hljs-title">JulianCalendar</span>@<span class="hljs-title">d085f8</span>
<span class="hljs-title">seconds</span>=55
</span></code></pre>
<p>Java&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x51E0;&#x4E4E;&#x76F8;&#x540C;&#x529F;&#x80FD;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x6BCF;&#x4E2A;<code>java.lang.Class</code>&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;<code>getDeclaredFields()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;<code>java.lang.reflect.Field</code>&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x7EC4;&#x3002;</p>
<pre><code class="lang-groovy">d.<span class="hljs-keyword">class</span>.declaredFields.each{println it}
===&gt;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> sun.util.calendar.BaseCalendar java.util.Date.gcal
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> sun.util.calendar.BaseCalendar java.util.Date.jcal
<span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">long</span> java.util.Date.fastTime
<span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> sun.util.calendar.BaseCalendar$Date java.util.Date.cdate
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> java.util.Date.defaultCenturyStart
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">long</span> java.util.Date.serialVersionUID
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> java.lang.String[] java.util.Date.wtb
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span>[] java.util.Date.ttb
</code></pre>
<p>&#x7B49;&#x4E00;&#x4E0B;&#x2026;&#x4E3A;&#x4EC0;&#x4E48;<code>getProperties</code>&#x8C03;&#x7528;&#x4E0D;&#x5339;&#x914D;<code>getDeclaredFields</code>&#x8C03;&#x7528;?&#x4E5F;&#x8BB8;&#x540E;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x4E0A;&#x7684;Javadocs<sup><a href="#fn_1003" id="reffn_1003">1003</a></sup>&#x53EF;&#x4EE5;&#x89E3;&#x91CA;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;:&#x201C;<code>getDeclaredFields()</code>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#xFF0C;&#x5B83;&#x53CD;&#x6620;&#x4E86;&#x8FD9;&#x4E2A;&#x7C7B;&#x5BF9;&#x8C61;&#x6240;&#x58F0;&#x660E;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x6216;&#x8FD9;&#x4E2A;&#x7C7B;&#x5BF9;&#x8C61;&#x6240;&#x8868;&#x793A;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x8FD9;&#x5305;&#x62EC;&#x516C;&#x5171;&#x5B57;&#x6BB5;&#x3001;&#x53D7;&#x4FDD;&#x62A4;&#x5B57;&#x6BB5;&#x3001;&#x9ED8;&#x8BA4;(&#x5305;)&#x8BBF;&#x95EE;&#x5B57;&#x6BB5;&#x548C;&#x79C1;&#x6709;&#x5B57;&#x6BB5;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x7EE7;&#x627F;&#x5B57;&#x6BB5;&#x3002;&#x201D;</p>
<p>&#x867D;&#x7136;Java&#x65B9;&#x6CD5;&#x5728;&#x6280;&#x672F;&#x4E0A;&#x66F4;&#x52A0;&#x6B63;&#x786E;&#x2014;&#x5B57;&#x6BB5;month&#x3001;day&#x548C;year&#x5728;&#x6280;&#x672F;&#x4E0A;&#x662F;&#x5185;&#x90E8;&#x7C7B;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x2014;Groovy&#x65B9;&#x6CD5;<code>getProperties</code>&#x53EA;&#x662F;&#x83B7;&#x53D6;&#x7C7B;&#x4E0A;&#x7684;getter&#x548C;setter&#x3002;&#x5C3D;&#x7BA1;&#x5B83;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;Date&#x5BF9;&#x8C61;&#x7684;&#x771F;&#x6B63;&#x5B57;&#x6BB5;&#xFF0C;&#x4F46;API&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#x4F3C;&#x4E4E;&#x5E0C;&#x671B;&#x60A8;&#x5C06;&#x5BF9;&#x8C61;&#x89C6;&#x4E3A;&#x5177;&#x6709;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x91CC;&#x63D0;&#x4F9B;&#x4E86;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x60A8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x6700;&#x9002;&#x5408;&#x60A8;&#x9700;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>Groovy&#x7684;MetaClass&#x5B57;&#x6BB5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname
}

<span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">firstname:</span><span class="hljs-string">&quot;John&quot;</span>, <span class="hljs-string">lastname:</span><span class="hljs-string">&quot;Smith&quot;</span>)
p.properties.each{println it}
===&gt;
firstname=John
lastname=Smith
<span class="hljs-class"><span class="hljs-keyword">class</span>=<span class="hljs-title">class</span> <span class="hljs-title">Person</span>
<span class="hljs-title">metaClass</span>=<span class="hljs-title">groovy</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">MetaClassImpl</span>@<span class="hljs-title">ebd7c4</span>[<span class="hljs-title">class</span> <span class="hljs-title">Person</span>]
</span></code></pre>
<p>&#x5BF9;Java&#x7C7B;&#x8C03;&#x7528;<code>getProperties()</code>&#x5C06;&#x8FD4;&#x56DE;&#x60A8;&#x6240;&#x671F;&#x671B;&#x7684;&#x5B57;&#x6BB5;&#x6570;&#x3002;&#x5728;Groovy&#x4E2D;&#xFF0C;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x66F4;&#x6709;&#x8DA3;&#x7684;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x9886;&#x57DF;: <code>metaClass(&#x5143;&#x7C7B;)</code>&#x3002;</p>
<p>&#x770B;&#x5230;firstname&#x548C;lastname &#x51FA;&#x73B0;&#x5728;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x611F;&#x5230;&#x60CA;&#x8BB6;&#x3002;&#x60A8;&#x53EF;&#x80FD;&#x4E0D;&#x5E0C;&#x671B;&#x5728;&#x5217;&#x8868;&#x4E2D;&#x770B;&#x5230;class&#xFF0C;&#x4F46;&#x662F;&#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#x524D;&#x9762;&#x7684;&#x90E8;&#x5206;&#xFF0C;<code>getProperties()</code>&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x7EE7;&#x627F;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x60A8;&#x5B9A;&#x4E49;&#x7684;&#x5B57;&#x6BB5;&#x3002;&#x7531;&#x4E8E;Person&#x6269;&#x5C55;&#x4E86;<code>java.lang.Object</code>&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x770B;&#x5230;<code>getClass()</code>&#x65B9;&#x6CD5;&#x51FA;&#x73B0;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x5C31;&#x597D;&#x50CF;&#x5B83;&#x662F;Person&#x7C7B;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x3002;</p>
<p>&#x5B83;&#x662F;&#x4F7F;Groovy&#x4E0E;&#x4F17;&#x4E0D;&#x540C;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x610F;&#x5916;&#x5B57;&#x6BB5;<code>MetaClass</code>&#x3002;&#x6240;&#x6709;Groovy&#x7C7B;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;<code>Groovy.lang. Groovyobject</code>&#x63A5;&#x53E3;&#x3002;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x4E0A;&#x7684;<code>getMetaClass()</code>&#x65B9;&#x6CD5;&#x8D1F;&#x8D23;&#x5C06;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x672A;&#x9884;&#x6599;&#x5230;&#x7684;&#x5B57;&#x6BB5;&#x5E26;&#x5230;&#x53C2;&#x4E0E;&#x65B9;&#x3002;</p>
<p><code>MetaClass</code>&#x662F;&#x4F7F;Groovy&#x6210;&#x4E3A;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x7684;&#x539F;&#x56E0;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x800C;&#x4E0D;&#x662F;&#x7F16;&#x8BD1;&#x65F6;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B0;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x60A8;&#x5C06;<code>execute()</code>&#x548C;<code>toURL()</code>&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;<code>java.lang.String</code>&#x4E2D;&#xFF0C;&#x5373;&#x4F7F;&#x5B83;&#x662F;<code>Final class</code>&#x3002;</p>
<p>&#x4ECE;&#x4E0B;&#x4E00;&#x8282;&#x5F00;&#x59CB;&#x2014;10.3&#x8282;&#xFF0C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x7684;&#x5B58;&#x5728;&#x2014;&#x5E76;&#x7EE7;&#x7EED;&#x672C;&#x7AE0;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#xFF0C;<code>MetaClass</code>&#x7684;&#x529B;&#x91CF;&#x5C06;&#x6162;&#x6162;&#x5C55;&#x5F00;&#x3002;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x600E;&#x4E48;&#x628A;&#x5B83;&#x5F04;&#x5230;&#x8FD9;&#x91CC;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x672C;&#x7AE0;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5B83;&#x3002;</p>
<p><strong>MetaClasses for Java Classes</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">// in Groovy 1.0</span>
GroovySystem.metaClassRegistry.getMetaClass(Date)
<span class="hljs-comment">// in Groovy 1.5</span>
Date.metaClass
</code></pre>
<p>Groovy 1.0&#x4E2D;&#x7684;Java&#x5BF9;&#x8C61;&#x4E0D;&#x5BB9;&#x6613;&#x516C;&#x5F00;MetaClass&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x90FD;&#x6709;&#x4E00;&#x4E2A;MetaClass&#x3002;&#x8981;&#x627E;&#x5230;&#x5B83;&#xFF0C;&#x60A8;&#x5FC5;&#x987B;&#x67E5;&#x8BE2;JDK&#x7C7B;&#x7684;MetaClassRegistry&#x3002;&#x5728;Groovy 1.5&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x88AB;&#x6781;&#x5927;&#x5730;&#x7B80;&#x5316;&#x4E86;&#x2014;&#x2014;&#x60A8;&#x53EA;&#x9700;&#x76F4;&#x63A5;&#x5411;&#x7C7B;&#x8BF7;&#x6C42;&#x5B83;&#x7684;MetaClass&#x3002;</p>
<h3 id="10_3_Checking_for_the_Existence_of_a_Field"><a name="10_3_Checking_for_the_Existence_of_a_Field" class="anchor-navigation-ex-anchor" href="#10_3_Checking_for_the_Existence_of_a_Field"><i class="fa fa-link" aria-hidden="true"></i></a>10.3 &#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728; </h3>
<pre><code class="lang-groovy">class Person{
  String firstname
  String lastname
}

def p = new Person()
if(p.metaClass.hasProperty(p, &quot;firstname&quot;)){
  p.firstname = &quot;Jane&quot;
}
println p.firstname
===&gt; Jane

p.last = &quot;Doe&quot;
ERROR: groovy.lang.MissingPropertyException: No such property:
last for class: Person
</code></pre>
<p>&#x6BCF;&#x4E2A;<code>java.lang.Class</code>&#x90FD;&#x6709;&#x4E00;&#x4E2A;<code>getField()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5B58;&#x5728;&#x7684;&#x5B57;&#x6BB5;&#x3002;&#x5982;&#x679C;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x4E00;&#x4E2A;<code>java.lang.NoSuchFieldException</code>&#x3002;&#x901A;&#x8FC7;&#x5728;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x67E5;&#x8BE2;&#x7C7B;&#xFF0C;Groovy&#x5141;&#x8BB8;&#x60A8;&#x66F4;&#x5B89;&#x5168;&#x4E00;&#x70B9;&#x3002;&#x5728;MetaClass&#x4E0A;&#x8C03;&#x7528;<code>hasProperty()</code>&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x5B57;&#x6BB5;;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;null&#x3002;</p>
<p>&#x6B63;&#x5982;&#x7B2C;54&#x9875;&#x7B2C;3.10&#x8282;Groovy Truth&#x4E2D;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;null&#x54CD;&#x5E94;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x4E3A;false&#xFF0C;&#x8FD9;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x65E2;&#x8C28;&#x614E;&#x53C8;&#x52A8;&#x6001;&#x3002;&#x8FD9;&#x79CD;&#x6280;&#x672F;&#x6B63;&#x662F;JavaScript&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x591A;&#x5E74;&#x6765;&#x4E00;&#x76F4;&#x5728;&#x505A;&#x7684;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x4ED6;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x80FD;&#x591F;&#x8DE8;&#x4E0D;&#x540C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5DE5;&#x4F5C;&#x3002;</p>
<p><strong>Groovy 1.0 &#x89E3;&#x51B3;&#x65B9;&#x6848;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">if</span>(p.properties.containsKey(<span class="hljs-string">&quot;firstname&quot;</span>)){
  p.firstname = <span class="hljs-string">&quot;Jane&quot;</span>
}
</code></pre>
<p><code>hasProperty()</code>&#x65B9;&#x6CD5;&#x51FA;&#x73B0;&#x5728;Groovy 1.5&#x4E2D;&#x3002;&#x5728;Groovy 1.0&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>getProperties()</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;HashMap&#x4E0A;&#x7684;<code>containsKey()</code>&#x65B9;&#x6CD5;&#x6709;&#x6548;&#x5730;&#x8FDB;&#x884C;&#x76F8;&#x540C;&#x7684;&#x68C0;&#x67E5;&#x3002;</p>
<p><strong>&#x4F60;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x8FD9;&#x4E2A;?</strong></p>
<pre><code class="lang-groovy"><span class="hljs-comment">// url to test this code:</span>
<span class="hljs-string">http:</span><span class="hljs-comment">//localhost:8080/groovlets/person.groovy?</span>
firstname=Scott&amp;lastname=Davis&amp;title=Bench+Warmer

<span class="hljs-comment">// person.groovy</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname
  String toString(){<span class="hljs-string">&quot;${firstname} ${lastname}&quot;</span>}
}

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> Person()
request.parameterMap.each{name, value-&gt;
  <span class="hljs-keyword">if</span>(person.metaClass.hasProperty(person, name)){
    person.setProperty(name, value[<span class="hljs-number">0</span>])
  }
}

println <span class="hljs-string">&quot;QueryString: ${request.queryString}&quot;</span>
println <span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>
println <span class="hljs-string">&quot;Incoming parameters: ${request.parameterMap}&quot;</span>
println <span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>
println <span class="hljs-string">&quot;Resulting Person: ${person}&quot;</span>
</code></pre>
<p>&#x52A8;&#x6001;&#x5730;&#x786E;&#x5B9A;&#x7C7B;&#x5177;&#x6709;&#x54EA;&#x4E9B;&#x5B57;&#x6BB5;&#x5BF9;&#x4E8E;&#x52A8;&#x6001;&#x5730;&#x586B;&#x5145;&#x7C7B;&#x975E;&#x5E38;&#x6709;&#x5E2E;&#x52A9;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;Groovlet&#xFF0C;&#x5B83;&#x6839;&#x636E;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x5165;&#x7684;<code>&#x540D;&#x79F0;/&#x503C;</code>&#x5BF9;&#x586B;&#x5145;&#x7C7B;&#x3002;(&#x5728;&#x56FE;10.1&#x4E2D;&#xFF0C;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5448;&#x73B0;&#x7684;&#x7ED3;&#x679C;&#x3002;)</p>
<p>&#x8FD9;&#x662F;&#x6BCF;&#x4E2A;&#x73B0;&#x6709;web&#x6846;&#x67B6;&#x90FD;&#x5FC5;&#x987B;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5373;&#x4F7F;&#x60A8;&#x4E0D;&#x8FDB;&#x884C;web&#x5F00;&#x53D1;&#xFF0C;&#x8FD9;&#x79CD;&#x6280;&#x672F;&#x4E5F;&#x540C;&#x6837;&#x65B9;&#x4FBF;&#x3002;&#x65E0;&#x8BBA;&#x4F55;&#x65F6;&#xFF0C;&#x5F53;&#x60A8;&#x4ECE;XML&#x3001;CSV&#x3001;hashmap&#x6216;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x5730;&#x65B9;&#x52A8;&#x6001;&#x5730;&#x586B;&#x5145;POGO&#x65F6;&#xFF0C;&#x60A8;&#x90FD;&#x5E94;&#x8BE5;&#x793C;&#x8C8C;&#x5730;&#x8BE2;&#x95EE;POGO&#x662F;&#x5426;&#x80FD;&#x591F;&#x5904;&#x7406;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7C97;&#x66B4;&#x5730;&#x5F3A;&#x884C;&#x5C06;&#x5176;&#x54BD;&#x4E0B;&#x53BB;&#x3002;</p>
<p><strong>Figure 10.1: &#x5C55;&#x793A;hasProperty()&#x503C;&#x7684;Groovlet</strong>
<img src="_v_images/20191017131550135_28206.png" alt="Figure 10.1: A Groovlet demonstrating the value of hasProperty()"></p>
<p>&#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49;Person&#x7C7B;&#x5E76;&#x5B9E;&#x4F8B;&#x5316;&#x5B83;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x9010;&#x4E2A;&#x904D;&#x5386;QueryString&#x503C;&#x3002;&#x6839;&#x636E;&#x793A;&#x4F8B;&#x4E2D;&#x7684;URL&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x5728;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x627E;&#x5230;firstname&#x3001;lastname&#x548C;title&#x6761;&#x76EE;&#x3002; &#x5982;&#x679C;&#x60A8;&#x53EA;&#x662F;&#x904D;&#x5386;&#x952E;&#x5217;&#x8868;&#x5E76;&#x5728;person&#x4E0A;&#x6109;&#x5FEB;&#x5730;&#x8C03;&#x7528;<code>setProperty()</code>&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x60A8;&#x5230;&#x8FBE;title&#x65F6;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x7CDF;&#x7CD5;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x56E0;&#x4E3A;person&#x6CA1;&#x6709;title&#x5B57;&#x6BB5;&#x3002;(&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;Groovy&#x4F1A;&#x62A5;&#x9519;&#x4E00;&#x4E2A;Groovy.lang.missingpropertyexception&#x3002;) &#x5728;<code>hasProperty()</code>&#x68C0;&#x67E5;&#x4E2D;&#x5305;&#x88C5;<code>setProperty()</code>&#x8C03;&#x7528;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x53EA;&#x6709;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5904;&#x7406;&#x7684;&#x5B57;&#x6BB5;&#x88AB;&#x6CE8;&#x5165;&#x3002;&#x6240;&#x6709;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x5B57;&#x6BB5;&#x90FD;&#x4F1A;&#x88AB;&#x7B80;&#x5355;&#x5730;&#x4E22;&#x5F03;&#x3002; </p>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x4EE3;&#x7801;&#x66F4;&#x6F02;&#x4EAE;&#x4E00;&#x70B9;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;person&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;<code>hasProperty()</code>&#x4FBF;&#x5229;&#x65B9;&#x6CD5;:</p>
<pre><code class="lang-groovy"><span class="hljs-comment">// person.groovy</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname

  String toString(){<span class="hljs-string">&quot;${firstname} ${lastname}&quot;</span> }

  MetaProperty hasProperty(String property){
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.metaClass.hasProperty(<span class="hljs-keyword">this</span>, property)
  }
}

<span class="hljs-keyword">def</span> person = <span class="hljs-keyword">new</span> Person()

request.parameterMap.each{name, value-&gt;
  <span class="hljs-keyword">if</span>(person.hasProperty(name)){
    person.setProperty(name, value[<span class="hljs-number">0</span>])
  }
}

println <span class="hljs-string">&quot;QueryString: ${request.queryString}&quot;</span>
println <span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>
println <span class="hljs-string">&quot;Incoming parameters: ${request.parameterMap}&quot;</span>
println <span class="hljs-string">&quot;&lt;br/&gt;&quot;</span>
println <span class="hljs-string">&quot;Resulting Person: ${person}&quot;</span>
</code></pre>
<p>&#x6709;&#x5173;groovlet&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;2.6&#x8282;&#xFF0C;&#x5728;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD0;&#x884C;Groovy (groovlet)&#xFF0C;&#x89C1;&#x7B2C;33&#x9875;&#x3002;&#x6709;&#x5173;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;159&#x9875;&#x5173;&#x4E8E;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;9.4&#x8282;&#x3002;</p>
<h3 id="10_4_Discovering_the_Methods_of_a_Class"><a name="10_4_Discovering_the_Methods_of_a_Class" class="anchor-navigation-ex-anchor" href="#10_4_Discovering_the_Methods_of_a_Class"><i class="fa fa-link" aria-hidden="true"></i></a>10.4 &#x53D1;&#x73B0;&#x7C7B;&#x7684;&#x65B9;&#x6CD5; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()
d.<span class="hljs-keyword">class</span>.methods.each{println it}
===&gt;
...
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> java.util.Date.setTime(<span class="hljs-keyword">long</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">long</span> java.util.Date.getTime()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getYear()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getMonth()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getDate()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getHours()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getMinutes()
<span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> java.util.Date.getSeconds()
...
</code></pre>
<p>&#x6BCF;&#x4E2A;&#x7C7B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;<code>getMethods()</code>&#x65B9;&#x6CD5;&#x3002;&#x904D;&#x5386;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x4E0E;&#x904D;&#x5386;&#x5B57;&#x6BB5;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#xFF0C;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x5728;10.2&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x5728;183&#x9875;&#x4E0A;&#x67E5;&#x627E;&#x7C7B;&#x7684;&#x5B57;&#x6BB5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x53EA;&#x663E;&#x793A;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x7A0D;&#x5FAE;&#x7B80;&#x5316;&#x4E00;&#x4E0B;&#x5217;&#x8868;&#xFF1A;</p>
<pre><code class="lang-groovy">d.<span class="hljs-keyword">class</span>.methods.name

===&gt;
[hashCode, compareTo, compareTo, equals, toString, clone, parse,
after, before, setTime, getTime, getYear, getMonth, getDate, getHours,
getMinutes, getSeconds, UTC, setYear, setMonth, setDate, getDay, setHours,
setMinutes, setSeconds, toLocaleString, toGMTString, getTimezoneOffset,
getClass, wait, wait, wait, notify, notifyAll]
</code></pre>
<p><strong>&#x4F7F;&#x7528;Evaluate&#x52A8;&#x6001;&#x8C03;&#x7528;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()

d.<span class="hljs-keyword">class</span>.methods.each{method -&gt;
  <span class="hljs-keyword">if</span>(method.name.startsWith(<span class="hljs-string">&quot;get&quot;</span>)){
    print <span class="hljs-string">&quot;${method.name}: &quot;</span>
    evaluate(<span class="hljs-string">&quot;dd = new Date(); println dd.${method.name}()&quot;</span> )
  }
}
===&gt;
<span class="hljs-string">getTime:</span> <span class="hljs-number">1188665901916</span>
<span class="hljs-string">getYear:</span> <span class="hljs-number">107</span>
<span class="hljs-string">getMonth:</span> <span class="hljs-number">8</span>
<span class="hljs-string">getDate:</span> <span class="hljs-number">1</span>
<span class="hljs-string">getHours:</span> <span class="hljs-number">10</span>
<span class="hljs-string">getMinutes:</span> <span class="hljs-number">58</span>
<span class="hljs-string">getSeconds:</span> <span class="hljs-number">21</span>
<span class="hljs-string">getDay:</span> <span class="hljs-number">6</span>
<span class="hljs-string">getTimezoneOffset:</span> <span class="hljs-number">360</span>
<span class="hljs-string">getClass:</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">util</span>.<span class="hljs-title">Date</span>
</span></code></pre>
<p>&#x5728;&#x7B2C;95&#x9875;&#x7684;5.10&#x8282;&#xFF0C;Evaluating&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;&#x901A;&#x8FC7;Evaluating&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#x6765;&#x8FD0;&#x884C;Groovy&#x4EE3;&#x7801;&#x3002; &#x5982;&#x679C;&#x8981;&#x904D;&#x5386;Date&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x5E76;&#x52A8;&#x6001;&#x6267;&#x884C;&#x6240;&#x6709;<code>getter</code>&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5C3D;&#x7BA1;&#x6B64;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x6309;&#x9884;&#x671F;&#x5DE5;&#x4F5C;&#xFF0C;&#x4F46;&#x60A8;&#x662F;&#x5426;&#x5728;&#x8BC4;&#x4F30;&#x8BED;&#x53E5;&#x4E2D;&#x6CE8;&#x610F;&#x5230;&#x6211;&#x5FEB;&#x901F;&#x62C9;&#x7ED9;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#xFF1F;&#x8FD9;&#x91CC;&#x6709;&#x591A;&#x4E2A;Date&#x5B9E;&#x4F8B;:&#x60A8;&#x904D;&#x5386;&#x5176;&#x65B9;&#x6CD5;&#x7684;d&#x5B9E;&#x4F8B;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x6BCF;&#x6B21;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x5355;&#x72EC;dd&#x3002;&#x5FC5;&#x987B;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;<code>evaluate</code>&#x90FD;&#x521B;&#x5EFA;&#x4E86;&#x81EA;&#x5DF1;&#x7684;<code>groovy.lang.GroovyShell</code>&#xFF0C;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x5B83;&#x770B;&#x4E0D;&#x5230;d&#x53D8;&#x91CF;&#x3002;&#x5982;&#x679C;&#x60A8;&#x5C1D;&#x8BD5;&#x8C03;&#x7528;<code>d.${method.name}()</code>&#xFF0C;&#x60A8;&#x5C06;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x6D88;&#x606F;:</p>
<pre><code class="lang-groovy">Caught: groovy.lang.MissingPropertyException:
No such property: d for class: Script1
</code></pre>
<p>Script1&#x662F;&#x7531;<code>evaluate</code>&#x8C03;&#x7528;&#x521B;&#x5EFA;&#x7684;&#x533F;&#x540D;&#x811A;&#x672C;&#x3002;</p>
<p>&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x7684;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x91CD;&#x7528;&#x76F8;&#x540C;&#x7684;Date&#x5B9E;&#x4F8B;&#x3002;&#x5728;&#x7B2C;30&#x9875;&#x7684;&#x8FB9;&#x680F;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BA8;&#x8BBA;&#x4E86;<code>groovy.lang.Binding</code>&#x7C7B;&#x3002;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;hashmap&#x503C;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x4F20;&#x9012;&#x7ED9;GroovyShell&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;&#x53EA;&#x9700;&#x591A;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;d&#x5BF9;&#x4E8E;<code>evaluate</code>&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x662F;&#x53EF;&#x89C1;&#x7684;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()
<span class="hljs-keyword">def</span> binding = <span class="hljs-keyword">new</span> Binding()
binding.setVariable(<span class="hljs-string">&quot;d&quot;</span>, d)
<span class="hljs-keyword">def</span> gs = <span class="hljs-keyword">new</span> GroovyShell(binding)

d.<span class="hljs-keyword">class</span>.methods.each{method -&gt;
  <span class="hljs-keyword">if</span>(method.name.startsWith(<span class="hljs-string">&quot;get&quot;</span>)){
    print <span class="hljs-string">&quot;${method.name}: &quot;</span>
    gs.evaluate(<span class="hljs-string">&quot;println d.${method.name}()&quot;</span> )
  }
}
</code></pre>
<p><strong>&#x4F7F;&#x7528;GString&#x52A8;&#x6001;&#x8C03;&#x7528;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> d = <span class="hljs-keyword">new</span> Date()
d.<span class="hljs-keyword">class</span>.methods.each{method -&gt;
  <span class="hljs-keyword">if</span>(method.name.startsWith(<span class="hljs-string">&quot;get&quot;</span>)){
    print <span class="hljs-string">&quot;${method.name}: &quot;</span>
    println d.<span class="hljs-string">&quot;${method.name}&quot;</span>()
  }
}
</code></pre>
<p>&#x7406;&#x89E3;&#x56F4;&#x7ED5;evaluate&#x3001;GroovyShell&#x548C;Binding&#x7684;&#x7EC6;&#x5FAE;&#x4E4B;&#x5904;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;GString&#x7684;&#x5F3A;&#x5927;&#x529F;&#x80FD;&#x4E5F;&#x5F88;&#x91CD;&#x8981;&#x3002;&#x8FD9;&#x662F;&#x52A8;&#x6001;&#x5730;&#x8C03;&#x7528;&#x7C7B;&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x6700;&#x7B80;&#x5355;&#x3001;&#x6700;&#x7B80;&#x6D01;&#x7684;&#x65B9;&#x6CD5;&#x2014;&#x5C06;&#x5B83;&#x653E;&#x5230;GString&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8BA9;&#x8BED;&#x53E5;&#x7684;&#x8FD0;&#x884C;&#x65F6;evaluation&#x5B8C;&#x6210;&#x5176;&#x4F59;&#x7684;&#x5DE5;&#x4F5C;&#x3002;</p>
<p><strong>Groovy&#x7C7B;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname
}

<span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> Person()
p.<span class="hljs-keyword">class</span>.methods.name

===&gt; [getMetaClass, setMetaClass, invokeMethod, getFirstname,
setFirstname, getLastname, setLastname, setProperty, getProperty,
hashCode, getClass, equals, toString, wait, wait, wait, notify, notifyAll]
</code></pre>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x8BA1;&#x7B97;&#x5728;Groovy&#x5BF9;&#x8C61;&#x4E2D;&#x627E;&#x5230;&#x7684;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x3002;&#x5B57;&#x6BB5;&#x7684;getter&#x548C;setter&#x5E76;&#x4E0D;&#x5947;&#x602A;:</p>
<pre><code class="lang-groovy">getFirstname, setFirstname, getLastname, setLastname
</code></pre>
<p>&#x5206;&#x522B;&#x6765;&#x81EA;<code>java.lang.Object</code>&#x548C;<code>java.lang.Class</code>&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;:</p>
<pre><code class="lang-groovy">hashCode, getClass, equals, toString, wait, wait, wait, notify, notifyAll
</code></pre>
<p>&#x5269;&#x4E0B;&#x7684;&#x662F;&#x6765;&#x81EA;<code>groovy.lang.GroovyObject</code>&#x7684;&#x6DFB;&#x52A0;:</p>
<pre><code class="lang-groovy">getMetaClass, setMetaClass, invokeMethod, setProperty, getProperty
</code></pre>
<h3 id="10_5_Checking_for_the_Existence_of_a_Method"><a name="10_5_Checking_for_the_Existence_of_a_Method" class="anchor-navigation-ex-anchor" href="#10_5_Checking_for_the_Existence_of_a_Method"><i class="fa fa-link" aria-hidden="true"></i></a>10.5 &#x68C0;&#x67E5;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x5B58;&#x5728; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String firstname
  String lastname
}

<span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> Person()
<span class="hljs-keyword">if</span>(p.metaClass.respondsTo(p, <span class="hljs-string">&quot;getFirstname&quot;</span>)){
  println p.getFirstname()
}

p.foo()
<span class="hljs-string">ERROR:</span> groovy.lang.<span class="hljs-string">MissingMethodException:</span> No signature of <span class="hljs-string">method:</span>
  Person.foo() is applicable <span class="hljs-keyword">for</span> argument <span class="hljs-string">types:</span> () <span class="hljs-string">values:</span> {}
</code></pre>
<p>&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;10.3&#x8282;&#x4E2D;&#x6240;&#x505A;&#x7684;&#xFF0C;&#x68C0;&#x67E5;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5728;&#x7B2C;185&#x9875;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>MetaClass</code>&#x7684;<code>respondsTo</code>&#x65B9;&#x6CD5;&#x5728;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x52A8;&#x6001;&#x5730;&#x9A8C;&#x8BC1;&#x65B9;&#x6CD5;&#x7684;&#x5B58;&#x5728;&#x3002;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x5728;Groovy 1.5&#x4E2D;&#x6DFB;&#x52A0;&#x7684;&#x3002;</p>
<p><strong>Groovy 1.0</strong></p>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> list = p.<span class="hljs-keyword">class</span>.methods <span class="hljs-keyword">as</span> List
<span class="hljs-keyword">if</span>(list.contains(<span class="hljs-string">&quot;getFirstname&quot;</span>)){
  p.getFirstname()
}
</code></pre>
<p>&#x5BF9;&#x4E8E;Groovy 1.0&#x7528;&#x6237;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x67E5;&#x8BE2;&#x7C7B;&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#x6765;&#x5B8C;&#x6210;&#x76F8;&#x540C;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x7531;&#x4E8E;<code>getMethods()</code>&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x6240;&#x4EE5;&#x5C06;&#x5B83;&#x4F5C;&#x4E3A;&#x5217;&#x8868;&#x8FD4;&#x56DE;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B9;&#x4FBF;&#x7684;<code>contains()</code>&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x4F60;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x7528;&#x8FD9;&#x4E2A;?</strong>
&#x6211;&#x4EEC;&#x5728;&#x7B2C;47&#x9875;&#x7684;3.5&#x8282;(&#x53EF;&#x9009;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x58F0;&#x660E;(duck typing)&#x4E2D;&#x8BA8;&#x8BBA;&#x4E86;duck typing&#x3002;Java&#x662F;&#x4E00;&#x79CD;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x7C7B;&#x7684;&#x6240;&#x6709;&#x884C;&#x4E3A;&#x90FD;&#x662F;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x5B9A;&#x4E49;&#x7684;&#x3002;Groovy&#x662F;&#x4E00;&#x79CD;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6DFB;&#x52A0;&#x7C7B;&#x7F16;&#x8BD1;&#x65F6;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x884C;&#x4E3A;&#x3002;(&#x53C2;&#x89C1;&#x7B2C;10.8&#x8282;&#xFF0C;&#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;(invokeMethod)&#xFF0C;&#x5728;&#x7B2C;193&#x9875;&#x6709;&#x4E00;&#x4E2A;&#x8FD9;&#x6837;&#x7684;&#x4F8B;&#x5B50;&#x3002;)&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x6210;&#x4E3A;&#x9E2D;&#x5B50;(duck d = new duck())&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x50CF;&#x9E2D;&#x5B50;&#x4E00;&#x6837;&#x8D70;&#x8DEF;&#x548C;&#x560E;&#x560E;&#x53EB;(respondsTo(&quot;walk&quot;) &amp;&amp; respondsTo(&quot;quack&quot;))</p>
<p><strong>&#x68C0;&#x67E5;&#x91CD;&#x8F7D;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Greeting</span>{</span>
  <span class="hljs-keyword">def</span> sayHello(){
    println <span class="hljs-string">&quot;Hello, Stranger&quot;</span>
  }

  <span class="hljs-keyword">def</span> sayHello(String name){
    println <span class="hljs-string">&quot;Hello, ${name}&quot;</span>
  }
}

<span class="hljs-keyword">def</span> g = <span class="hljs-keyword">new</span> Greeting()
<span class="hljs-keyword">if</span>(g.metaClass.respondsTo(g, <span class="hljs-string">&quot;sayHello&quot;</span>, <span class="hljs-literal">null</span>)){
  g.sayHello()
}
===&gt; Hello, Stranger

<span class="hljs-keyword">if</span>(g.metaClass.respondsTo(g, <span class="hljs-string">&quot;sayHello&quot;</span>, String)){
  g.sayHello(<span class="hljs-string">&quot;Jane&quot;</span>)
}
===&gt; Hello, Jane

println <span class="hljs-string">&quot;Number of sayHello() methods: &quot;</span> +
g.metaClass.respondsTo(g, <span class="hljs-string">&quot;sayHello&quot;</span>).size()
===&gt; Number of sayHello() <span class="hljs-string">methods:</span> <span class="hljs-number">2</span>

g.metaClass.respondsTo(g, <span class="hljs-string">&quot;sayHello&quot;</span>).each{m -&gt;
  println <span class="hljs-string">&quot;${m.name} ${m.nativeParameterTypes}&quot;</span>
}
===&gt;
sayHello {<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">java</span>.<span class="hljs-title">lang</span>.<span class="hljs-title">String</span>}
<span class="hljs-title">sayHello</span> {</span>}
</code></pre>
<p>&#x5982;&#x679C;&#x60A8;&#x7684;&#x7C7B;&#x6709;&#x51E0;&#x4E2A;&#x91CD;&#x8F7D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x989D;&#x5916;&#x7684;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;respondsTo&#x65B9;&#x6CD5;&#x2014;&#x2014;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x6709;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x5982;&#x679C;&#x65B9;&#x6CD5;&#x4E0D;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x53C2;&#x6570;(&#x5982;sayHello())&#xFF0C;&#x5219;&#x4F20;&#x9012;null&#x4EE5;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x68C0;&#x67E5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x770B;&#x770B;&#x95EE;&#x5019;&#x8BED;&#x662F;&#x5426;&#x6709;&#x4E00;&#x4E2A;<code>sayHello(String name1, String name2)</code>&#x65B9;&#x6CD5;&#x5728;&#x4F60;&#x8C03;&#x7528;&#x5B83;&#x4E4B;&#x524D;&#xFF0C;&#x8BD5;&#x8BD5;&#x8FD9;&#x4E2A;:</p>
<pre><code class="lang-groovy"><span class="hljs-keyword">if</span>(g.metaClass.respondsTo(g, <span class="hljs-string">&quot;sayHello&quot;</span>, String, String)){
  g.sayHello(<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;Doe&quot;</span>)
}
</code></pre>
<p>&#x8FD9;&#x79CD;&#x6280;&#x672F;&#x6B63;&#x662F;JavaScript&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x591A;&#x5E74;&#x6765;&#x4E00;&#x76F4;&#x5728;&#x505A;&#x7684;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x4ED6;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x80FD;&#x591F;&#x8DE8;&#x4E0D;&#x540C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5DE5;&#x4F5C;&#x3002;</p>
<h3 id="10_6_Creating_a_Field_Pointer"><a name="10_6_Creating_a_Field_Pointer" class="anchor-navigation-ex-anchor" href="#10_6_Creating_a_Field_Pointer"><i class="fa fa-link" aria-hidden="true"></i></a>10.6 &#x521B;&#x5EFA;&#x5B57;&#x6BB5;&#x6307;&#x9488; </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String name

  String getName(){
    <span class="hljs-string">&quot;My name is ${name}&quot;</span>
  }
}

<span class="hljs-keyword">def</span> p = <span class="hljs-keyword">new</span> Person()
p.name = <span class="hljs-string">&quot;Jane&quot;</span>
println p.name
===&gt; My name is Jane
println p.<span class="hljs-meta">@name</span>
===&gt; Jane
</code></pre>
<p>&#x5F53;&#x60A8;&#x7F16;&#x5199;<code>p.name</code>&#x65F6;&#xFF0C;&#x5176;&#x5B9E;&#x60A8;&#x6B63;&#x5728;&#x8C03;&#x7528;<code>p.getName()</code>&#x3002; &#x5982;&#x679C;&#x8981;&#x7ED5;&#x8FC7;&#x5C01;&#x88C5;&#x5E76;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x8BE5;&#x5B57;&#x6BB5;&#xFF08;&#x5373;&#x4F7F;&#x5B83;&#x662F;&#x79C1;&#x6709;&#x7684;&#xFF01;&#xFF09;&#xFF0C;&#x53EA;&#x9700;&#x5728;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x524D;&#x52A0;&#x4E0A;<code>@</code>&#x524D;&#x7F00;&#x5373;&#x53EF;&#x3002; &#x4F8B;&#x5982;&#xFF1A;<code>p.@name</code>&#x3002; &#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x65F6;&#x5E94;&#x683C;&#x5916;&#x5C0F;&#x5FC3;-&#x6253;&#x7834;&#x5C01;&#x88C5;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x65F6;&#x5174;&#x8D77;&#x7684;&#x4E8B;&#x60C5;&#x3002; &#x5982;&#x679C;getter&#x6216;setter&#x9664;&#x4E86;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x4E4B;&#x5916;&#x8FD8;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x4EA7;&#x751F;&#x4E0D;&#x53EF;&#x9884;&#x6D4B;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="10_7_Creating_a_Method_Pointer"><a name="10_7_Creating_a_Method_Pointer" class="anchor-navigation-ex-anchor" href="#10_7_Creating_a_Method_Pointer"><i class="fa fa-link" aria-hidden="true"></i></a>10.7 &#x521B;&#x5EFA;&#x65B9;&#x6CD5;&#x6307;&#x9488; </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> list = []
<span class="hljs-keyword">def</span> insert = list.&amp;add
insert <span class="hljs-string">&quot;Java&quot;</span>
insert <span class="hljs-string">&quot;Groovy&quot;</span>
println list
===&gt; [<span class="hljs-string">&quot;Java&quot;</span>, <span class="hljs-string">&quot;Groovy&quot;</span>]
</code></pre>
<p>Groovy&#x5141;&#x8BB8;&#x60A8;&#x4F7F;&#x7528;<code>&amp;</code>&#x524D;&#x7F00;&#x521B;&#x5EFA;&#x6307;&#x5411;&#x65B9;&#x6CD5;&#x7684;&#x6307;&#x9488;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;insert&#x662F;<code>list.&amp;add()</code>&#x7684;&#x522B;&#x540D;&#x3002; &#x8FD9;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x57DF;&#x7279;&#x5B9A;&#x8BED;&#x8A00;&#x3002; Groovy&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x53EF;&#x9009;&#x7684;&#x62EC;&#x53F7;&#xFF08;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;3.3&#x8282;&#xFF0C;&#x53EF;&#x9009;&#x7684;&#x62EC;&#x53F7;&#xFF0C;&#x7B2C;44&#x9875;&#xFF09;&#x548C;&#x53EF;&#x9009;&#x7684;&#x5206;&#x53F7;&#xFF08;&#x8BF7;&#x53C2;&#x89C1;&#x7B2C;3.2&#x8282;&#xFF0C;&#x53EF;&#x9009;&#x7684;&#x5206;&#x53F7;&#xFF0C;&#x7B2C;42&#x9875;&#xFF09;&#xFF0C;&#x8FD9;&#x4E00;&#x4E8B;&#x5B9E;&#x4F7F;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x592A;&#x50CF;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x800C;&#x66F4;&#x50CF;&#x662F;&#x666E;&#x901A;&#x82F1;&#x8BED;&#x3002;</p>
<p>&#x5982;&#x679C;Groovy&#x65E0;&#x6CD5;&#x522B;&#x540D;&#x8C03;&#x7528;<code>System.out.println()</code>&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x6700;&#x559C;&#x6B22;&#x7684;Groovy&#x529F;&#x80FD;&#x4E4B;&#x4E00;<code>println &quot;Hello&quot;)</code>&#x5C06;&#x4E0D;&#x5B58;&#x5728;&#x3002; &#x6709;&#x5173;DSL&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;43&#x9875;&#x7684;&#x8FB9;&#x680F;&#x3002;</p>
<h3 id="10_8_Calling_Methods_That_Don_t_Exist_invokeMethod_"><a name="10_8_Calling_Methods_That_Don_t_Exist_invokeMethod_" class="anchor-navigation-ex-anchor" href="#10_8_Calling_Methods_That_Don_t_Exist_invokeMethod_"><i class="fa fa-link" aria-hidden="true"></i></a>10.8 &#x8C03;&#x7528;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65B9;&#x6CD5;(invokeMethod) </h3>
<pre><code class="lang-groovy"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span>{</span>
  String name
  Map relationships = [:]

  Object invokeMethod(String what, Object who){
    <span class="hljs-keyword">if</span>(relationships.containsKey(what)){
      who.each{thisPerson -&gt;
        relationships.get(what).add(thisPerson)
      }
    } <span class="hljs-keyword">else</span>{
      relationships.put(what,who <span class="hljs-keyword">as</span> List)
    }
  }
}

<span class="hljs-keyword">def</span> scott = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">name:</span><span class="hljs-string">&quot;Scott&quot;</span>)
scott.married <span class="hljs-string">&quot;Kim&quot;</span>
scott.knows <span class="hljs-string">&quot;Neal&quot;</span>
scott.workedWith <span class="hljs-string">&quot;Brian&quot;</span>
scott.knows <span class="hljs-string">&quot;Venkat&quot;</span>
scott.workedWith <span class="hljs-string">&quot;Jared&quot;</span>
scott.knows <span class="hljs-string">&quot;Ted&quot;</span>, <span class="hljs-string">&quot;Ben&quot;</span>, <span class="hljs-string">&quot;David&quot;</span>

println scott.relationships
===&gt;
[<span class="hljs-string">&quot;married&quot;</span>:[<span class="hljs-string">&quot;Kim&quot;</span>],
  <span class="hljs-string">&quot;knows&quot;</span>:[<span class="hljs-string">&quot;Neal&quot;</span>, <span class="hljs-string">&quot;Venkat&quot;</span>, <span class="hljs-string">&quot;Ted&quot;</span>, <span class="hljs-string">&quot;Ben&quot;</span>, <span class="hljs-string">&quot;David&quot;</span>],
  <span class="hljs-string">&quot;workedWith&quot;</span>:[<span class="hljs-string">&quot;Brian&quot;</span>, <span class="hljs-string">&quot;Jared&quot;</span>]]
</code></pre>
<p>&#x4F7F;&#x7528;<code>invokeMethod()</code>&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x4E86;&#x89E3;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x7684;&#x529F;&#x80FD;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x60A8;&#x5E0C;&#x671B;&#x5728;&#x4E0E;Person&#x7684;&#x5173;&#x7CFB;&#x5B9A;&#x4E49;&#x65B9;&#x9762;&#x5177;&#x6709;&#x5B8C;&#x5168;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002; &#x5982;&#x679C;&#x60A8;&#x60F3;&#x8BF4;<code>scott.likesToEatSushiWith &quot;Chris&quot;</code>&#xFF0C;&#x5219;&#x65E0;&#x9700;&#x521B;&#x5EFA;<code>likesToEatSushiWith())</code>&#x65B9;&#x6CD5;&#x5E76;&#x5C06;&#x5176;&#x9759;&#x6001;&#x7F16;&#x8BD1;&#x5230;&#x7C7B;&#x4E2D;&#x3002; &#x60A8;&#x5E0C;&#x671B;&#x80FD;&#x591F;&#x52A8;&#x6001;&#x521B;&#x5EFA;&#x65B0;&#x578B;&#x7684;&#x5173;&#x7CFB;&#x3002;</p>
<p>&#x5C3D;&#x7BA1;RelationshipsMap&#x53EF;&#x4EE5;&#x8BA9;&#x60A8;&#x7075;&#x6D3B;&#x5730;&#x5B58;&#x50A8;&#x4EFB;&#x610F;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#xFF0C;&#x4F46;&#x4E0D;&#x5F97;&#x4E0D;&#x7F16;&#x5199;<code>scott.put(&quot; onceWentRollerSkatingWith&quot;,&quot;Megan&quot;)</code>&#x4E0D;&#x5982;<code>scott.onceWentRollerSkatingWith &quot;Megan&quot;</code>&#x4F18;&#x96C5;&#x3002;</p>
<p><code>invokeMethod(String name,Object args)</code>&#x662F;Groovy&#x5143;&#x7F16;&#x7A0B;&#x7684;&#x6838;&#x5FC3;&#x3002; &#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x88AB;<code>invokeMethod</code>&#x62E6;&#x622A;&#x3002; <code>name</code>&#x53C2;&#x6570;&#x662F;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF08;married, knows, &#x548C; workedWith&#xFF09;&#x3002; <code>args</code>&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;Object&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x6355;&#x83B7;&#x6240;&#x6709;&#x540E;&#x7EED;&#x53C2;&#x6570;(Kim&#xFF0C;Neal&#x548C;Brian)&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;<code>invokeMethod()</code>&#xFF0C;&#x7B2C;116&#x9875;&#x7B2C;7&#x7AE0;&#x201C;&#x89E3;&#x6790;XML&#x201D;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684;&#x89E3;&#x6790;&#x5668;&#x6216;slurpers&#x90FD;&#x65E0;&#x6CD5;&#x50CF;&#x5B83;&#x4EEC;&#x90A3;&#x6837;&#x4F18;&#x96C5;&#x5730;&#x5DE5;&#x4F5C;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x60A8;&#x53EF;&#x4EE5;&#x50CF;&#x5728;&#x7236;&#x8282;&#x70B9;&#x4E0A;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x8C03;&#x7528;&#x5B50;XML&#x5143;&#x7D20;&#x3002; &#x3002;</p>
<h3 id="10_9_Creating_an_Expando"><a name="10_9_Creating_an_Expando" class="anchor-navigation-ex-anchor" href="#10_9_Creating_an_Expando"><i class="fa fa-link" aria-hidden="true"></i></a>10.9 &#x521B;&#x5EFA;&#x4E00;&#x4E2A;Expando </h3>
<pre><code class="lang-groovy"><span class="hljs-keyword">def</span> e = <span class="hljs-keyword">new</span> Expando()
e.<span class="hljs-keyword">class</span>
===&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">groovy</span>.<span class="hljs-title">util</span>.<span class="hljs-title">Expando</span>
<span class="hljs-title">e</span>.<span class="hljs-title">properties</span>
===&gt; {</span>}
e.<span class="hljs-keyword">class</span>.methods.name
===&gt; [invokeMethod, getMetaPropertyValues, hashCode, equals,
toString, setProperty, getProperty, getProperties, getMetaClass,
setMetaClass, getClass, wait, wait, wait, notify, notifyAll]
</code></pre>
<p>Expandos&#x662F;&#x597D;&#x5947;&#x7684;&#x5C0F;&#x52A8;&#x7269;&#x3002; &#x5B83;&#x4EEC;&#x662F;&#x7A7A;&#x767D;&#x72B6;&#x6001;&#xFF0C;&#x53EA;&#x662F;&#x7B49;&#x5F85;&#x60A8;&#x4E3A;&#x5B83;&#x4EEC;&#x9644;&#x52A0;&#x65B0;&#x5B57;&#x6BB5;&#x548C;&#x65B9;&#x6CD5;&#x7684;&#x5BF9;&#x8C61;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5728;&#x521B;&#x5EFA;&#x5B83;&#x4EEC;&#x4E4B;&#x540E;&#xFF0C;&#x5B83;&#x4EEC;&#x5C31;&#x6CA1;&#x6709;&#x5B57;&#x6BB5;&#x53EF;&#x8BF4;&#x4E86;&#xFF0C;&#x53EA;&#x6709;&#x5B83;&#x4EEC;&#x4ECE;<code>java.lang.Object</code>&#x548C;<code>groovy.lang.GroovyObject</code>&#x7EE7;&#x627F;&#x7684;&#x57FA;&#x672C;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x5B83;&#x4EEC;&#x6709;&#x4EC0;&#x4E48;&#x7528;&#xFF1F;</p>
<pre><code class="lang-groovy">e.latitude = <span class="hljs-number">70</span>
e.longitude = <span class="hljs-number">30</span>
println e
===&gt; {longitude=<span class="hljs-number">30</span>, latitude=<span class="hljs-number">70</span>}
</code></pre>
<p>Expandos&#x5C06;&#x795E;&#x5947;&#x5730;&#x6269;&#x5C55;&#x4EE5;&#x652F;&#x6301;&#x60A8;&#x9700;&#x8981;&#x7684;&#x4EFB;&#x4F55;&#x5B57;&#x6BB5;&#x3002; &#x60A8;&#x53EA;&#x9700;&#x5C06;&#x5B57;&#x6BB5;&#x9644;&#x52A0;&#x5230;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x60A8;&#x7684;expando&#x5C31;&#x5F00;&#x59CB;&#x6210;&#x5F62;&#x3002; &#xFF08;&#x8BF8;&#x5982;JavaScript&#x4E4B;&#x7C7B;&#x7684;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x5730;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#x3002;&#xFF09;</p>
<p>&#x90A3;&#x4E48;&#x65B9;&#x6CD5;&#x5462;?&#x53EA;&#x9700;&#x5411;expando&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x95ED;&#x5305;&#x3002;(&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x89C1;&#x7B2C;67&#x9875;3.17&#x8282;&#xFF0C;&#x95ED;&#x5305;&#x548C;&#x5757;&#x3002;)</p>
<pre><code class="lang-groovy">e.areWeLost = {-&gt;
  <span class="hljs-keyword">return</span> (e.longitude != <span class="hljs-number">30</span>) || (e.latitude != <span class="hljs-number">70</span>)
}

e.areWeLost()
===&gt; <span class="hljs-literal">false</span>

e.latitude = <span class="hljs-number">12</span>
e.areWeLost()
===&gt; <span class="hljs-literal">true</span>
</code></pre>
<p>&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;areWeLost&#x95ED;&#x5305;&#x4E0D;&#x63A5;&#x53D7;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x5355;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x95ED;&#x5305;&#x793A;&#x4F8B;:</p>
<pre><code class="lang-groovy">e.goNorth = { howMuch -&gt;
  e.latitude += howMuch
}

println e.latitude
===&gt; <span class="hljs-number">12</span>

e.goNorth(<span class="hljs-number">20</span>)
===&gt; <span class="hljs-number">32</span>
</code></pre>
<h3 id="10_10_Adding_Methods_to_a_Class_Dynamically_Categories_"><a name="10_10_Adding_Methods_to_a_Class_Dynamically_Categories_" class="anchor-navigation-ex-anchor" href="#10_10_Adding_Methods_to_a_Class_Dynamically_Categories_"><i class="fa fa-link" aria-hidden="true"></i></a>10.10 &#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;(Categories) </h3>
<pre><code class="lang-groovy">use(RandomHelper){
  <span class="hljs-number">15.</span>times{ println <span class="hljs-number">10.</span>rand() }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RandomHelper</span>{</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> rand(Integer self){
    <span class="hljs-keyword">def</span> r = <span class="hljs-keyword">new</span> Random()
    <span class="hljs-keyword">return</span> r.nextInt(self.intValue())
  }
}
===&gt; <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span> <span class="hljs-number">0</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">8</span> <span class="hljs-number">1</span>
</code></pre>
<p>Categories&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x5411;&#x4EFB;&#x4F55;&#x7C7B;&#x6DFB;&#x52A0;&#x65B0;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x539F;&#x59CB;&#x4F5C;&#x8005;&#x6240;&#x9057;&#x5FD8;&#x7684;&#x90A3;&#x4E9B;&#x7F3A;&#x5C11;&#x7684;&#x65B9;&#x6CD5;&#x2014;&#x5373;&#x4F7F;&#x60A8;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x539F;&#x59CB;&#x6E90;&#x4EE3;&#x7801;&#x3002;</p>
<p>&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5411;Integer&#x7C7B;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;<code>rand()</code>&#x65B9;&#x6CD5;&#x3002;&#x8C03;&#x7528;<code>10.rand()</code>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4ECE;0&#x5230;9&#x7684;&#x968F;&#x673A;&#x6570;&#x3002;&#x8C03;&#x7528;<code>100.rand()</code>&#x5728;0&#x5230;99&#x4E4B;&#x95F4;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x60A8;&#x660E;&#x767D;&#x4E86;&#x3002;<code>use</code>&#x5757;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;Integer&#x90FD;&#x5C06;&#x81EA;&#x52A8;&#x83B7;&#x5F97;&#x6B64;&#x65B9;&#x6CD5;&#x3002;use&#x5757;&#x4E4B;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x90FD;&#x4E0D;&#x53D7;&#x5F71;&#x54CD;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;RandomHelper&#x7C7B;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x7279;&#x522B;&#x7684;&#xFF0C;&#x5B83;&#x4E0D;&#x4F1A;&#x6269;&#x5C55;&#x4EFB;&#x4F55;&#x795E;&#x5947;&#x7684;&#x7236;&#x7C7B;&#x6216;&#x5B9E;&#x73B0;&#x7279;&#x6B8A;&#x7684;&#x63A5;&#x53E3;&#x3002; &#x552F;&#x4E00;&#x7684;&#x8981;&#x6C42;&#x662F;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x90FD;&#x5FC5;&#x987B;&#x63A5;&#x53D7;&#x81EA;&#x5DF1;&#xFF08;self&#xFF09;&#x7684;&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002; &#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x7C7B;&#x5728;Groovy&#x4E2D;&#x79F0;&#x4E3A;<code>category</code>&#x3002;</p>
<p>&#x4F7F;&#x7528;&#x7EAF;Java&#xFF0C;&#x7531;&#x4E8E;&#x591A;&#x79CD;&#x539F;&#x56E0;&#xFF0C;&#x60A8;&#x5C06;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x5411;<code>java.lang.Integer</code>&#x7C7B;&#x6DFB;&#x52A0;&#x65B0;&#x884C;&#x4E3A;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5C06;<code>rand()</code>&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x5230;Integer&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x5E76;&#x83B7;&#x5F97;&#x5E7F;&#x6CDB;&#x5206;&#x5E03;&#x7684;&#x673A;&#x4F1A;&#x975E;&#x5E38;&#x6E3A;&#x832B;&#x3002; &#xFF08;&#x201C;&#x563F;&#xFF0C;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x7684;Java&#xFF1F;&#x201D;  &#x201C;&#x5443;&#xFF0C;1.5&#x3002;Scott...&#x5728;&#x751F;&#x4EA7;&#x4E2D;&#x60A8;&#x4F7F;&#x7528;&#x591A;&#x5C11;&#x7248;&#x672C;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF1F;&#x201D;&#xFF09;</p>
<p>&#x6240;&#x4EE5;&#x4FEE;&#x6539;&#x6E90;&#x4EE3;&#x7801;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;&#x4E0B;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x6B65;&#x9AA4;&#x662F;&#x6269;&#x5C55;Integer&#xFF0C;&#x5BF9;&#x5427;?&#x5982;&#x679C;Integer&#x6CA1;&#x6709;&#x88AB;&#x58F0;&#x660E;&#x4E3A;final&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4F7F;&#x7528;&#x7EAF;Java&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;<code>com.mycompany.Integer</code>&#x7C7B;&#xFF0C;&#x5B83;&#x7528;&#x60A8;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x884C;&#x4E3A;&#x5305;&#x88C5;<code>Java.lang.integer</code>&#x3002;&#x8FD9;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x7531;&#x4E8E;Java&#x7684;&#x5F3A;&#x7C7B;&#x578B;&#xFF0C;&#x60A8;&#x4E0D;&#x80FD;&#x7528;&#x81EA;&#x5DF1;&#x7684;Integer&#x66FF;&#x6362;Sun&#x7684;Integer&#x3002;&#x8FD9;&#x4E2A;6&#x884C;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x770B;&#x8D77;&#x6765;&#x603B;&#x662F;&#x66F4;&#x597D;&#xFF0C;&#x4E0D;&#x662F;&#x5417;?</p>
<p><strong>&#x4E00;&#x4E2A;&#x7A0D;&#x5FAE;&#x9AD8;&#x7EA7;&#x7684;Category&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-groovy">use(InternetUtils){
  println <span class="hljs-string">&quot;http://localhost:8080/&quot;</span>.get()
  println <span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>.get(<span class="hljs-string">&quot;p=groovy&quot;</span>)

  <span class="hljs-keyword">def</span> params = [:]
  params.n = <span class="hljs-string">&quot;10&quot;</span>
  params.vl = <span class="hljs-string">&quot;lang_eng&quot;</span>
  params.p = <span class="hljs-string">&quot;groovy&quot;</span>
  println <span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>.get(params)
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InternetUtils</span>{</span>
  <span class="hljs-keyword">static</span> String get(String self){
    <span class="hljs-keyword">return</span> self.toURL().text
  }

  <span class="hljs-keyword">static</span> String get(String self, String queryString){
    <span class="hljs-keyword">def</span> url = self + <span class="hljs-string">&quot;?&quot;</span> + queryString
    <span class="hljs-keyword">return</span> url.get()
  }

  <span class="hljs-keyword">static</span> String get(String self, Map params){
    <span class="hljs-keyword">def</span> list = []
    params.each{k,v-&gt;
      list &lt;&lt; <span class="hljs-string">&quot;$k=&quot;</span> + URLEncoder.encode(v)
    }

    <span class="hljs-keyword">def</span> url = self + <span class="hljs-string">&quot;?&quot;</span> + list.join(<span class="hljs-string">&quot;&amp;&quot;</span>)
    <span class="hljs-keyword">return</span> url.get()
  }
}
</code></pre>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x4F60;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;InternetUtils&#x7C7B;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x65B0;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x4EFB;&#x4F55;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;URL&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x4E00;&#x4E2A;HTTP GET&#x8BF7;&#x6C42;&#xFF0C;&#x63A5;&#x53D7;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x91CD;&#x8F7D;get&#x65B9;&#x6CD5;&#x4E0D;&#x5E26;&#x53C2;&#x6570;&#x7684;get&#x65B9;&#x6CD5; &#xFF0C;&#x6700;&#x540E;&#x662F;&#x91CD;&#x8F7D;&#x7684;get&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4ECE;&#x53C2;&#x6570;hashmap&#x4E2D;&#x6784;&#x9020;&#x51FA;&#x683C;&#x5F0F;&#x6B63;&#x786E;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#xFF08;&#x6709;&#x5173;&#x4F7F;&#x7528;Groovy&#x7B80;&#x5316;HTTP GET&#x8BF7;&#x6C42;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#x7B2C;9.3&#x8282;&#xFF0C;&#x53D1;&#x51FA;HTTP GET&#x8BF7;&#x6C42;&#xFF0C;&#x7B2C;155&#x9875;&#x3002;&#xFF09;</p>
<p>&#x4F7F;&#x7528;&#x5757;&#x4F7F;&#x65B0;&#x529F;&#x80FD;&#x7684;&#x8303;&#x56F4;&#x7F29;&#x5C0F;&#x3002; &#x60A8;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x65B0;&#x65B9;&#x6CD5;&#x4F1A;&#x6F5C;&#x5165;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6240;&#x6709;Strings&#x4E2D;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x786E;&#x5B9E;&#x60F3;&#x5C06;&#x8FD9;&#x4E9B;&#x65B0;&#x65B9;&#x6CD5;&#x5168;&#x5C40;&#x5730;&#x5E94;&#x7528;&#x4E8E;&#x6240;&#x6709;String&#xFF0C;&#x8BF7;&#x53C2;&#x89C1;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x7B2C;10.11&#x8282;&#xFF0C;&#x5C06;&#x65B9;&#x6CD5;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x5230;&#x7C7B;&#xFF08;ExpandoMetaClass&#xFF09;&#x3002;</p>
<p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x5757;&#x4E2D;&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;categories &#x3002; &#x53EA;&#x9700;&#x5C06;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x5217;&#x8868;&#x4F20;&#x9012;&#x7ED9;use&#x5757;&#xFF1A;</p>
<pre><code class="lang-groovy">use(RandomHelper, InternetUtils, SomeOtherCategory) { ... }
</code></pre>
<p>Categories are just as useful in Java as they are in Groovy. (Sorry, I couldn&#x2019;t resist the pun.) InternetUtils is a pretty handy class to have around in either language. There is nothing that explicitly ties it to Groovy. The use block, of course, is pure Groovy syntactic sugar, but the Category class can be used anywhere you need it in either language.</p>
<p>Mixing in new functionality to any class is now at your fingertips. Once you get hooked on this new programming paradigm, you&#x2019;ll wonder how you ever lived without it. (See Section 8.14, Parsing Complex CSV, on page 149 for another example of categories in action.)</p>
<h3 id="1011-adding-methods-to-a-class-dynamically-expandometaclass-&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;expandometaclass&#xFF09;"><a name="1011-adding-methods-to-a-class-dynamically-expandometaclass-&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;expandometaclass&#xFF09;" class="anchor-navigation-ex-anchor" href="#1011-adding-methods-to-a-class-dynamically-expandometaclass-&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;expandometaclass&#xFF09;"><i class="fa fa-link" aria-hidden="true"></i></a>10.11 Adding Methods to a Class Dynamically (ExpandoMetaClass) {&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#xFF08;ExpandoMetaClass&#xFF09;}</h3>
<pre><code class="lang-groovy">Integer.metaClass.rand = {-&gt;
  <span class="hljs-keyword">def</span> r = <span class="hljs-keyword">new</span> Random()
  <span class="hljs-keyword">return</span> r.nextInt(delegate.intValue())
}

<span class="hljs-number">15.</span>times{ println <span class="hljs-number">10.</span>rand() }
===&gt; <span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-number">8</span> <span class="hljs-number">7</span> <span class="hljs-number">2</span> <span class="hljs-number">9</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span> <span class="hljs-number">0</span> <span class="hljs-number">9</span> <span class="hljs-number">9</span> <span class="hljs-number">0</span> <span class="hljs-number">8</span>
</code></pre>
<p>&#x5728;&#x7B2C;10.2&#x8282;Groovy&#x7684;MetaClass&#x5B57;&#x6BB5;&#xFF08;&#x7B2C;184&#x9875;&#xFF09;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x5230;Groovy&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x7C7B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;MetaClass&#x3002; &#x5728;&#x7B2C;194&#x9875;&#x7684;10.9&#x8282;&#xFF0C;&#x521B;&#x5EFA;Expando&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x4E86;&#x53EF;&#x5EF6;&#x5C55;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x6DFB;&#x52A0;&#x65B0;&#x65B9;&#x6CD5;&#x3002; ExpandoMetaClass&#x7C7B;&#x7ED3;&#x5408;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;-&#x6BCF;&#x4E2A;&#x7C7B;&#x7684;MetaClass&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x50CF;Expando&#x4E00;&#x6837;&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;rand()&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5230;Integer&#x7684;MetaClass&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x6240;&#x6709;Integer&#x73B0;&#x5728;&#x90FD;&#x5177;&#x6709;rand()&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x5F53;&#x4F7F;&#x7528;categories(&#x5982;&#x7B2C;10.10&#x8282;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#xFF0C;&#x5728;&#x7B2C;196&#x9875;&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;(categories))&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;<code>self</code>&#x53C2;&#x6570;&#x3002;&#x5728;&#x4F7F;&#x7528;ExpandoMetaClass&#x65F6;&#xFF0C;delegate&#x5145;&#x5F53;&#x6B64;&#x89D2;&#x8272;&#x3002;&#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x5143;&#x7C7B;&#x59D4;&#x6258;&#xFF0C;&#x5B83;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E86;&#x94FE;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7C7B;&#x3002;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x5BF9;&#x59D4;&#x6258;&#x7684;&#x8C03;&#x7528;&#x4E3A;10&#x3002;</p>
<p><strong>&#x4E00;&#x4E2A;&#x7A0D;&#x5FAE;&#x9AD8;&#x7EA7;&#x4E00;&#x70B9;&#x7684;ExpandoMetaClass&#x793A;&#x4F8B;</strong></p>
<pre><code class="lang-groovy">String.metaClass.get = {-&gt;
  <span class="hljs-keyword">return</span> delegate.toURL().text
}

String.metaClass.get = {String queryString -&gt;
  <span class="hljs-keyword">def</span> url = delegate + <span class="hljs-string">&quot;?&quot;</span> + queryString
  <span class="hljs-keyword">return</span> url.get()
}

String.metaClass.get = {Map params -&gt;
  <span class="hljs-keyword">def</span> list = []
  params.each{k,v-&gt;
    list &lt;&lt; <span class="hljs-string">&quot;$k=&quot;</span> + URLEncoder.encode(v)
  }

  <span class="hljs-keyword">def</span> url = delegate + <span class="hljs-string">&quot;?&quot;</span> + list.join(<span class="hljs-string">&quot;&amp;&quot;</span>)
  <span class="hljs-keyword">return</span> url.get()
}

println <span class="hljs-string">&quot;http://localhost:8080/&quot;</span>.get()
println <span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>.get(<span class="hljs-string">&quot;p=groovy&quot;</span>)

<span class="hljs-keyword">def</span> params = [:]
params.n = <span class="hljs-string">&quot;10&quot;</span>
params.vl = <span class="hljs-string">&quot;lang_eng&quot;</span>
params.p = <span class="hljs-string">&quot;groovy&quot;</span>
println <span class="hljs-string">&quot;http://search.yahoo.com/search&quot;</span>.get(params)
</code></pre>
<p>&#x5C31;&#x529F;&#x80FD;&#x800C;&#x8A00;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#x4E0E;&#x7B2C;10.10&#x8282;&#x4E2D;&#x7684;&#x793A;&#x4F8B;&#x76F8;&#x540C;&#xFF0C;&#x5373;&#x5728;&#x7B2C;196&#x9875;&#x52A8;&#x6001;&#x5730;&#x5411;&#x7C7B;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;(Categories)&#x3002;&#x5728;&#x5B9E;&#x73B0;&#x65B9;&#x9762;&#xFF0C;&#x60A8;&#x6240;&#x9762;&#x5BF9;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x57FA;&#x4E8E;Groovy&#x8BED;&#x6CD5;&#x548C;&#x4E60;&#x60EF;&#x7528;&#x6CD5;&#x7684;&#x3002;self&#x5F15;&#x7528;&#x90FD;&#x5DF2;&#x66F4;&#x6539;&#x4E3A;delegate&#x3002;&#x95ED;&#x5305;&#x4E0E;&#x5206;&#x7EC4;&#x5728;category&#x7C7B;&#x4E2D;&#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x4E0D;&#x540C;&#x3002;</p>
<p>&#x90A3;&#x4E48;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;category&#x8FD8;&#x662F;ExpandoMetaClass?&#x7B54;&#x6848;&#x662F;&#x201C;&#x89C6;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002;&#x201D;(&#x8FD9;&#x96BE;&#x9053;&#x4E0D;&#x603B;&#x662F;&#x7B54;&#x6848;&#x5417;?)&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;&#x5C06;&#x65B0;&#x65B9;&#x6CD5;&#x7684;&#x8303;&#x56F4;&#x9650;&#x5236;&#x5728;&#x5B9A;&#x4E49;&#x826F;&#x597D;&#x7684;&#x4EE3;&#x7801;&#x5757;&#x5185;&#xFF0C;&#x90A3;&#x4E48;category &#x662F;&#x6700;&#x7406;&#x60F3;&#x7684;&#x3002;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5C06;&#x65B0;&#x65B9;&#x6CD5;&#x5E94;&#x7528;&#x4E8E;&#x6574;&#x4E2A;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#xFF0C;&#x5219;&#x6700;&#x597D;&#x4F7F;&#x7528;ExpandoMetaClass&#x3002;&#x5982;&#x679C;&#x60A8;&#x5E0C;&#x671B;Java&#x548C;Groovy&#x4EE3;&#x7801;&#x80FD;&#x591F;&#x8F7B;&#x677E;&#x5730;&#x5171;&#x4EAB;&#x65B0;&#x529F;&#x80FD;&#xFF0C;&#x90A3;&#x4E48;category&#x5C31;&#x7559;&#x7ED9;&#x60A8;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x7684;&#x666E;&#x901A;&#x65E7;Java&#x7C7B;&#x3002;ExpandoMetaclass&#x4E0E;Groovy&#x7684;&#x8054;&#x7CFB;&#x66F4;&#x7D27;&#x5BC6;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x7684;&#x6027;&#x80FD;&#x4E5F;&#x660E;&#x663E;&#x66F4;&#x597D;&#x3002;</p>
<blockquote id="fn_11">
<sup>11</sup>. <a href="http://www.robert-tolksdorf.de/vmlanguages.html" target="_blank">http://www.robert-tolksdorf.de/vmlanguages.html</a><a href="#reffn_11" title="Jump back to footnote [11] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_12">
<sup>12</sup>. <a href="http://jruby.codehaus.org/" target="_blank">http://jruby.codehaus.org/</a><a href="#reffn_12" title="Jump back to footnote [12] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_13">
<sup>13</sup>. <a href="http://www.jython.org/" target="_blank">http://www.jython.org/</a><a href="#reffn_13" title="Jump back to footnote [13] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_14">
<sup>14</sup>. <a href="http://radio.weblogs.com/0112098/2003/08/29.html" target="_blank">http://radio.weblogs.com/0112098/2003/08/29.html</a><a href="#reffn_14" title="Jump back to footnote [14] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_31">
<sup>31</sup>. <a href="http://en.wikipedia.org/wiki/Indent_style" target="_blank">http://en.wikipedia.org/wiki/Indent_style</a><a href="#reffn_31" title="Jump back to footnote [31] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_32">
<sup>32</sup>. <a href="http://en.wikipedia.org/wiki/Editor_war" target="_blank">http://en.wikipedia.org/wiki/Editor_war</a><a href="#reffn_32" title="Jump back to footnote [32] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_33">
<sup>33</sup>. <a href="http://en.wikipedia.org/wiki/I_know_it_when_I_see_it" target="_blank">http://en.wikipedia.org/wiki/I_know_it_when_I_see_it</a><a href="#reffn_33" title="Jump back to footnote [33] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_35">
<sup>35</sup>. <a href="http://en.wikipedia.org/wiki/Duck_typing" target="_blank">http://en.wikipedia.org/wiki/Duck_typing</a><a href="#reffn_35" title="Jump back to footnote [35] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_37">
<sup>37</sup>. <a href="http://groovy.codehaus.org/groovy-jdk/" target="_blank">http://groovy.codehaus.org/groovy-jdk/</a><a href="#reffn_37" title="Jump back to footnote [37] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_312">
<sup>312</sup>. <a href="http://en.wikipedia.org/wiki/Heredoc" target="_blank">http://en.wikipedia.org/wiki/Heredoc</a><a href="#reffn_312" title="Jump back to footnote [312] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_317">
<sup>317</sup>. <a href="http://en.wikipedia.org/wiki/Closure_%28computer_science%29" target="_blank">http://en.wikipedia.org/wiki/Closure_%28computer_science%29</a><a href="#reffn_317" title="Jump back to footnote [317] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_318">
<sup>318</sup>. <a href="http://en.wikipedia.org/wiki/Functional_programming" target="_blank">http://en.wikipedia.org/wiki/Functional_programming</a><a href="#reffn_318" title="Jump back to footnote [318] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_411">
<sup>411</sup>. <a href="http://gcc.gnu.org/" target="_blank">http://gcc.gnu.org/</a><a href="#reffn_411" title="Jump back to footnote [411] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_502">
<sup>502</sup>. <a href="http://www.cygwin.com/" target="_blank">http://www.cygwin.com/</a><a href="#reffn_502" title="Jump back to footnote [502] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_508">
<sup>508</sup>. <a href="http://tomcat.apache.org/tomcat-6.0-doc/realm-howto.html" target="_blank">http://tomcat.apache.org/tomcat-6.0-doc/realm-howto.html</a><a href="#reffn_508" title="Jump back to footnote [508] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_601">
<sup>601</sup>. <a href="http://groovy.codehaus.org/groovy-jdk.html" target="_blank">http://groovy.codehaus.org/groovy-jdk.html</a><a href="#reffn_601" title="Jump back to footnote [601] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_602">
<sup>602</sup>. <a href="http://www.gutenberg.org/dirs/etext98/2ws1610.txt" target="_blank">http://www.gutenberg.org/dirs/etext98/2ws1610.txt</a><a href="#reffn_602" title="Jump back to footnote [602] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_605">
<sup>605</sup>. <a href="http://ant.apache.org/manual/index.html" target="_blank">http://ant.apache.org/manual/index.html</a><a href="#reffn_605" title="Jump back to footnote [605] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_71">
<sup>71</sup>. <a href="http://en.wikipedia.org/wiki/Xpath" target="_blank">http://en.wikipedia.org/wiki/Xpath</a><a href="#reffn_71" title="Jump back to footnote [71] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_72">
<sup>72</sup>. <a href="http://en.wikipedia.org/wiki/JAXB" target="_blank">http://en.wikipedia.org/wiki/JAXB</a><a href="#reffn_72" title="Jump back to footnote [72] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_73">
<sup>73</sup>. <a href="http://castor.org" target="_blank">http://castor.org</a><a href="#reffn_73" title="Jump back to footnote [73] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_77">
<sup>77</sup>. <a href="http://en.wikipedia.org/wiki/Leaky_abstraction" target="_blank">http://en.wikipedia.org/wiki/Leaky_abstraction</a><a href="#reffn_77" title="Jump back to footnote [77] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_710">
<sup>710</sup>. <a href="http://castor.org" target="_blank">http://castor.org</a><a href="#reffn_710" title="Jump back to footnote [710] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_851">
<sup>851</sup>. <a href="http://tidy.sourceforge.net/" target="_blank">http://tidy.sourceforge.net/</a><a href="#reffn_851" title="Jump back to footnote [851] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_852">
<sup>852</sup>. <a href="http://jtidy.sourceforge.net/" target="_blank">http://jtidy.sourceforge.net/</a><a href="#reffn_852" title="Jump back to footnote [852] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_810">
<sup>810</sup>. <a href="http://en.wikipedia.org/wiki/CDATA" target="_blank">http://en.wikipedia.org/wiki/CDATA</a><a href="#reffn_810" title="Jump back to footnote [810] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_901">
<sup>901</sup>. <a href="http://en.wikipedia.org/wiki/Procedural_programming" target="_blank">http://en.wikipedia.org/wiki/Procedural_programming</a><a href="#reffn_901" title="Jump back to footnote [901] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_902">
<sup>902</sup>. <a href="http://jakarta.apache.org/httpcomponents/httpcomponents-client" target="_blank">http://jakarta.apache.org/httpcomponents/httpcomponents-client</a><a href="#reffn_902" title="Jump back to footnote [902] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_903">
<sup>903</sup>. <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer" target="_blank">http://en.wikipedia.org/wiki/Representational_State_Transfer</a><a href="#reffn_903" title="Jump back to footnote [903] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_904">
<sup>904</sup>. <a href="http://developer.yahoo.com/search/web/V1/webSearch.html" target="_blank">http://developer.yahoo.com/search/web/V1/webSearch.html</a><a href="#reffn_904" title="Jump back to footnote [904] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_905">
<sup>905</sup>. <a href="http://www.programmableweb.com/" target="_blank">http://www.programmableweb.com/</a><a href="#reffn_905" title="Jump back to footnote [905] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_906">
<sup>906</sup>. <a href="http://en.wikipedia.org/wiki/Urlencode" target="_blank">http://en.wikipedia.org/wiki/Urlencode</a><a href="#reffn_906" title="Jump back to footnote [906] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_907">
<sup>907</sup>. <a href="http://en.wikipedia.org/wiki/Create%2C_read%2C_update_and_delete" target="_blank">http://en.wikipedia.org/wiki/Create%2C_read%2C_update_and_delete</a><a href="#reffn_907" title="Jump back to footnote [907] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_908">
<sup>908</sup>. <a href="http://en.wikipedia.org/wiki/Atom_%28standard%29" target="_blank">http://en.wikipedia.org/wiki/Atom_%28standard%29</a><a href="#reffn_908" title="Jump back to footnote [908] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_909">
<sup>909</sup>. <a href="http://code.google.com/apis/gdata/" target="_blank">http://code.google.com/apis/gdata/</a><a href="#reffn_909" title="Jump back to footnote [909] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_1001">
<sup>1001</sup>. <a href="http://en.wikipedia.org/wiki/Metaprogramming" target="_blank">http://en.wikipedia.org/wiki/Metaprogramming</a><a href="#reffn_1001" title="Jump back to footnote [1001] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_1002">
<sup>1002</sup>. <a href="http://en.wikipedia.org/wiki/Reflection_%28computer_science%29" target="_blank">http://en.wikipedia.org/wiki/Reflection_%28computer_science%29</a><a href="#reffn_1002" title="Jump back to footnote [1002] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_1003">
<sup>1003</sup>. <a href="http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredFields(" target="_blank">http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getDeclaredFields(</a>)<a href="#reffn_1003" title="Jump back to footnote [1003] in the text."> &#x21A9;</a>
</blockquote>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; WS 2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-11-11 14:36:50
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 前言">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Groovy_Recipes_ch.html#1_1_Groovy__the_Way_Java_Should_Be" class="navigation navigation-next " aria-label="Next page:  1.1 Groovy, Java应该是这样的">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":" 第1章 介绍","level":"2.1","depth":1,"next":{"title":" 1.1 Groovy, Java应该是这样的","level":"2.1.1","depth":2,"anchor":"#1_1_Groovy__the_Way_Java_Should_Be","path":"Groovy_Recipes_ch.md","ref":"Groovy_Recipes_ch.md#1_1_Groovy__the_Way_Java_Should_Be","articles":[]},"previous":{"title":"前言","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github@^2.0.0","edit-link@^2.0.2","anchors@^0.7.1","include-codeblock@^3.0.2","splitter@^0.0.8","tbfed-pagefooter@^0.0.1","expandable-chapters-small@^0.1.7","anchor-navigation-ex@0.1.8","book-summary-scroll-position-saver","-lunr","-search","search-plus"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © WS 2019","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/wjw465150/GeodeUserGuide"},"book-summary-scroll-position-saver":{},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"isRewritePageTitle":false,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right"},"expandable-chapters-small":{},"include-codeblock":{"check":false,"edit":true,"fixlang":false,"lang":"","template":"ace","theme":"chrome","unindent":true},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"编辑此页面","base":"https://github.com/wjw465150/GeodeUserGuide/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{},"search-plus":{}},"theme":"default","author":"WS","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Groovy_Recipes(Groovy食谱)","language":"zh-hans","gitbook":"*","description":"Groovy_Recipes(Groovy食谱)"},"file":{"path":"Groovy_Recipes_ch.md","mtime":"2019-11-11T06:36:50.007Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-13T06:45:09.892Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-book-summary-scroll-position-saver/book-summary-scroll-position-saver.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

